(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var um={exports:{}},zo={};var vv;function gS(){if(vv)return zo;vv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:a,type:r,key:h,ref:l!==void 0?l:null,props:u}}return zo.Fragment=t,zo.jsx=n,zo.jsxs=n,zo}var Ev;function pS(){return Ev||(Ev=1,um.exports=gS()),um.exports}var G=pS(),cm={exports:{}},Rt={};var Tv;function yS(){if(Tv)return Rt;Tv=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,et={};function pt(M,Z,at){this.props=M,this.context=Z,this.refs=et,this.updater=at||$}pt.prototype.isReactComponent={},pt.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},pt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function gt(){}gt.prototype=pt.prototype;function ot(M,Z,at){this.props=M,this.context=Z,this.refs=et,this.updater=at||$}var bt=ot.prototype=new gt;bt.constructor=ot,W(bt,pt.prototype),bt.isPureReactComponent=!0;var It=Array.isArray;function ct(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(M,Z,at){var k=at.ref;return{$$typeof:a,type:M,key:Z,ref:k!==void 0?k:null,props:at}}function N(M,Z){return C(M.type,Z,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function z(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(at){return Z[at]})}var w=/\/+/g;function se(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):Z.toString(36)}function pe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ct,ct):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,Z,at,k,nt){var Et=typeof M;(Et==="undefined"||Et==="boolean")&&(M=null);var Tt=!1;if(M===null)Tt=!0;else switch(Et){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(M.$$typeof){case a:case t:Tt=!0;break;case T:return Tt=M._init,K(Tt(M._payload),Z,at,k,nt)}}if(Tt)return nt=nt(M),Tt=k===""?"."+se(M,0):k,It(nt)?(at="",Tt!=null&&(at=Tt.replace(w,"$&/")+"/"),K(nt,Z,at,"",function(Te){return Te})):nt!=null&&(V(nt)&&(nt=N(nt,at+(nt.key==null||M&&M.key===nt.key?"":(""+nt.key).replace(w,"$&/")+"/")+Tt)),Z.push(nt)),1;Tt=0;var Qt=k===""?".":k+":";if(It(M))for(var wt=0;wt<M.length;wt++)k=M[wt],Et=Qt+se(k,wt),Tt+=K(k,Z,at,Et,nt);else if(wt=q(M),typeof wt=="function")for(M=wt.call(M),wt=0;!(k=M.next()).done;)k=k.value,Et=Qt+se(k,wt++),Tt+=K(k,Z,at,Et,nt);else if(Et==="object"){if(typeof M.then=="function")return K(pe(M),Z,at,k,nt);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function st(M,Z,at){if(M==null)return M;var k=[],nt=0;return K(M,k,"","",function(Et){return Z.call(at,Et,nt++)}),k}function mt(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(at){(M._status===0||M._status===-1)&&(M._status=1,M._result=at)},function(at){(M._status===0||M._status===-1)&&(M._status=2,M._result=at)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var Ot=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ft={map:st,forEach:function(M,Z,at){st(M,function(){Z.apply(this,arguments)},at)},count:function(M){var Z=0;return st(M,function(){Z++}),Z},toArray:function(M){return st(M,function(Z){return Z})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Rt.Activity=S,Rt.Children=Ft,Rt.Component=pt,Rt.Fragment=n,Rt.Profiler=l,Rt.PureComponent=ot,Rt.StrictMode=r,Rt.Suspense=g,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(M,Z,at){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var k=W({},M.props),nt=M.key;if(Z!=null)for(Et in Z.key!==void 0&&(nt=""+Z.key),Z)!b.call(Z,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&Z.ref===void 0||(k[Et]=Z[Et]);var Et=arguments.length-2;if(Et===1)k.children=at;else if(1<Et){for(var Tt=Array(Et),Qt=0;Qt<Et;Qt++)Tt[Qt]=arguments[Qt+2];k.children=Tt}return C(M.type,nt,k)},Rt.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Rt.createElement=function(M,Z,at){var k,nt={},Et=null;if(Z!=null)for(k in Z.key!==void 0&&(Et=""+Z.key),Z)b.call(Z,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(nt[k]=Z[k]);var Tt=arguments.length-2;if(Tt===1)nt.children=at;else if(1<Tt){for(var Qt=Array(Tt),wt=0;wt<Tt;wt++)Qt[wt]=arguments[wt+2];nt.children=Qt}if(M&&M.defaultProps)for(k in Tt=M.defaultProps,Tt)nt[k]===void 0&&(nt[k]=Tt[k]);return C(M,Et,nt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:m,render:M}},Rt.isValidElement=V,Rt.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:mt}},Rt.memo=function(M,Z){return{$$typeof:y,type:M,compare:Z===void 0?null:Z}},Rt.startTransition=function(M){var Z=I.T,at={};I.T=at;try{var k=M(),nt=I.S;nt!==null&&nt(at,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(ct,Ot)}catch(Et){Ot(Et)}finally{Z!==null&&at.types!==null&&(Z.types=at.types),I.T=Z}},Rt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Rt.use=function(M){return I.H.use(M)},Rt.useActionState=function(M,Z,at){return I.H.useActionState(M,Z,at)},Rt.useCallback=function(M,Z){return I.H.useCallback(M,Z)},Rt.useContext=function(M){return I.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,Z){return I.H.useDeferredValue(M,Z)},Rt.useEffect=function(M,Z){return I.H.useEffect(M,Z)},Rt.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Rt.useId=function(){return I.H.useId()},Rt.useImperativeHandle=function(M,Z,at){return I.H.useImperativeHandle(M,Z,at)},Rt.useInsertionEffect=function(M,Z){return I.H.useInsertionEffect(M,Z)},Rt.useLayoutEffect=function(M,Z){return I.H.useLayoutEffect(M,Z)},Rt.useMemo=function(M,Z){return I.H.useMemo(M,Z)},Rt.useOptimistic=function(M,Z){return I.H.useOptimistic(M,Z)},Rt.useReducer=function(M,Z,at){return I.H.useReducer(M,Z,at)},Rt.useRef=function(M){return I.H.useRef(M)},Rt.useState=function(M){return I.H.useState(M)},Rt.useSyncExternalStore=function(M,Z,at){return I.H.useSyncExternalStore(M,Z,at)},Rt.useTransition=function(){return I.H.useTransition()},Rt.version="19.2.4",Rt}var Av;function sg(){return Av||(Av=1,cm.exports=yS()),cm.exports}var Xe=sg(),hm={exports:{}},Po={},fm={exports:{}},dm={};var Sv;function _S(){return Sv||(Sv=1,(function(a){function t(K,st){var mt=K.length;K.push(st);t:for(;0<mt;){var Ot=mt-1>>>1,Ft=K[Ot];if(0<l(Ft,st))K[Ot]=st,K[mt]=Ft,mt=Ot;else break t}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var st=K[0],mt=K.pop();if(mt!==st){K[0]=mt;t:for(var Ot=0,Ft=K.length,M=Ft>>>1;Ot<M;){var Z=2*(Ot+1)-1,at=K[Z],k=Z+1,nt=K[k];if(0>l(at,mt))k<Ft&&0>l(nt,at)?(K[Ot]=nt,K[k]=mt,Ot=k):(K[Ot]=at,K[Z]=mt,Ot=Z);else if(k<Ft&&0>l(nt,mt))K[Ot]=nt,K[k]=mt,Ot=k;else break t}}return st}function l(K,st){var mt=K.sortIndex-st.sortIndex;return mt!==0?mt:K.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var g=[],y=[],T=1,S=null,R=3,q=!1,$=!1,W=!1,et=!1,pt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function bt(K){for(var st=n(y);st!==null;){if(st.callback===null)r(y);else if(st.startTime<=K)r(y),st.sortIndex=st.expirationTime,t(g,st);else break;st=n(y)}}function It(K){if(W=!1,bt(K),!$)if(n(g)!==null)$=!0,ct||(ct=!0,z());else{var st=n(y);st!==null&&pe(It,st.startTime-K)}}var ct=!1,I=-1,b=5,C=-1;function N(){return et?!0:!(a.unstable_now()-C<b)}function V(){if(et=!1,ct){var K=a.unstable_now();C=K;var st=!0;try{t:{$=!1,W&&(W=!1,gt(I),I=-1),q=!0;var mt=R;try{e:{for(bt(K),S=n(g);S!==null&&!(S.expirationTime>K&&N());){var Ot=S.callback;if(typeof Ot=="function"){S.callback=null,R=S.priorityLevel;var Ft=Ot(S.expirationTime<=K);if(K=a.unstable_now(),typeof Ft=="function"){S.callback=Ft,bt(K),st=!0;break e}S===n(g)&&r(g),bt(K)}else r(g);S=n(g)}if(S!==null)st=!0;else{var M=n(y);M!==null&&pe(It,M.startTime-K),st=!1}}break t}finally{S=null,R=mt,q=!1}st=void 0}}finally{st?z():ct=!1}}}var z;if(typeof ot=="function")z=function(){ot(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,se=w.port2;w.port1.onmessage=V,z=function(){se.postMessage(null)}}else z=function(){pt(V,0)};function pe(K,st){I=pt(function(){K(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_next=function(K){switch(R){case 1:case 2:case 3:var st=3;break;default:st=R}var mt=R;R=st;try{return K()}finally{R=mt}},a.unstable_requestPaint=function(){et=!0},a.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var mt=R;R=K;try{return st()}finally{R=mt}},a.unstable_scheduleCallback=function(K,st,mt){var Ot=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ot+mt:Ot):mt=Ot,K){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=mt+Ft,K={id:T++,callback:st,priorityLevel:K,startTime:mt,expirationTime:Ft,sortIndex:-1},mt>Ot?(K.sortIndex=mt,t(y,K),n(g)===null&&K===n(y)&&(W?(gt(I),I=-1):W=!0,pe(It,mt-Ot))):(K.sortIndex=Ft,t(g,K),$||q||($=!0,ct||(ct=!0,z()))),K},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(K){var st=R;return function(){var mt=R;R=st;try{return K.apply(this,arguments)}finally{R=mt}}}})(dm)),dm}var bv;function vS(){return bv||(bv=1,fm.exports=_S()),fm.exports}var mm={exports:{}},$e={};var Iv;function ES(){if(Iv)return $e;Iv=1;var a=sg();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:y,implementation:T}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,T)},$e.flushSync=function(g){var y=h.T,T=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=y,r.p=T,r.d.f()}},$e.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},$e.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$e.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:q}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},$e.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},$e.requestFormReset=function(g){r.d.r(g)},$e.unstable_batchedUpdates=function(g,y){return g(y)},$e.useFormState=function(g,y,T){return h.H.useFormState(g,y,T)},$e.useFormStatus=function(){return h.H.useHostTransitionStatus()},$e.version="19.2.4",$e}var Rv;function TS(){if(Rv)return mm.exports;Rv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),mm.exports=ES(),mm.exports}var wv;function AS(){if(wv)return Po;wv=1;var a=vS(),t=sg(),n=TS();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var s=e,o=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){s=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return g(f),e;if(d===o)return g(f),i;d=d.sibling}throw Error(r(188))}if(s.return!==o.return)s=f,o=d;else{for(var _=!1,E=f.child;E;){if(E===s){_=!0,s=f,o=d;break}if(E===o){_=!0,o=f,s=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===s){_=!0,s=d,o=f;break}if(E===o){_=!0,o=d,s=f;break}E=E.sibling}if(!_)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case pt:return"Profiler";case et:return"StrictMode";case It:return"Suspense";case ct:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ot:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case bt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:se(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return se(e(i))}catch{}}return null}var pe=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Ot=[],Ft=-1;function M(e){return{current:e}}function Z(e){0>Ft||(e.current=Ot[Ft],Ot[Ft]=null,Ft--)}function at(e,i){Ft++,Ot[Ft]=e.current,e.current=i}var k=M(null),nt=M(null),Et=M(null),Tt=M(null);function Qt(e,i){switch(at(Et,i),at(nt,e),at(k,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?q_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=q_(i),e=F_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(k),at(k,e)}function wt(){Z(k),Z(nt),Z(Et)}function Te(e){e.memoizedState!==null&&at(Tt,e);var i=k.current,s=F_(i,e.type);i!==s&&(at(nt,e),at(k,s))}function vn(e){nt.current===e&&(Z(k),Z(nt)),Tt.current===e&&(Z(Tt),xo._currentValue=mt)}var ze,Yn;function ui(e){if(ze===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);ze=i&&i[1]||"",Yn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+Yn}var Vl=!1;function ls(e,i){if(!e||Vl)return"";Vl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var j=H}Reflect.construct(e,[],J)}else{try{J.call()}catch(H){j=H}e.call(J.prototype)}}else{try{throw Error()}catch(H){j=H}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var D=_.split(`
`),B=E.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===B.length)for(o=D.length-1,f=B.length-1;1<=o&&0<=f&&D[o]!==B[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==B[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==B[f]){var Q=`
`+D[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=f);break}}}finally{Vl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ui(s):""}function xl(e,i){switch(e.tag){case 26:case 27:case 5:return ui(e.type);case 16:return ui("Lazy");case 13:return e.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return ui("Activity");default:return""}}function Nl(e){try{var i="",s=null;do i+=xl(e,s),s=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ae=Object.prototype.hasOwnProperty,Pe=a.unstable_scheduleCallback,ur=a.unstable_cancelCallback,hf=a.unstable_shouldYield,Du=a.unstable_requestPaint,rn=a.unstable_now,os=a.unstable_getCurrentPriorityLevel,Ml=a.unstable_ImmediatePriority,Ol=a.unstable_UserBlockingPriority,cr=a.unstable_NormalPriority,ff=a.unstable_LowPriority,Cu=a.unstable_IdlePriority,Vu=a.log,xu=a.unstable_setDisableYieldValue,Xn=null,Fe=null;function Nn(e){if(typeof Vu=="function"&&xu(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Xn,e)}catch{}}var ye=Math.clz32?Math.clz32:Mu,Nu=Math.log,la=Math.LN2;function Mu(e){return e>>>=0,e===0?32:31-(Nu(e)/la|0)|0}var ci=256,us=262144,Se=4194304;function hi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,i,s){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?f=hi(o):(_&=E,_!==0?f=hi(_):s||(s=E&~e,s!==0&&(f=hi(s))))):(E=o&~d,E!==0?f=hi(E):_!==0?f=hi(_):s||(s=o&~e,s!==0&&(f=hi(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function Zn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function df(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function di(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function cs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mf(e,i,s,o,f,d){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,D=e.expirationTimes,B=e.hiddenUpdates;for(s=_&~s;0<s;){var Q=31-ye(s),J=1<<Q;E[Q]=0,D[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}s&=~J}o!==0&&hs(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function hs(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-ye(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function zl(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var o=31-ye(s),f=1<<o;f&i|e[o]&i&&(e[o]|=i),s&=~f}}function Pl(e,i){var s=i&-i;return s=(s&42)!==0?1:fs(s),(s&(e.suspendedLanes|i))!==0?0:s}function fs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ui(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:fv(e.type))}function Jn(e,i){var s=st.p;try{return st.p=e,i()}finally{st.p=s}}var $n=Math.random().toString(36).slice(2),be="__reactFiber$"+$n,Be="__reactProps$"+$n,mi="__reactContainer$"+$n,oa="__reactEvents$"+$n,gf="__reactListeners$"+$n,Pu="__reactHandles$"+$n,Uu="__reactResources$"+$n,gi="__reactMarker$"+$n;function ua(e){delete e[be],delete e[Be],delete e[oa],delete e[gf],delete e[Pu]}function pi(e){var i=e[be];if(i)return i;for(var s=e.parentNode;s;){if(i=s[mi]||s[be]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Z_(e);e!==null;){if(s=e[be])return s;e=Z_(e)}return i}e=s,s=e.parentNode}return null}function Mn(e){if(e=e[be]||e[mi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function En(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function yi(e){var i=e[Uu];return i||(i=e[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ie(e){e[gi]=!0}var Ul=new Set,Ll={};function _i(e,i){vi(e,i),vi(e+"Capture",i)}function vi(e,i){for(Ll[e]=i,e=0;e<i.length;e++)Ul.add(i[e])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},kl={};function Lu(e){return Ae.call(kl,e)?!0:Ae.call(jl,e)?!1:Bl.test(e)?kl[e]=!0:(jl[e]=!0,!1)}function ca(e,i,s){if(Lu(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function Tn(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function Re(e,i,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+o)}}function je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ql(e,i,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,d=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=hr(e)?"checked":"value";e._valueTracker=ql(e,i,""+e[i])}}function ds(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return e&&(o=hr(e)?e.checked?"true":"false":e.value),e=o,e!==s?(i.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ms=/[\n"\\]/g;function cn(e){return e.replace(ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(e,i,s,o,f,d,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+je(i)):e.value!==""+je(i)&&(e.value=""+je(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Fl(e,_,je(i)):s!=null?Fl(e,_,je(s)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+je(E):e.removeAttribute("name")}function Bu(e,i,s,o,f,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Yt(e);return}s=s!=null?""+je(s):"",i=i!=null?""+je(i):s,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Yt(e)}function Fl(e,i,s){i==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function fr(e,i,s,o){if(e=e.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=i.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&o&&(e[s].defaultSelected=!0)}else{for(s=""+je(s),i=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function ju(e,i,s){if(i!=null&&(i=""+je(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+je(s):""}function dr(e,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(r(92));if(pe(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=je(i),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Yt(e)}function hn(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hl(e,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,s):typeof s!="number"||s===0||ku.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Gl(e,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&s[f]!==o&&Hl(e,f,o)}else for(var d in i)i.hasOwnProperty(d)&&Hl(e,d,i[d])}function fa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(e){return mr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var Kl=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gr=null,Ti=null;function gs(e){var i=Mn(e);if(i&&(e=i.stateNode)){var s=e[Be]||null;t:switch(e=i.stateNode,i.type){case"input":if(ha(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==e&&o.form===e.form){var f=o[Be]||null;if(!f)throw Error(r(90));ha(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===e.form&&ds(o)}break t;case"textarea":ju(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&fr(e,!!s.multiple,i,!1)}}}var ma=!1;function pr(e,i,s){if(ma)return e(i,s);ma=!0;try{var o=e(i);return o}finally{if(ma=!1,(gr!==null||Ti!==null)&&(zc(),gr&&(i=gr,e=Ti,Ti=gr=null,gs(i),e)))for(i=0;i<e.length;i++)gs(e[i])}}function ti(e,i){var s=e.stateNode;if(s===null)return null;var o=s[Be]||null;if(o===null)return null;s=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(zn)try{var te={};Object.defineProperty(te,"passive",{get:function(){ps=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{ps=!1}var Ai=null,Ql=null,ys=null;function Yl(){if(ys)return ys;var e,i=Ql,s=i.length,o,f="value"in Ai?Ai.value:Ai.textContent,d=f.length;for(e=0;e<s&&i[e]===f[e];e++);var _=s-e;for(o=1;o<=_&&i[s-o]===f[d-o];o++);return ys=f.slice(e,1<o?1-o:void 0)}function _s(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Li(){return!0}function ei(){return!1}function He(e){function i(s,o,f,d,_){this._reactName=s,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:ei,this.isPropagationStopped=ei,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=He(Bi),yr=S({},Bi,{view:0,detail:0}),Xl=He(yr),_r,ga,bi,pa=S({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(_r=e.screenX-bi.screenX,ga=e.screenY-bi.screenY):ga=_r=0,bi=e),_r)},movementY:function(e){return"movementY"in e?e.movementY:ga}}),Zl=He(pa),vs=S({},pa,{dataTransfer:0}),Fu=He(vs),Hu=S({},yr,{relatedTarget:0}),Es=He(Hu),Jl=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=He(Jl),ya=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ku=He(ya),Qu=S({},Bi,{data:0}),Ii=He(Qu),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Zu[e])?!!i[e]:!1}function vr(){return Ju}var sn=S({},yr,{key:function(e){if(e.key){var i=Yu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$u=He(sn),Wu=S({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=He(Wu),c=S({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),p=He(c),v=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=He(v),U=S({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F=He(U),it=S({},Bi,{newState:0,oldState:0}),Dt=He(it),_e=[9,13,27,32],Ht=zn&&"CompositionEvent"in window,oe=null;zn&&"documentMode"in document&&(oe=document.documentMode);var Pn=zn&&"TextEvent"in window&&!oe,Ri=zn&&(!Ht||oe&&8<oe&&11>=oe),ni=" ",ii=!1;function Ts(e,i){switch(e){case"keyup":return _e.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function BA(e,i){switch(e){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:(ii=!0,ni);case"textInput":return e=i.data,e===ni&&ii?null:e;default:return null}}function jA(e,i){if(va)return e==="compositionend"||!Ht&&Ts(e,i)?(e=Yl(),ys=Ql=Ai=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var kA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!kA[e.type]:i==="textarea"}function tp(e,i,s,o){gr?Ti?Ti.push(o):Ti=[o]:gr=o,i=qc(i,"onChange"),0<i.length&&(s=new Si("onChange","change",null,s,o),e.push({event:s,listeners:i}))}var $l=null,Wl=null;function qA(e){P_(e,0)}function tc(e){var i=En(e);if(ds(i))return e}function ep(e,i){if(e==="change")return i}var np=!1;if(zn){var pf;if(zn){var yf="oninput"in document;if(!yf){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),yf=typeof ip.oninput=="function"}pf=yf}else pf=!1;np=pf&&(!document.documentMode||9<document.documentMode)}function rp(){$l&&($l.detachEvent("onpropertychange",sp),Wl=$l=null)}function sp(e){if(e.propertyName==="value"&&tc(Wl)){var i=[];tp(i,Wl,e,On(e)),pr(qA,i)}}function FA(e,i,s){e==="focusin"?(rp(),$l=i,Wl=s,$l.attachEvent("onpropertychange",sp)):e==="focusout"&&rp()}function HA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(Wl)}function GA(e,i){if(e==="click")return tc(i)}function KA(e,i){if(e==="input"||e==="change")return tc(i)}function QA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var An=typeof Object.is=="function"?Object.is:QA;function to(e,i){if(An(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var f=s[o];if(!Ae.call(i,f)||!An(e[f],i[f]))return!1}return!0}function ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lp(e,i){var s=ap(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=i&&o>=i)return{node:s,offset:i-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ap(s)}}function op(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?op(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function up(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ei(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=Ei(e.document)}return i}function _f(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var YA=zn&&"documentMode"in document&&11>=document.documentMode,Ea=null,vf=null,eo=null,Ef=!1;function cp(e,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ef||Ea==null||Ea!==Ei(o)||(o=Ea,"selectionStart"in o&&_f(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),eo&&to(eo,o)||(eo=o,o=qc(vf,"onSelect"),0<o.length&&(i=new Si("onSelect","select",null,i,s),e.push({event:i,listeners:o}),i.target=Ea)))}function As(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var Ta={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Tf={},hp={};zn&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Ss(e){if(Tf[e])return Tf[e];if(!Ta[e])return e;var i=Ta[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in hp)return Tf[e]=i[s];return e}var fp=Ss("animationend"),dp=Ss("animationiteration"),mp=Ss("animationstart"),XA=Ss("transitionrun"),ZA=Ss("transitionstart"),JA=Ss("transitioncancel"),gp=Ss("transitionend"),pp=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function ri(e,i){pp.set(e,i),_i(i,[e])}var ec=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Un=[],Aa=0,Sf=0;function nc(){for(var e=Aa,i=Sf=Aa=0;i<e;){var s=Un[i];Un[i++]=null;var o=Un[i];Un[i++]=null;var f=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}d!==0&&yp(s,f,d)}}function ic(e,i,s,o){Un[Aa++]=e,Un[Aa++]=i,Un[Aa++]=s,Un[Aa++]=o,Sf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function bf(e,i,s,o){return ic(e,i,s,o),rc(e)}function bs(e,i){return ic(e,null,null,i),rc(e)}function yp(e,i,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&i!==null&&(f=31-ye(s),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[i]:o.push(i),i.lane=s|536870912),d):null}function rc(e){if(50<bo)throw bo=0,Md=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Sa={};function $A(e,i,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,i,s,o){return new $A(e,i,s,o)}function If(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,i){var s=e.alternate;return s===null?(s=Sn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function _p(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function sc(e,i,s,o,f,d){var _=0;if(o=e,typeof e=="function")If(e)&&(_=1);else if(typeof e=="string")_=iS(e,s,k.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,s,i,f),e.elementType=C,e.lanes=d,e;case W:return Is(s.children,f,d,i);case et:_=8,f|=24;break;case pt:return e=Sn(12,s,i,f|2),e.elementType=pt,e.lanes=d,e;case It:return e=Sn(13,s,i,f),e.elementType=It,e.lanes=d,e;case ct:return e=Sn(19,s,i,f),e.elementType=ct,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:_=10;break t;case gt:_=9;break t;case bt:_=11;break t;case I:_=14;break t;case b:_=16,o=null;break t}_=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=Sn(_,s,i,f),i.elementType=e,i.type=o,i.lanes=d,i}function Is(e,i,s,o){return e=Sn(7,e,o,i),e.lanes=s,e}function Rf(e,i,s){return e=Sn(6,e,null,i),e.lanes=s,e}function vp(e){var i=Sn(18,null,null,0);return i.stateNode=e,i}function wf(e,i,s){return i=Sn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ep=new WeakMap;function Ln(e,i){if(typeof e=="object"&&e!==null){var s=Ep.get(e);return s!==void 0?s:(i={value:e,source:i,stack:Nl(i)},Ep.set(e,i),i)}return{value:e,source:i,stack:Nl(i)}}var ba=[],Ia=0,ac=null,no=0,Bn=[],jn=0,Er=null,wi=1,Di="";function qi(e,i){ba[Ia++]=no,ba[Ia++]=ac,ac=e,no=i}function Tp(e,i,s){Bn[jn++]=wi,Bn[jn++]=Di,Bn[jn++]=Er,Er=e;var o=wi;e=Di;var f=32-ye(o)-1;o&=~(1<<f),s+=1;var d=32-ye(i)+f;if(30<d){var _=f-f%5;d=(o&(1<<_)-1).toString(32),o>>=_,f-=_,wi=1<<32-ye(i)+f|s<<f|o,Di=d+e}else wi=1<<d|s<<f|o,Di=e}function Df(e){e.return!==null&&(qi(e,1),Tp(e,1,0))}function Cf(e){for(;e===ac;)ac=ba[--Ia],ba[Ia]=null,no=ba[--Ia],ba[Ia]=null;for(;e===Er;)Er=Bn[--jn],Bn[jn]=null,Di=Bn[--jn],Bn[jn]=null,wi=Bn[--jn],Bn[jn]=null}function Ap(e,i){Bn[jn++]=wi,Bn[jn++]=Di,Bn[jn++]=Er,wi=i.id,Di=i.overflow,Er=e}var Ge=null,ae=null,Lt=!1,Tr=null,kn=!1,Vf=Error(r(519));function Ar(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(Ln(i,e)),Vf}function Sp(e){var i=e.stateNode,s=e.type,o=e.memoizedProps;switch(i[be]=e,i[Be]=o,s){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(s=0;s<Ro.length;s++)Mt(Ro[s],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Bu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),dr(i,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||j_(i.textContent,s)?(o.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),o.onScroll!=null&&Mt("scroll",i),o.onScrollEnd!=null&&Mt("scrollend",i),o.onClick!=null&&(i.onclick=Wn),i=!0):i=!1,i||Ar(e,!0)}function bp(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ge=Ge.return}}function Ra(e){if(e!==Ge)return!1;if(!Lt)return bp(e),Lt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Yd(e.type,e.memoizedProps)),s=!s),s&&ae&&Ar(e),bp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=X_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=X_(e)}else i===27?(i=ae,Pr(e.type)?(e=Wd,Wd=null,ae=e):ae=i):ae=Ge?Fn(e.stateNode.nextSibling):null;return!0}function Rs(){ae=Ge=null,Lt=!1}function xf(){var e=Tr;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),Tr=null),e}function io(e){Tr===null?Tr=[e]:Tr.push(e)}var Nf=M(null),ws=null,Fi=null;function Sr(e,i,s){at(Nf,i._currentValue),i._currentValue=s}function Hi(e){e._currentValue=Nf.current,Z(Nf)}function Mf(e,i,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===s)break;e=e.return}}function Of(e,i,s,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=f;for(var D=0;D<i.length;D++)if(E.context===i[D]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),Mf(d.return,s,e),o||(_=null);break t}d=E.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Mf(_,s,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function wa(e,i,s,o){e=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=f.type;An(f.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(f===Tt.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(xo):e=[xo])}f=f.return}e!==null&&Of(i,e,s,o),i.flags|=262144}function lc(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){ws=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return Ip(ws,e)}function oc(e,i){return ws===null&&Ds(e),Ip(e,i)}function Ip(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Fi===null){if(e===null)throw Error(r(308));Fi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Fi=Fi.next=i;return s}var WA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},t1=a.unstable_scheduleCallback,e1=a.unstable_NormalPriority,we={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new WA,data:new Map,refCount:0}}function ro(e){e.refCount--,e.refCount===0&&t1(e1,function(){e.controller.abort()})}var so=null,Pf=0,Da=0,Ca=null;function n1(e,i){if(so===null){var s=so=[];Pf=0,Da=Bd(),Ca={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Pf++,i.then(Rp,Rp),i}function Rp(){if(--Pf===0&&so!==null){Ca!==null&&(Ca.status="fulfilled");var e=so;so=null,Da=0,Ca=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function i1(e,i){var s=[],o={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),o}var wp=K.S;K.S=function(e,i){c_=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&n1(e,i),wp!==null&&wp(e,i)};var Cs=M(null);function Uf(){var e=Cs.current;return e!==null?e:re.pooledCache}function uc(e,i){i===null?at(Cs,Cs.current):at(Cs,i.pool)}function Dp(){var e=Uf();return e===null?null:{parent:we._currentValue,pool:e}}var Va=Error(r(460)),Lf=Error(r(474)),cc=Error(r(542)),hc={then:function(){}};function Cp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vp(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Wn,Wn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Np(e),e;default:if(typeof i.status=="string")i.then(Wn,Wn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Np(e),e}throw xs=i,Va}}function Vs(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(xs=s,Va):s}}var xs=null;function xp(){if(xs===null)throw Error(r(459));var e=xs;return xs=null,e}function Np(e){if(e===Va||e===cc)throw Error(r(483))}var xa=null,ao=0;function fc(e){var i=ao;return ao+=1,xa===null&&(xa=[]),Vp(xa,e,i)}function lo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function dc(e,i){throw i.$$typeof===R?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Mp(e){function i(O,x){if(e){var L=O.deletions;L===null?(O.deletions=[x],O.flags|=16):L.push(x)}}function s(O,x){if(!e)return null;for(;x!==null;)i(O,x),x=x.sibling;return null}function o(O){for(var x=new Map;O!==null;)O.key!==null?x.set(O.key,O):x.set(O.index,O),O=O.sibling;return x}function f(O,x){return O=ki(O,x),O.index=0,O.sibling=null,O}function d(O,x,L){return O.index=L,e?(L=O.alternate,L!==null?(L=L.index,L<x?(O.flags|=67108866,x):L):(O.flags|=67108866,x)):(O.flags|=1048576,x)}function _(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function E(O,x,L,X){return x===null||x.tag!==6?(x=Rf(L,O.mode,X),x.return=O,x):(x=f(x,L),x.return=O,x)}function D(O,x,L,X){var yt=L.type;return yt===W?Q(O,x,L.props.children,X,L.key):x!==null&&(x.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&Vs(yt)===x.type)?(x=f(x,L.props),lo(x,L),x.return=O,x):(x=sc(L.type,L.key,L.props,null,O.mode,X),lo(x,L),x.return=O,x)}function B(O,x,L,X){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=wf(L,O.mode,X),x.return=O,x):(x=f(x,L.children||[]),x.return=O,x)}function Q(O,x,L,X,yt){return x===null||x.tag!==7?(x=Is(L,O.mode,X,yt),x.return=O,x):(x=f(x,L),x.return=O,x)}function J(O,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Rf(""+x,O.mode,L),x.return=O,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case q:return L=sc(x.type,x.key,x.props,null,O.mode,L),lo(L,x),L.return=O,L;case $:return x=wf(x,O.mode,L),x.return=O,x;case b:return x=Vs(x),J(O,x,L)}if(pe(x)||z(x))return x=Is(x,O.mode,L,null),x.return=O,x;if(typeof x.then=="function")return J(O,fc(x),L);if(x.$$typeof===ot)return J(O,oc(O,x),L);dc(O,x)}return null}function j(O,x,L,X){var yt=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return yt!==null?null:E(O,x,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===yt?D(O,x,L,X):null;case $:return L.key===yt?B(O,x,L,X):null;case b:return L=Vs(L),j(O,x,L,X)}if(pe(L)||z(L))return yt!==null?null:Q(O,x,L,X,null);if(typeof L.then=="function")return j(O,x,fc(L),X);if(L.$$typeof===ot)return j(O,x,oc(O,L),X);dc(O,L)}return null}function H(O,x,L,X,yt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return O=O.get(L)||null,E(x,O,""+X,yt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return O=O.get(X.key===null?L:X.key)||null,D(x,O,X,yt);case $:return O=O.get(X.key===null?L:X.key)||null,B(x,O,X,yt);case b:return X=Vs(X),H(O,x,L,X,yt)}if(pe(X)||z(X))return O=O.get(L)||null,Q(x,O,X,yt,null);if(typeof X.then=="function")return H(O,x,L,fc(X),yt);if(X.$$typeof===ot)return H(O,x,L,oc(x,X),yt);dc(x,X)}return null}function ut(O,x,L,X){for(var yt=null,kt=null,ft=x,Vt=x=0,Pt=null;ft!==null&&Vt<L.length;Vt++){ft.index>Vt?(Pt=ft,ft=null):Pt=ft.sibling;var qt=j(O,ft,L[Vt],X);if(qt===null){ft===null&&(ft=Pt);break}e&&ft&&qt.alternate===null&&i(O,ft),x=d(qt,x,Vt),kt===null?yt=qt:kt.sibling=qt,kt=qt,ft=Pt}if(Vt===L.length)return s(O,ft),Lt&&qi(O,Vt),yt;if(ft===null){for(;Vt<L.length;Vt++)ft=J(O,L[Vt],X),ft!==null&&(x=d(ft,x,Vt),kt===null?yt=ft:kt.sibling=ft,kt=ft);return Lt&&qi(O,Vt),yt}for(ft=o(ft);Vt<L.length;Vt++)Pt=H(ft,O,Vt,L[Vt],X),Pt!==null&&(e&&Pt.alternate!==null&&ft.delete(Pt.key===null?Vt:Pt.key),x=d(Pt,x,Vt),kt===null?yt=Pt:kt.sibling=Pt,kt=Pt);return e&&ft.forEach(function(kr){return i(O,kr)}),Lt&&qi(O,Vt),yt}function vt(O,x,L,X){if(L==null)throw Error(r(151));for(var yt=null,kt=null,ft=x,Vt=x=0,Pt=null,qt=L.next();ft!==null&&!qt.done;Vt++,qt=L.next()){ft.index>Vt?(Pt=ft,ft=null):Pt=ft.sibling;var kr=j(O,ft,qt.value,X);if(kr===null){ft===null&&(ft=Pt);break}e&&ft&&kr.alternate===null&&i(O,ft),x=d(kr,x,Vt),kt===null?yt=kr:kt.sibling=kr,kt=kr,ft=Pt}if(qt.done)return s(O,ft),Lt&&qi(O,Vt),yt;if(ft===null){for(;!qt.done;Vt++,qt=L.next())qt=J(O,qt.value,X),qt!==null&&(x=d(qt,x,Vt),kt===null?yt=qt:kt.sibling=qt,kt=qt);return Lt&&qi(O,Vt),yt}for(ft=o(ft);!qt.done;Vt++,qt=L.next())qt=H(ft,O,Vt,qt.value,X),qt!==null&&(e&&qt.alternate!==null&&ft.delete(qt.key===null?Vt:qt.key),x=d(qt,x,Vt),kt===null?yt=qt:kt.sibling=qt,kt=qt);return e&&ft.forEach(function(mS){return i(O,mS)}),Lt&&qi(O,Vt),yt}function ie(O,x,L,X){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:t:{for(var yt=L.key;x!==null;){if(x.key===yt){if(yt=L.type,yt===W){if(x.tag===7){s(O,x.sibling),X=f(x,L.props.children),X.return=O,O=X;break t}}else if(x.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===b&&Vs(yt)===x.type){s(O,x.sibling),X=f(x,L.props),lo(X,L),X.return=O,O=X;break t}s(O,x);break}else i(O,x);x=x.sibling}L.type===W?(X=Is(L.props.children,O.mode,X,L.key),X.return=O,O=X):(X=sc(L.type,L.key,L.props,null,O.mode,X),lo(X,L),X.return=O,O=X)}return _(O);case $:t:{for(yt=L.key;x!==null;){if(x.key===yt)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){s(O,x.sibling),X=f(x,L.children||[]),X.return=O,O=X;break t}else{s(O,x);break}else i(O,x);x=x.sibling}X=wf(L,O.mode,X),X.return=O,O=X}return _(O);case b:return L=Vs(L),ie(O,x,L,X)}if(pe(L))return ut(O,x,L,X);if(z(L)){if(yt=z(L),typeof yt!="function")throw Error(r(150));return L=yt.call(L),vt(O,x,L,X)}if(typeof L.then=="function")return ie(O,x,fc(L),X);if(L.$$typeof===ot)return ie(O,x,oc(O,L),X);dc(O,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(s(O,x.sibling),X=f(x,L),X.return=O,O=X):(s(O,x),X=Rf(L,O.mode,X),X.return=O,O=X),_(O)):s(O,x)}return function(O,x,L,X){try{ao=0;var yt=ie(O,x,L,X);return xa=null,yt}catch(ft){if(ft===Va||ft===cc)throw ft;var kt=Sn(29,ft,null,O.mode);return kt.lanes=X,kt.return=O,kt}}}var Ns=Mp(!0),Op=Mp(!1),br=!1;function Bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,i,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=rc(e),yp(e,null,s),i}return ic(e,o,i,s),rc(e)}function oo(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,zl(e,s)}}function kf(e,i){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var qf=!1;function uo(){if(qf){var e=Ca;if(e!==null)throw e}}function co(e,i,s,o){qf=!1;var f=e.updateQueue;br=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var D=E,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==_&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=D))}if(d!==null){var J=f.baseState;_=0,Q=B=D=null,E=d;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(zt&j)===j:(o&j)===j){j!==0&&j===Da&&(qf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,vt=E;j=i;var ie=s;switch(vt.tag){case 1:if(ut=vt.payload,typeof ut=="function"){J=ut.call(ie,J,j);break t}J=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=vt.payload,j=typeof ut=="function"?ut.call(ie,J,j):ut,j==null)break t;J=S({},J,j);break t;case 2:br=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=H,D=J):Q=Q.next=H,_|=j;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;H=E,E=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Q===null&&(D=J),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=Q,d===null&&(f.shared.lanes=0),xr|=_,e.lanes=_,e.memoizedState=J}}function zp(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Pp(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)zp(s[e],i)}var Na=M(null),mc=M(0);function Up(e,i){e=Wi,at(mc,e),at(Na,i),Wi=e|i.baseLanes}function Ff(){at(mc,Wi),at(Na,Na.current)}function Hf(){Wi=mc.current,Z(Na),Z(mc)}var bn=M(null),qn=null;function wr(e){var i=e.alternate;at(ve,ve.current&1),at(bn,e),qn===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(qn=e)}function Gf(e){at(ve,ve.current),at(bn,e),qn===null&&(qn=e)}function Lp(e){e.tag===22?(at(ve,ve.current),at(bn,e),qn===null&&(qn=e)):Dr()}function Dr(){at(ve,ve.current),at(bn,bn.current)}function In(e){Z(bn),qn===e&&(qn=null),Z(ve)}var ve=M(0);function gc(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Jd(s)||$d(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,Ct=null,ee=null,De=null,pc=!1,Ma=!1,Ms=!1,yc=0,ho=0,Oa=null,r1=0;function de(){throw Error(r(321))}function Kf(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!An(e[s],i[s]))return!1;return!0}function Qf(e,i,s,o,f,d){return Gi=d,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?Ty:od,Ms=!1,d=s(o,f),Ms=!1,Ma&&(d=jp(i,s,o,f)),Bp(e),d}function Bp(e){K.H=go;var i=ee!==null&&ee.next!==null;if(Gi=0,De=ee=Ct=null,pc=!1,ho=0,Oa=null,i)throw Error(r(300));e===null||Ce||(e=e.dependencies,e!==null&&lc(e)&&(Ce=!0))}function jp(e,i,s,o){Ct=e;var f=0;do{if(Ma&&(Oa=null),ho=0,Ma=!1,25<=f)throw Error(r(301));if(f+=1,De=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Ay,d=i(s,o)}while(Ma);return d}function s1(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?fo(i):i,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Ct.flags|=1024),i}function Yf(){var e=yc!==0;return yc=0,e}function Xf(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Zf(e){if(pc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}pc=!1}Gi=0,De=ee=Ct=null,Ma=!1,ho=yc=0,Oa=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ct.memoizedState=De=e:De=De.next=e,De}function Ee(){if(ee===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var i=De===null?Ct.memoizedState:De.next;if(i!==null)De=i,ee=e;else{if(e===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},De===null?Ct.memoizedState=De=e:De=De.next=e}return De}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(e){var i=ho;return ho+=1,Oa===null&&(Oa=[]),e=Vp(Oa,e,i),i=Ct,(De===null?i.memoizedState:De.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Ty:od),e}function vc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fo(e);if(e.$$typeof===ot)return Ke(e)}throw Error(r(438,String(e)))}function Jf(e){var i=null,s=Ct.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=_c(),Ct.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),o=0;o<e;o++)s[o]=N;return i.index++,s}function Ki(e,i){return typeof i=="function"?i(e):i}function Ec(e){var i=Ee();return $f(i,ee,e)}function $f(e,i,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{i=f.next;var E=_=null,D=null,B=i,Q=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(zt&J)===J:(Gi&J)===J){var j=B.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Da&&(Q=!0);else if((Gi&j)===j){B=B.next,j===Da&&(Q=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=J,_=d):D=D.next=J,Ct.lanes|=j,xr|=j;J=B.action,Ms&&s(d,J),d=B.hasEagerState?B.eagerState:s(d,J)}else j={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=j,_=d):D=D.next=j,Ct.lanes|=J,xr|=J;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=E,!An(d,e.memoizedState)&&(Ce=!0,Q&&(s=Ca,s!==null)))throw s;e.memoizedState=d,e.baseState=_,e.baseQueue=D,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Wf(e){var i=Ee(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);An(d,i.memoizedState)||(Ce=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,o]}function kp(e,i,s){var o=Ct,f=Ee(),d=Lt;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=i();var _=!An((ee||f).memoizedState,s);if(_&&(f.memoizedState=s,Ce=!0),f=f.queue,nd(Hp.bind(null,o,f,e),[e]),f.getSnapshot!==i||_||De!==null&&De.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},Fp.bind(null,o,f,s,i),null),re===null)throw Error(r(349));d||(Gi&127)!==0||qp(o,i,s)}return s}function qp(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=Ct.updateQueue,i===null?(i=_c(),Ct.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function Fp(e,i,s,o){i.value=s,i.getSnapshot=o,Gp(i)&&Kp(e)}function Hp(e,i,s){return s(function(){Gp(i)&&Kp(e)})}function Gp(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!An(e,s)}catch{return!0}}function Kp(e){var i=bs(e,2);i!==null&&pn(i,e,2)}function td(e){var i=an();if(typeof e=="function"){var s=e;if(e=s(),Ms){Nn(!0);try{s()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},i}function Qp(e,i,s,o){return e.baseState=s,$f(e,ee,typeof o=="function"?o:Ki)}function a1(e,i,s,o,f){if(Sc(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?s(!0):d.isTransition=!1,o(d),s=i.pending,s===null?(d.next=i.pending=d,Yp(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Yp(e,i){var s=i.action,o=i.payload,f=e.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var E=s(f,o),D=K.S;D!==null&&D(_,E),Xp(e,i,E)}catch(B){ed(e,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=s(f,o),Xp(e,i,d)}catch(B){ed(e,i,B)}}function Xp(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Zp(e,i,o)},function(o){return ed(e,i,o)}):Zp(e,i,s)}function Zp(e,i,s){i.status="fulfilled",i.value=s,Jp(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,Yp(e,s)))}function ed(e,i,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,Jp(i),i=i.next;while(i!==o)}e.action=null}function Jp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function $p(e,i){return i}function Wp(e,i){if(Lt){var s=re.formState;if(s!==null){t:{var o=Ct;if(Lt){if(ae){e:{for(var f=ae,d=kn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Fn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ae=Fn(f.nextSibling),o=f.data==="F!";break t}}Ar(o)}o=!1}o&&(i=s[0])}}return s=an(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:i},s.queue=o,s=_y.bind(null,Ct,o),o.dispatch=s,o=td(!1),d=ld.bind(null,Ct,!1,o.queue),o=an(),f={state:i,dispatch:null,action:e,pending:null},o.queue=f,s=a1.bind(null,Ct,f,d,s),f.dispatch=s,o.memoizedState=e,[i,s,!1]}function ty(e){var i=Ee();return ey(i,ee,e)}function ey(e,i,s){if(i=$f(e,i,$p)[0],e=Ec(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=fo(i)}catch(_){throw _===Va?cc:_}else o=i;i=Ee();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Ct.flags|=2048,za(9,{destroy:void 0},l1.bind(null,f,s),null)),[o,d,e]}function l1(e,i){e.action=i}function ny(e){var i=Ee(),s=ee;if(s!==null)return ey(i,s,e);Ee(),i=i.memoizedState,s=Ee();var o=s.queue.dispatch;return s.memoizedState=e,[i,o,!1]}function za(e,i,s,o){return e={tag:e,create:s,deps:o,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=_c(),Ct.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,i.lastEffect=e),e}function iy(){return Ee().memoizedState}function Tc(e,i,s,o){var f=an();Ct.flags|=e,f.memoizedState=za(1|i,{destroy:void 0},s,o===void 0?null:o)}function Ac(e,i,s,o){var f=Ee();o=o===void 0?null:o;var d=f.memoizedState.inst;ee!==null&&o!==null&&Kf(o,ee.memoizedState.deps)?f.memoizedState=za(i,d,s,o):(Ct.flags|=e,f.memoizedState=za(1|i,d,s,o))}function ry(e,i){Tc(8390656,8,e,i)}function nd(e,i){Ac(2048,8,e,i)}function o1(e){Ct.flags|=4;var i=Ct.updateQueue;if(i===null)i=_c(),Ct.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function sy(e){var i=Ee().memoizedState;return o1({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function ay(e,i){return Ac(4,2,e,i)}function ly(e,i){return Ac(4,4,e,i)}function oy(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function uy(e,i,s){s=s!=null?s.concat([e]):null,Ac(4,4,oy.bind(null,i,e),s)}function id(){}function cy(e,i){var s=Ee();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&Kf(i,o[1])?o[0]:(s.memoizedState=[e,i],e)}function hy(e,i){var s=Ee();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&Kf(i,o[1]))return o[0];if(o=e(),Ms){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[o,i],o}function rd(e,i,s){return s===void 0||(Gi&1073741824)!==0&&(zt&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=f_(),Ct.lanes|=e,xr|=e,s)}function fy(e,i,s,o){return An(s,i)?s:Na.current!==null?(e=rd(e,s,o),An(e,i)||(Ce=!0),e):(Gi&42)===0||(Gi&1073741824)!==0&&(zt&261930)===0?(Ce=!0,e.memoizedState=s):(e=f_(),Ct.lanes|=e,xr|=e,i)}function dy(e,i,s,o,f){var d=st.p;st.p=d!==0&&8>d?d:8;var _=K.T,E={};K.T=E,ld(e,!1,i,s);try{var D=f(),B=K.S;if(B!==null&&B(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=i1(D,o);mo(e,i,Q,Dn(e))}else mo(e,i,o,Dn(e))}catch(J){mo(e,i,{then:function(){},status:"rejected",reason:J},Dn())}finally{st.p=d,_!==null&&E.types!==null&&(_.types=E.types),K.T=_}}function u1(){}function sd(e,i,s,o){if(e.tag!==5)throw Error(r(476));var f=my(e).queue;dy(e,f,i,mt,s===null?u1:function(){return gy(e),s(o)})}function my(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:mt},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function gy(e){var i=my(e);i.next===null&&(i=e.alternate.memoizedState),mo(e,i.next.queue,{},Dn())}function ad(){return Ke(xo)}function py(){return Ee().memoizedState}function yy(){return Ee().memoizedState}function c1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=Dn();e=Ir(s);var o=Rr(i,e,s);o!==null&&(pn(o,i,s),oo(o,i,s)),i={cache:zf()},e.payload=i;return}i=i.return}}function h1(e,i,s){var o=Dn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Sc(e)?vy(i,s):(s=bf(e,i,s,o),s!==null&&(pn(s,e,o),Ey(s,i,o)))}function _y(e,i,s){var o=Dn();mo(e,i,s,o)}function mo(e,i,s,o){var f={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Sc(e))vy(i,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,s);if(f.hasEagerState=!0,f.eagerState=E,An(E,_))return ic(e,i,f,0),re===null&&nc(),!1}catch{}if(s=bf(e,i,f,o),s!==null)return pn(s,e,o),Ey(s,i,o),!0}return!1}function ld(e,i,s,o){if(o={lane:2,revertLane:Bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Sc(e)){if(i)throw Error(r(479))}else i=bf(e,s,o,2),i!==null&&pn(i,e,2)}function Sc(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function vy(e,i){Ma=pc=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Ey(e,i,s){if((s&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,zl(e,s)}}var go={readContext:Ke,use:vc,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};go.useEffectEvent=de;var Ty={readContext:Ke,use:vc,useCallback:function(e,i){return an().memoizedState=[e,i===void 0?null:i],e},useContext:Ke,useEffect:ry,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Tc(4194308,4,oy.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Tc(4194308,4,e,i)},useInsertionEffect:function(e,i){Tc(4,2,e,i)},useMemo:function(e,i){var s=an();i=i===void 0?null:i;var o=e();if(Ms){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[o,i],o},useReducer:function(e,i,s){var o=an();if(s!==void 0){var f=s(i);if(Ms){Nn(!0);try{s(i)}finally{Nn(!1)}}}else f=i;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=h1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var i=an();return e={current:e},i.memoizedState=e},useState:function(e){e=td(e);var i=e.queue,s=_y.bind(null,Ct,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:id,useDeferredValue:function(e,i){var s=an();return rd(s,e,i)},useTransition:function(){var e=td(!1);return e=dy.bind(null,Ct,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var o=Ct,f=an();if(Lt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),re===null)throw Error(r(349));(zt&127)!==0||qp(o,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,ry(Hp.bind(null,o,d,e),[e]),o.flags|=2048,za(9,{destroy:void 0},Fp.bind(null,o,d,s,i),null),s},useId:function(){var e=an(),i=re.identifierPrefix;if(Lt){var s=Di,o=wi;s=(o&~(1<<32-ye(o)-1)).toString(32)+s,i="_"+i+"R_"+s,s=yc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=r1++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:ad,useFormState:Wp,useActionState:Wp,useOptimistic:function(e){var i=an();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=ld.bind(null,Ct,!0,s),s.dispatch=i,[e,i]},useMemoCache:Jf,useCacheRefresh:function(){return an().memoizedState=c1.bind(null,Ct)},useEffectEvent:function(e){var i=an(),s={impl:e};return i.memoizedState=s,function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},od={readContext:Ke,use:vc,useCallback:cy,useContext:Ke,useEffect:nd,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:hy,useReducer:Ec,useRef:iy,useState:function(){return Ec(Ki)},useDebugValue:id,useDeferredValue:function(e,i){var s=Ee();return fy(s,ee.memoizedState,e,i)},useTransition:function(){var e=Ec(Ki)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:fo(e),i]},useSyncExternalStore:kp,useId:py,useHostTransitionStatus:ad,useFormState:ty,useActionState:ty,useOptimistic:function(e,i){var s=Ee();return Qp(s,ee,e,i)},useMemoCache:Jf,useCacheRefresh:yy};od.useEffectEvent=sy;var Ay={readContext:Ke,use:vc,useCallback:cy,useContext:Ke,useEffect:nd,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:hy,useReducer:Wf,useRef:iy,useState:function(){return Wf(Ki)},useDebugValue:id,useDeferredValue:function(e,i){var s=Ee();return ee===null?rd(s,e,i):fy(s,ee.memoizedState,e,i)},useTransition:function(){var e=Wf(Ki)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:fo(e),i]},useSyncExternalStore:kp,useId:py,useHostTransitionStatus:ad,useFormState:ny,useActionState:ny,useOptimistic:function(e,i){var s=Ee();return ee!==null?Qp(s,ee,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:yy};Ay.useEffectEvent=sy;function ud(e,i,s,o){i=e.memoizedState,s=s(o,i),s=s==null?i:S({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var cd={enqueueSetState:function(e,i,s){e=e._reactInternals;var o=Dn(),f=Ir(o);f.payload=i,s!=null&&(f.callback=s),i=Rr(e,f,o),i!==null&&(pn(i,e,o),oo(i,e,o))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var o=Dn(),f=Ir(o);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Rr(e,f,o),i!==null&&(pn(i,e,o),oo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=Dn(),o=Ir(s);o.tag=2,i!=null&&(o.callback=i),i=Rr(e,o,s),i!==null&&(pn(i,e,s),oo(i,e,s))}};function Sy(e,i,s,o,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!to(s,o)||!to(f,d):!0}function by(e,i,s,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==e&&cd.enqueueReplaceState(i,i.state,null)}function Os(e,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(e=e.defaultProps){s===i&&(s=S({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}function Iy(e){ec(e)}function Ry(e){console.error(e)}function wy(e){ec(e)}function bc(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Dy(e,i,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hd(e,i,s){return s=Ir(s),s.tag=3,s.payload={element:null},s.callback=function(){bc(e,i)},s}function Cy(e){return e=Ir(e),e.tag=3,e}function Vy(e,i,s,o){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){Dy(i,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Dy(i,s,o),typeof f!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function f1(e,i,s,o,f){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&wa(i,s,f,!0),s=bn.current,s!==null){switch(s.tag){case 31:case 13:return qn===null?Pc():s.alternate===null&&me===0&&(me=3),s.flags&=-257,s.flags|=65536,s.lanes=f,o===hc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),Pd(e,o,f)),!1;case 22:return s.flags|=65536,o===hc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),Pd(e,o,f)),!1}throw Error(r(435,s.tag))}return Pd(e,o,f),Pc(),!1}if(Lt)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Vf&&(e=Error(r(422),{cause:o}),io(Ln(e,s)))):(o!==Vf&&(i=Error(r(423),{cause:o}),io(Ln(i,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=Ln(o,s),f=hd(e.stateNode,o,f),kf(e,f),me!==4&&(me=2)),!1;var d=Error(r(520),{cause:o});if(d=Ln(d,s),So===null?So=[d]:So.push(d),me!==4&&(me=2),i===null)return!0;o=Ln(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=hd(s.stateNode,o,e),kf(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Cy(f),Vy(f,e,s,o),kf(s,f),!1}s=s.return}while(s!==null);return!1}var fd=Error(r(461)),Ce=!1;function Qe(e,i,s,o){i.child=e===null?Op(i,null,s,o):Ns(i,e.child,s,o)}function xy(e,i,s,o,f){s=s.render;var d=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return Ds(i),o=Qf(e,i,s,_,d,f),E=Yf(),e!==null&&!Ce?(Xf(e,i,f),Qi(e,i,f)):(Lt&&E&&Df(i),i.flags|=1,Qe(e,i,o,f),i.child)}function Ny(e,i,s,o,f){if(e===null){var d=s.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,My(e,i,d,o,f)):(e=sc(s.type,null,o,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Ed(e,f)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:to,s(_,o)&&e.ref===i.ref)return Qi(e,i,f)}return i.flags|=1,e=ki(d,o),e.ref=i.ref,e.return=i,i.child=e}function My(e,i,s,o,f){if(e!==null){var d=e.memoizedProps;if(to(d,o)&&e.ref===i.ref)if(Ce=!1,i.pendingProps=o=d,Ed(e,f))(e.flags&131072)!==0&&(Ce=!0);else return i.lanes=e.lanes,Qi(e,i,f)}return dd(e,i,s,o,f)}function Oy(e,i,s,o){var f=o.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(o=i.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~d}else o=0,i.child=null;return zy(e,i,d,s,o)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(i,d!==null?d.cachePool:null),d!==null?Up(i,d):Ff(),Lp(i);else return o=i.lanes=536870912,zy(e,i,d!==null?d.baseLanes|s:s,s,o)}else d!==null?(uc(i,d.cachePool),Up(i,d),Dr(),i.memoizedState=null):(e!==null&&uc(i,null),Ff(),Dr());return Qe(e,i,f,s),i.child}function po(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zy(e,i,s,o,f){var d=Uf();return d=d===null?null:{parent:we._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},e!==null&&uc(i,null),Ff(),Lp(i),e!==null&&wa(e,i,o,!0),i.childLanes=f,null}function Ic(e,i){return i=wc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Py(e,i,s){return Ns(i,e.child,null,s),e=Ic(i,i.pendingProps),e.flags|=2,In(i),i.memoizedState=null,e}function d1(e,i,s){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Ic(i,o),i.lanes=536870912,po(null,e);if(Gf(i),(e=ae)?(e=Y_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Er!==null?{id:wi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},s=vp(e),s.return=i,i.child=s,Ge=i,ae=null)):e=null,e===null)throw Ar(i);return i.lanes=536870912,null}return Ic(i,o)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Gf(i),f)if(i.flags&256)i.flags&=-257,i=Py(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ce||wa(e,i,s,!1),f=(s&e.childLanes)!==0,Ce||f){if(o=re,o!==null&&(_=Pl(o,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,bs(e,_),pn(o,e,_),fd;Pc(),i=Py(e,i,s)}else e=d.treeContext,ae=Fn(_.nextSibling),Ge=i,Lt=!0,Tr=null,kn=!1,e!==null&&Ap(i,e),i=Ic(i,o),i.flags|=4096;return i}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Rc(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function dd(e,i,s,o,f){return Ds(i),s=Qf(e,i,s,o,void 0,f),o=Yf(),e!==null&&!Ce?(Xf(e,i,f),Qi(e,i,f)):(Lt&&o&&Df(i),i.flags|=1,Qe(e,i,s,f),i.child)}function Uy(e,i,s,o,f,d){return Ds(i),i.updateQueue=null,s=jp(i,o,s,f),Bp(e),o=Yf(),e!==null&&!Ce?(Xf(e,i,d),Qi(e,i,d)):(Lt&&o&&Df(i),i.flags|=1,Qe(e,i,s,d),i.child)}function Ly(e,i,s,o,f){if(Ds(i),i.stateNode===null){var d=Sa,_=s.contextType;typeof _=="object"&&_!==null&&(d=Ke(_)),d=new s(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Bf(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?Ke(_):Sa,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(ud(i,s,_,o),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&cd.enqueueReplaceState(d,d.state,null),co(i,o,d,f),uo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,D=Os(s,E);d.props=D;var B=d.context,Q=s.contextType;_=Sa,typeof Q=="object"&&Q!==null&&(_=Ke(Q));var J=s.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||B!==_)&&by(i,d,o,_),br=!1;var j=i.memoizedState;d.state=j,co(i,o,d,f),uo(),B=i.memoizedState,E||j!==B||br?(typeof J=="function"&&(ud(i,s,J,o),B=i.memoizedState),(D=br||Sy(i,s,D,o,j,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=_,o=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,jf(e,i),_=i.memoizedProps,Q=Os(s,_),d.props=Q,J=i.pendingProps,j=d.context,B=s.contextType,D=Sa,typeof B=="object"&&B!==null&&(D=Ke(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||j!==D)&&by(i,d,o,D),br=!1,j=i.memoizedState,d.state=j,co(i,o,d,f),uo();var H=i.memoizedState;_!==J||j!==H||br||e!==null&&e.dependencies!==null&&lc(e.dependencies)?(typeof E=="function"&&(ud(i,s,E,o),H=i.memoizedState),(Q=br||Sy(i,s,Q,o,j,H,D)||e!==null&&e.dependencies!==null&&lc(e.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,H,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,H,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=H),d.props=o,d.state=H,d.context=D,o=Q):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&j===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,Rc(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Ns(i,e.child,null,f),i.child=Ns(i,null,s,f)):Qe(e,i,s,f),i.memoizedState=d.state,e=i.child):e=Qi(e,i,f),e}function By(e,i,s,o){return Rs(),i.flags|=256,Qe(e,i,s,o),i.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(e){return{baseLanes:e,cachePool:Dp()}}function pd(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=wn),e}function jy(e,i,s){var o=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Lt){if(f?wr(i):Dr(),(e=ae)?(e=Y_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Er!==null?{id:wi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},s=vp(e),s.return=i,i.child=s,Ge=i,ae=null)):e=null,e===null)throw Ar(i);return $d(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,f?(Dr(),f=i.mode,E=wc({mode:"hidden",children:E},f),o=Is(o,f,s,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=gd(s),o.childLanes=pd(e,_,s),i.memoizedState=md,po(null,o)):(wr(i),yd(i,E))}var D=e.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(d)i.flags&256?(wr(i),i.flags&=-257,i=_d(e,i,s)):i.memoizedState!==null?(Dr(),i.child=e.child,i.flags|=128,i=null):(Dr(),E=o.fallback,f=i.mode,o=wc({mode:"visible",children:o.children},f),E=Is(E,f,s,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,Ns(i,e.child,null,s),o=i.child,o.memoizedState=gd(s),o.childLanes=pd(e,_,s),i.memoizedState=md,i=po(null,o));else if(wr(i),$d(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var B=_.dgst;_=B,o=Error(r(419)),o.stack="",o.digest=_,io({value:o,source:null,stack:null}),i=_d(e,i,s)}else if(Ce||wa(e,i,s,!1),_=(s&e.childLanes)!==0,Ce||_){if(_=re,_!==null&&(o=Pl(_,s),o!==0&&o!==D.retryLane))throw D.retryLane=o,bs(e,o),pn(_,e,o),fd;Jd(E)||Pc(),i=_d(e,i,s)}else Jd(E)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,ae=Fn(E.nextSibling),Ge=i,Lt=!0,Tr=null,kn=!1,e!==null&&Ap(i,e),i=yd(i,o.children),i.flags|=4096);return i}return f?(Dr(),E=o.fallback,f=i.mode,D=e.child,B=D.sibling,o=ki(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,B!==null?E=ki(B,E):(E=Is(E,f,s,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,po(null,o),o=i.child,E=e.child.memoizedState,E===null?E=gd(s):(f=E.cachePool,f!==null?(D=we._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Dp(),E={baseLanes:E.baseLanes|s,cachePool:f}),o.memoizedState=E,o.childLanes=pd(e,_,s),i.memoizedState=md,po(e.child,o)):(wr(i),s=e.child,e=s.sibling,s=ki(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=s,i.memoizedState=null,s)}function yd(e,i){return i=wc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function wc(e,i){return e=Sn(22,e,null,i),e.lanes=0,e}function _d(e,i,s){return Ns(i,e.child,null,s),e=yd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ky(e,i,s){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Mf(e.return,i,s)}function vd(e,i,s,o,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=s,_.tailMode=f,_.treeForkCount=d)}function qy(e,i,s){var o=i.pendingProps,f=o.revealOrder,d=o.tail;o=o.children;var _=ve.current,E=(_&2)!==0;if(E?(_=_&1|2,i.flags|=128):_&=1,at(ve,_),Qe(e,i,o,s),o=Lt?no:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ky(e,s,i);else if(e.tag===19)ky(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(s=i.child,f=null;s!==null;)e=s.alternate,e!==null&&gc(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),vd(i,!1,f,s,d,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&gc(e)===null){i.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}vd(i,!0,s,null,d,o);break;case"together":vd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Qi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),xr|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(wa(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,s=ki(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=ki(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function Ed(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&lc(e)))}function m1(e,i,s){switch(i.tag){case 3:Qt(i,i.stateNode.containerInfo),Sr(i,we,e.memoizedState.cache),Rs();break;case 27:case 5:Te(i);break;case 4:Qt(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Gf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(wr(i),i.flags|=128,null):(s&i.child.childLanes)!==0?jy(e,i,s):(wr(i),e=Qi(e,i,s),e!==null?e.sibling:null);wr(i);break;case 19:var f=(e.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(wa(e,i,s,!1),o=(s&i.childLanes)!==0),f){if(o)return qy(e,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(ve,ve.current),o)break;return null;case 22:return i.lanes=0,Oy(e,i,s,i.pendingProps);case 24:Sr(i,we,e.memoizedState.cache)}return Qi(e,i,s)}function Fy(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ce=!0;else{if(!Ed(e,s)&&(i.flags&128)===0)return Ce=!1,m1(e,i,s);Ce=(e.flags&131072)!==0}else Ce=!1,Lt&&(i.flags&1048576)!==0&&Tp(i,no,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Vs(i.elementType),i.type=e,typeof e=="function")If(e)?(o=Os(e,o),i.tag=1,i=Ly(null,i,e,o,s)):(i.tag=0,i=dd(null,i,e,o,s));else{if(e!=null){var f=e.$$typeof;if(f===bt){i.tag=11,i=xy(null,i,e,o,s);break t}else if(f===I){i.tag=14,i=Ny(null,i,e,o,s);break t}}throw i=se(e)||e,Error(r(306,i,""))}}return i;case 0:return dd(e,i,i.type,i.pendingProps,s);case 1:return o=i.type,f=Os(o,i.pendingProps),Ly(e,i,o,f,s);case 3:t:{if(Qt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;f=d.element,jf(e,i),co(i,o,null,s);var _=i.memoizedState;if(o=_.cache,Sr(i,we,o),o!==d.cache&&Of(i,[we],s,!0),uo(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=By(e,i,o,s);break t}else if(o!==f){f=Ln(Error(r(424)),i),io(f),i=By(e,i,o,s);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=Fn(e.firstChild),Ge=i,Lt=!0,Tr=null,kn=!0,s=Op(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rs(),o===f){i=Qi(e,i,s);break t}Qe(e,i,o,s)}i=i.child}return i;case 26:return Rc(e,i),e===null?(s=tv(i.type,null,i.pendingProps,null))?i.memoizedState=s:Lt||(s=i.type,e=i.pendingProps,o=Fc(Et.current).createElement(s),o[be]=i,o[Be]=e,Ye(o,s,e),Ie(o),i.stateNode=o):i.memoizedState=tv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Te(i),e===null&&Lt&&(o=i.stateNode=J_(i.type,i.pendingProps,Et.current),Ge=i,kn=!0,f=ae,Pr(i.type)?(Wd=f,ae=Fn(o.firstChild)):ae=f),Qe(e,i,i.pendingProps.children,s),Rc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Lt&&((f=o=ae)&&(o=H1(o,i.type,i.pendingProps,kn),o!==null?(i.stateNode=o,Ge=i,ae=Fn(o.firstChild),kn=!1,f=!0):f=!1),f||Ar(i)),Te(i),f=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,Yd(f,d)?o=null:_!==null&&Yd(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Qf(e,i,s1,null,null,s),xo._currentValue=f),Rc(e,i),Qe(e,i,o,s),i.child;case 6:return e===null&&Lt&&((e=s=ae)&&(s=G1(s,i.pendingProps,kn),s!==null?(i.stateNode=s,Ge=i,ae=null,e=!0):e=!1),e||Ar(i)),null;case 13:return jy(e,i,s);case 4:return Qt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ns(i,null,o,s):Qe(e,i,o,s),i.child;case 11:return xy(e,i,i.type,i.pendingProps,s);case 7:return Qe(e,i,i.pendingProps,s),i.child;case 8:return Qe(e,i,i.pendingProps.children,s),i.child;case 12:return Qe(e,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,Sr(i,i.type,o.value),Qe(e,i,o.children,s),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Ds(i),f=Ke(f),o=o(f),i.flags|=1,Qe(e,i,o,s),i.child;case 14:return Ny(e,i,i.type,i.pendingProps,s);case 15:return My(e,i,i.type,i.pendingProps,s);case 19:return qy(e,i,s);case 31:return d1(e,i,s);case 22:return Oy(e,i,s,i.pendingProps);case 24:return Ds(i),o=Ke(we),e===null?(f=Uf(),f===null&&(f=re,d=zf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:o,cache:f},Bf(i),Sr(i,we,f)):((e.lanes&s)!==0&&(jf(e,i),co(i,null,null,s),uo()),f=e.memoizedState,d=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Sr(i,we,o)):(o=d.cache,Sr(i,we,o),o!==f.cache&&Of(i,[we],s,!0))),Qe(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Yi(e){e.flags|=4}function Td(e,i,s,o,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(p_())e.flags|=8192;else throw xs=hc,Lf}else e.flags&=-16777217}function Hy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sv(i))if(p_())e.flags|=8192;else throw xs=hc,Lf}function Dc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ou():536870912,e.lanes|=i,Ba|=i)}function yo(e,i){if(!Lt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(i)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=s,i}function g1(e,i,s){var o=i.pendingProps;switch(Cf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(i),null;case 1:return le(i),null;case 3:return s=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Hi(we),wt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ra(i)?Yi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xf())),le(i),null;case 26:var f=i.type,d=i.memoizedState;return e===null?(Yi(i),d!==null?(le(i),Hy(i,d)):(le(i),Td(i,f,null,o,s))):d?d!==e.memoizedState?(Yi(i),le(i),Hy(i,d)):(le(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&Yi(i),le(i),Td(i,f,e,o,s)),null;case 27:if(vn(i),s=Et.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return le(i),null}e=k.current,Ra(i)?Sp(i):(e=J_(f,o,s),i.stateNode=e,Yi(i))}return le(i),null;case 5:if(vn(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return le(i),null}if(d=k.current,Ra(i))Sp(i);else{var _=Fc(Et.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(f,{is:o.is}):_.createElement(f)}}d[be]=i,d[Be]=o;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ye(d,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Yi(i)}}return le(i),Td(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=Et.current,Ra(i)){if(e=i.stateNode,s=i.memoizedProps,o=null,f=Ge,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[be]=i,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||j_(e.nodeValue,s)),e||Ar(i,!0)}else e=Fc(e).createTextNode(o),e[be]=i,i.stateNode=e}return le(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(o=Ra(i),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[be]=i}else Rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),e=!1}else s=xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(In(i),i):(In(i),null);if((i.flags&128)!==0)throw Error(r(558))}return le(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ra(i),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[be]=i}else Rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;le(i),f=!1}else f=xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(In(i),i):(In(i),null)}return In(i),(i.flags&128)!==0?(i.lanes=s,i):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),Dc(i,i.updateQueue),le(i),null);case 4:return wt(),e===null&&Fd(i.stateNode.containerInfo),le(i),null;case 10:return Hi(i.type),le(i),null;case 19:if(Z(ve),o=i.memoizedState,o===null)return le(i),null;if(f=(i.flags&128)!==0,d=o.rendering,d===null)if(f)yo(o,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=gc(e),d!==null){for(i.flags|=128,yo(o,!1),e=d.updateQueue,i.updateQueue=e,Dc(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)_p(s,e),s=s.sibling;return at(ve,ve.current&1|2),Lt&&qi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&rn()>Mc&&(i.flags|=128,f=!0,yo(o,!1),i.lanes=4194304)}else{if(!f)if(e=gc(d),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,Dc(i,e),yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Lt)return le(i),null}else 2*rn()-o.renderingStartTime>Mc&&s!==536870912&&(i.flags|=128,f=!0,yo(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(e=o.last,e!==null?e.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rn(),e.sibling=null,s=ve.current,at(ve,f?s&1|2:s&1),Lt&&qi(i,o.treeForkCount),e):(le(i),null);case 22:case 23:return In(i),Hf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(s&536870912)!==0&&(i.flags&128)===0&&(le(i),i.subtreeFlags&6&&(i.flags|=8192)):le(i),s=i.updateQueue,s!==null&&Dc(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),e!==null&&Z(Cs),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Hi(we),le(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function p1(e,i){switch(Cf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(we),wt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return vn(i),null;case 31:if(i.memoizedState!==null){if(In(i),i.alternate===null)throw Error(r(340));Rs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(In(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Rs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Z(ve),null;case 4:return wt(),null;case 10:return Hi(i.type),null;case 22:case 23:return In(i),Hf(),e!==null&&Z(Cs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(we),null;case 25:return null;default:return null}}function Gy(e,i){switch(Cf(i),i.tag){case 3:Hi(we),wt();break;case 26:case 27:case 5:vn(i);break;case 4:wt();break;case 31:i.memoizedState!==null&&In(i);break;case 13:In(i);break;case 19:Z(ve);break;case 10:Hi(i.type);break;case 22:case 23:In(i),Hf(),e!==null&&Z(Cs);break;case 24:Hi(we)}}function _o(e,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var f=o.next;s=f;do{if((s.tag&e)===e){o=void 0;var d=s.create,_=s.inst;o=d(),_.destroy=o}s=s.next}while(s!==f)}}catch(E){Zt(i,i.return,E)}}function Cr(e,i,s){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,f=i;var D=s,B=E;try{B()}catch(Q){Zt(f,D,Q)}}}o=o.next}while(o!==d)}}catch(Q){Zt(i,i.return,Q)}}function Ky(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Pp(i,s)}catch(o){Zt(e,e.return,o)}}}function Qy(e,i,s){s.props=Os(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Zt(e,i,o)}}function vo(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(f){Zt(e,i,f)}}function Ci(e,i){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(f){Zt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Zt(e,i,f)}else s.current=null}function Yy(e){var i=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(f){Zt(e,e.return,f)}}function Ad(e,i,s){try{var o=e.stateNode;L1(o,e.type,s,i),o[Be]=i}catch(f){Zt(e,e.return,f)}}function Xy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function Sd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Xy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bd(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Wn));else if(o!==4&&(o===27&&Pr(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(bd(e,i,s),e=e.sibling;e!==null;)bd(e,i,s),e=e.sibling}function Cc(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(o!==4&&(o===27&&Pr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Cc(e,i,s),e=e.sibling;e!==null;)Cc(e,i,s),e=e.sibling}function Zy(e){var i=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ye(i,o,s),i[be]=e,i[Be]=s}catch(d){Zt(e,e.return,d)}}var Xi=!1,Ve=!1,Id=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,ke=null;function y1(e,i){if(e=e.containerInfo,Kd=Zc,e=up(e),_f(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var _=0,E=-1,D=-1,B=0,Q=0,J=e,j=null;e:for(;;){for(var H;J!==s||f!==0&&J.nodeType!==3||(E=_+f),J!==d||o!==0&&J.nodeType!==3||(D=_+o),J.nodeType===3&&(_+=J.nodeValue.length),(H=J.firstChild)!==null;)j=J,J=H;for(;;){if(J===e)break e;if(j===s&&++B===f&&(E=_),j===d&&++Q===o&&(D=_),(H=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=H}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qd={focusedElem:e,selectionRange:s},Zc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)f=e[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var ut=Os(s.type,f);e=o.getSnapshotBeforeUpdate(ut,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Zt(s,s.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Zd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function $y(e,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ji(e,s),o&4&&_o(5,s);break;case 1:if(Ji(e,s),o&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(_){Zt(s,s.return,_)}else{var f=Os(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(s,s.return,_)}}o&64&&Ky(s),o&512&&vo(s,s.return);break;case 3:if(Ji(e,s),o&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Pp(e,i)}catch(_){Zt(s,s.return,_)}}break;case 27:i===null&&o&4&&Zy(s);case 26:case 5:Ji(e,s),i===null&&o&4&&Yy(s),o&512&&vo(s,s.return);break;case 12:Ji(e,s);break;case 31:Ji(e,s),o&4&&e_(e,s);break;case 13:Ji(e,s),o&4&&n_(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=R1.bind(null,s),K1(e,s))));break;case 22:if(o=s.memoizedState!==null||Xi,!o){i=i!==null&&i.memoizedState!==null||Ve,f=Xi;var d=Ve;Xi=o,(Ve=i)&&!d?$i(e,s,(s.subtreeFlags&8772)!==0):Ji(e,s),Xi=f,Ve=d}break;case 30:break;default:Ji(e,s)}}function Wy(e){var i=e.alternate;i!==null&&(e.alternate=null,Wy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ua(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,fn=!1;function Zi(e,i,s){for(s=s.child;s!==null;)t_(e,i,s),s=s.sibling}function t_(e,i,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Xn,s)}catch{}switch(s.tag){case 26:Ve||Ci(s,i),Zi(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||Ci(s,i);var o=ue,f=fn;Pr(s.type)&&(ue=s.stateNode,fn=!1),Zi(e,i,s),Do(s.stateNode),ue=o,fn=f;break;case 5:Ve||Ci(s,i);case 6:if(o=ue,f=fn,ue=null,Zi(e,i,s),ue=o,fn=f,ue!==null)if(fn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(d){Zt(s,i,d)}else try{ue.removeChild(s.stateNode)}catch(d){Zt(s,i,d)}break;case 18:ue!==null&&(fn?(e=ue,K_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Qa(e)):K_(ue,s.stateNode));break;case 4:o=ue,f=fn,ue=s.stateNode.containerInfo,fn=!0,Zi(e,i,s),ue=o,fn=f;break;case 0:case 11:case 14:case 15:Cr(2,s,i),Ve||Cr(4,s,i),Zi(e,i,s);break;case 1:Ve||(Ci(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Qy(s,i,o)),Zi(e,i,s);break;case 21:Zi(e,i,s);break;case 22:Ve=(o=Ve)||s.memoizedState!==null,Zi(e,i,s),Ve=o;break;default:Zi(e,i,s)}}function e_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(s){Zt(i,i.return,s)}}}function n_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(s){Zt(i,i.return,s)}}function _1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Jy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Jy),i;default:throw Error(r(435,e.tag))}}function Vc(e,i){var s=_1(e);i.forEach(function(o){if(!s.has(o)){s.add(o);var f=w1.bind(null,e,o);o.then(f,f)}})}function dn(e,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var f=s[o],d=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Pr(E.type)){ue=E.stateNode,fn=!1;break t}break;case 5:ue=E.stateNode,fn=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(ue===null)throw Error(r(160));t_(d,_,f),ue=null,fn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)i_(i,e),i=i.sibling}var si=null;function i_(e,i){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),o&4&&(Cr(3,e,e.return),_o(3,e),Cr(5,e,e.return));break;case 1:dn(i,e),mn(e),o&512&&(Ve||s===null||Ci(s,s.return)),o&64&&Xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var f=si;if(dn(i,e),mn(e),o&512&&(Ve||s===null||Ci(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),Ye(d,o,s),d[be]=e,Ie(d),o=d;break t;case"link":var _=iv("link","href",f).get(o+(s.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(E,1);break e}}d=f.createElement(o),Ye(d,o,s),f.head.appendChild(d);break;case"meta":if(_=iv("meta","content",f).get(o+(s.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(E,1);break e}}d=f.createElement(o),Ye(d,o,s),f.head.appendChild(d);break;default:throw Error(r(468,o))}d[be]=e,Ie(d),o=d}e.stateNode=o}else rv(f,e.type,e.stateNode);else e.stateNode=nv(f,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?rv(f,e.type,e.stateNode):nv(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ad(e,e.memoizedProps,s.memoizedProps)}break;case 27:dn(i,e),mn(e),o&512&&(Ve||s===null||Ci(s,s.return)),s!==null&&o&4&&Ad(e,e.memoizedProps,s.memoizedProps);break;case 5:if(dn(i,e),mn(e),o&512&&(Ve||s===null||Ci(s,s.return)),e.flags&32){f=e.stateNode;try{hn(f,"")}catch(ut){Zt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Ad(e,f,s!==null?s.memoizedProps:f)),o&1024&&(Id=!0);break;case 6:if(dn(i,e),mn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ut){Zt(e,e.return,ut)}}break;case 3:if(Kc=null,f=si,si=Hc(i.containerInfo),dn(i,e),si=f,mn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Qa(i.containerInfo)}catch(ut){Zt(e,e.return,ut)}Id&&(Id=!1,r_(e));break;case 4:o=si,si=Hc(e.stateNode.containerInfo),dn(i,e),mn(e),si=o;break;case 12:dn(i,e),mn(e);break;case 31:dn(i,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vc(e,o)));break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Nc=rn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vc(e,o)));break;case 22:f=e.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,B=Xi,Q=Ve;if(Xi=B||f,Ve=Q||D,dn(i,e),Ve=Q,Xi=B,mn(e),o&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||D||Xi||Ve||zs(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){D=s=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=D.stateNode;var J=D.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){Zt(D,D.return,ut)}}}else if(i.tag===6){if(s===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ut){Zt(D,D.return,ut)}}}else if(i.tag===18){if(s===null){D=i;try{var H=D.stateNode;f?Q_(H,!0):Q_(D.stateNode,!1)}catch(ut){Zt(D,D.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Vc(e,s))));break;case 19:dn(i,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vc(e,o)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var s,o=e.return;o!==null;){if(Xy(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,d=Sd(e);Cc(e,d,f);break;case 5:var _=s.stateNode;s.flags&32&&(hn(_,""),s.flags&=-33);var E=Sd(e);Cc(e,E,_);break;case 3:case 4:var D=s.stateNode.containerInfo,B=Sd(e);bd(e,B,D);break;default:throw Error(r(161))}}catch(Q){Zt(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function r_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;r_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ji(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)$y(e,i.alternate,i),i=i.sibling}function zs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cr(4,i,i.return),zs(i);break;case 1:Ci(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Qy(i,i.return,s),zs(i);break;case 27:Do(i.stateNode);case 26:case 5:Ci(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}e=e.sibling}}function $i(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:$i(f,d,s),_o(4,d);break;case 1:if($i(f,d,s),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Zt(o,o.return,B)}if(o=d,f=o.updateQueue,f!==null){var E=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)zp(D[f],E)}catch(B){Zt(o,o.return,B)}}s&&_&64&&Ky(d),vo(d,d.return);break;case 27:Zy(d);case 26:case 5:$i(f,d,s),s&&o===null&&_&4&&Yy(d),vo(d,d.return);break;case 12:$i(f,d,s);break;case 31:$i(f,d,s),s&&_&4&&e_(f,d);break;case 13:$i(f,d,s),s&&_&4&&n_(f,d);break;case 22:d.memoizedState===null&&$i(f,d,s),vo(d,d.return);break;case 30:break;default:$i(f,d,s)}i=i.sibling}}function Rd(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ro(s))}function wd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ro(e))}function ai(e,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s_(e,i,s,o),i=i.sibling}function s_(e,i,s,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ai(e,i,s,o),f&2048&&_o(9,i);break;case 1:ai(e,i,s,o);break;case 3:ai(e,i,s,o),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&ro(e)));break;case 12:if(f&2048){ai(e,i,s,o),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Zt(i,i.return,D)}}else ai(e,i,s,o);break;case 31:ai(e,i,s,o);break;case 13:ai(e,i,s,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ai(e,i,s,o):Eo(e,i):d._visibility&2?ai(e,i,s,o):(d._visibility|=2,Pa(e,i,s,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Rd(_,i);break;case 24:ai(e,i,s,o),f&2048&&wd(i.alternate,i);break;default:ai(e,i,s,o)}}function Pa(e,i,s,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,E=s,D=o,B=_.flags;switch(_.tag){case 0:case 11:case 15:Pa(d,_,E,D,f),_o(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Pa(d,_,E,D,f):Eo(d,_):(Q._visibility|=2,Pa(d,_,E,D,f)),f&&B&2048&&Rd(_.alternate,_);break;case 24:Pa(d,_,E,D,f),f&&B&2048&&wd(_.alternate,_);break;default:Pa(d,_,E,D,f)}i=i.sibling}}function Eo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,o=i,f=o.flags;switch(o.tag){case 22:Eo(s,o),f&2048&&Rd(o.alternate,o);break;case 24:Eo(s,o),f&2048&&wd(o.alternate,o);break;default:Eo(s,o)}i=i.sibling}}var To=8192;function Ua(e,i,s){if(e.subtreeFlags&To)for(e=e.child;e!==null;)a_(e,i,s),e=e.sibling}function a_(e,i,s){switch(e.tag){case 26:Ua(e,i,s),e.flags&To&&e.memoizedState!==null&&rS(s,si,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,i,s);break;case 3:case 4:var o=si;si=Hc(e.stateNode.containerInfo),Ua(e,i,s),si=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=To,To=16777216,Ua(e,i,s),To=o):Ua(e,i,s));break;default:Ua(e,i,s)}}function l_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ao(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];ke=o,u_(o,e)}l_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)o_(e),e=e.sibling}function o_(e){switch(e.tag){case 0:case 11:case 15:Ao(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:Ao(e);break;case 12:Ao(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,xc(e)):Ao(e);break;default:Ao(e)}}function xc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];ke=o,u_(o,e)}l_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cr(8,i,i.return),xc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,xc(i));break;default:xc(i)}e=e.sibling}}function u_(e,i){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Cr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ro(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var f=o.sibling,d=o.return;if(Wy(o),o===s){ke=null;break t}if(f!==null){f.return=d,ke=f;break t}ke=d}}}var v1={getCacheForType:function(e){var i=Ke(we),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return Ke(we).controller.signal}},E1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,re=null,Nt=null,zt=0,Xt=0,Rn=null,Vr=!1,La=!1,Dd=!1,Wi=0,me=0,xr=0,Ps=0,Cd=0,wn=0,Ba=0,So=null,gn=null,Vd=!1,Nc=0,c_=0,Mc=1/0,Oc=null,Nr=null,Ue=0,Mr=null,ja=null,tr=0,xd=0,Nd=null,h_=null,bo=0,Md=null;function Dn(){return(Gt&2)!==0&&zt!==0?zt&-zt:K.T!==null?Bd():zu()}function f_(){if(wn===0)if((zt&536870912)===0||Lt){var e=us;us<<=1,(us&3932160)===0&&(us=262144),wn=e}else wn=536870912;return e=bn.current,e!==null&&(e.flags|=32),wn}function pn(e,i,s){(e===re&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Or(e,zt,wn,!1)),cs(e,s),((Gt&2)===0||e!==re)&&(e===re&&((Gt&2)===0&&(Ps|=s),me===4&&Or(e,zt,wn,!1)),Vi(e))}function d_(e,i,s){if((Gt&6)!==0)throw Error(r(327));var o=!s&&(i&127)===0&&(i&e.expiredLanes)===0||Zn(e,i),f=o?S1(e,i):zd(e,i,!0),d=o;do{if(f===0){La&&!o&&Or(e,i,0,!1);break}else{if(s=e.current.alternate,d&&!T1(s)){f=zd(e,i,!1),d=!1;continue}if(f===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;f=So;var D=E.current.memoizedState.isDehydrated;if(D&&(ka(E,_).flags|=256),_=zd(E,_,!1),_!==2){if(Dd&&!D){E.errorRecoveryDisabledLanes|=d,Ps|=d,f=4;break t}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){ka(e,0),Or(e,i,0,!0);break}t:{switch(o=e,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Or(o,i,wn,!Vr);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Nc+300-rn(),10<f)){if(Or(o,i,wn,!Vr),fi(o,0,!0)!==0)break t;tr=i,o.timeoutHandle=H_(m_.bind(null,o,s,gn,Oc,Vd,i,wn,Ps,Ba,Vr,d,"Throttled",-0,0),f);break t}m_(o,s,gn,Oc,Vd,i,wn,Ps,Ba,Vr,d,null,-0,0)}}break}while(!0);Vi(e)}function m_(e,i,s,o,f,d,_,E,D,B,Q,J,j,H){if(e.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},a_(i,d,J);var ut=(d&62914560)===d?Nc-rn():(d&4194048)===d?c_-rn():0;if(ut=sS(J,ut),ut!==null){tr=d,e.cancelPendingCommit=ut(A_.bind(null,e,i,d,s,o,f,_,E,D,Q,J,null,j,H)),Or(e,d,_,!B);return}}A_(e,i,d,s,o,f,_,E,D)}function T1(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var f=s[o],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Or(e,i,s,o){i&=~Cd,i&=~Ps,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var f=i;0<f;){var d=31-ye(f),_=1<<d;o[d]=-1,f&=~_}s!==0&&hs(e,s,i)}function zc(){return(Gt&6)===0?(Io(0),!1):!0}function Od(){if(Nt!==null){if(Xt===0)var e=Nt.return;else e=Nt,Fi=ws=null,Zf(e),xa=null,ao=0,e=Nt;for(;e!==null;)Gy(e.alternate,e),e=e.return;Nt=null}}function ka(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,k1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),tr=0,Od(),re=e,Nt=s=ki(e.current,null),zt=i,Xt=0,Rn=null,Vr=!1,La=Zn(e,i),Dd=!1,Ba=wn=Cd=Ps=xr=me=0,gn=So=null,Vd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var f=31-ye(o),d=1<<f;i|=e[f],o&=~d}return Wi=i,nc(),s}function g_(e,i){Ct=null,K.H=go,i===Va||i===cc?(i=xp(),Xt=3):i===Lf?(i=xp(),Xt=4):Xt=i===fd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Nt===null&&(me=1,bc(e,Ln(i,e.current)))}function p_(){var e=bn.current;return e===null?!0:(zt&4194048)===zt?qn===null:(zt&62914560)===zt||(zt&536870912)!==0?e===qn:!1}function y_(){var e=K.H;return K.H=go,e===null?go:e}function __(){var e=K.A;return K.A=v1,e}function Pc(){me=4,Vr||(zt&4194048)!==zt&&bn.current!==null||(La=!0),(xr&134217727)===0&&(Ps&134217727)===0||re===null||Or(re,zt,wn,!1)}function zd(e,i,s){var o=Gt;Gt|=2;var f=y_(),d=__();(re!==e||zt!==i)&&(Oc=null,ka(e,i)),i=!1;var _=me;t:do try{if(Xt!==0&&Nt!==null){var E=Nt,D=Rn;switch(Xt){case 8:Od(),_=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var B=Xt;if(Xt=0,Rn=null,qa(e,E,D,B),s&&La){_=0;break t}break;default:B=Xt,Xt=0,Rn=null,qa(e,E,D,B)}}A1(),_=me;break}catch(Q){g_(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Fi=ws=null,Gt=o,K.H=f,K.A=d,Nt===null&&(re=null,zt=0,nc()),_}function A1(){for(;Nt!==null;)v_(Nt)}function S1(e,i){var s=Gt;Gt|=2;var o=y_(),f=__();re!==e||zt!==i?(Oc=null,Mc=rn()+500,ka(e,i)):La=Zn(e,i);t:do try{if(Xt!==0&&Nt!==null){i=Nt;var d=Rn;e:switch(Xt){case 1:Xt=0,Rn=null,qa(e,i,d,1);break;case 2:case 9:if(Cp(d)){Xt=0,Rn=null,E_(i);break}i=function(){Xt!==2&&Xt!==9||re!==e||(Xt=7),Vi(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Cp(d)?(Xt=0,Rn=null,E_(i)):(Xt=0,Rn=null,qa(e,i,d,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var E=Nt;if(_?sv(_):E.stateNode.complete){Xt=0,Rn=null;var D=E.sibling;if(D!==null)Nt=D;else{var B=E.return;B!==null?(Nt=B,Uc(B)):Nt=null}break e}}Xt=0,Rn=null,qa(e,i,d,5);break;case 6:Xt=0,Rn=null,qa(e,i,d,6);break;case 8:Od(),me=6;break t;default:throw Error(r(462))}}b1();break}catch(Q){g_(e,Q)}while(!0);return Fi=ws=null,K.H=o,K.A=f,Gt=s,Nt!==null?0:(re=null,zt=0,nc(),me)}function b1(){for(;Nt!==null&&!hf();)v_(Nt)}function v_(e){var i=Fy(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,i===null?Uc(e):Nt=i}function E_(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Uy(s,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=Uy(s,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:Zf(i);default:Gy(s,i),i=Nt=_p(i,Wi),i=Fy(s,i,Wi)}e.memoizedProps=e.pendingProps,i===null?Uc(e):Nt=i}function qa(e,i,s,o){Fi=ws=null,Zf(i),xa=null,ao=0;var f=i.return;try{if(f1(e,f,i,s,zt)){me=1,bc(e,Ln(s,e.current)),Nt=null;return}}catch(d){if(f!==null)throw Nt=f,d;me=1,bc(e,Ln(s,e.current)),Nt=null;return}i.flags&32768?(Lt||o===1?e=!0:La||(zt&536870912)!==0?e=!1:(Vr=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),T_(i,e)):Uc(i)}function Uc(e){var i=e;do{if((i.flags&32768)!==0){T_(i,Vr);return}e=i.return;var s=g1(i.alternate,i,Wi);if(s!==null){Nt=s;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);me===0&&(me=5)}function T_(e,i){do{var s=p1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);me=6,Nt=null}function A_(e,i,s,o,f,d,_,E,D){e.cancelPendingCommit=null;do Lc();while(Ue!==0);if((Gt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Sf,mf(e,s,d,_,E,D),e===re&&(Nt=re=null,zt=0),ja=i,Mr=e,tr=s,xd=d,Nd=f,h_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D1(cr,function(){return w_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,f=st.p,st.p=2,_=Gt,Gt|=4;try{y1(e,i,s)}finally{Gt=_,st.p=f,K.T=o}}Ue=1,S_(),b_(),I_()}}function S_(){if(Ue===1){Ue=0;var e=Mr,i=ja,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var o=st.p;st.p=2;var f=Gt;Gt|=4;try{i_(i,e);var d=Qd,_=up(e.containerInfo),E=d.focusedElem,D=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&op(E.ownerDocument.documentElement,E)){if(D!==null&&_f(E)){var B=D.start,Q=D.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var J=E.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var H=j.getSelection(),ut=E.textContent.length,vt=Math.min(D.start,ut),ie=D.end===void 0?vt:Math.min(D.end,ut);!H.extend&&vt>ie&&(_=ie,ie=vt,vt=_);var O=lp(E,vt),x=lp(E,ie);if(O&&x&&(H.rangeCount!==1||H.anchorNode!==O.node||H.anchorOffset!==O.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var L=J.createRange();L.setStart(O.node,O.offset),H.removeAllRanges(),vt>ie?(H.addRange(L),H.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),H.addRange(L))}}}}for(J=[],H=E;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Zc=!!Kd,Qd=Kd=null}finally{Gt=f,st.p=o,K.T=s}}e.current=i,Ue=2}}function b_(){if(Ue===2){Ue=0;var e=Mr,i=ja,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var o=st.p;st.p=2;var f=Gt;Gt|=4;try{$y(e,i.alternate,i)}finally{Gt=f,st.p=o,K.T=s}}Ue=3}}function I_(){if(Ue===4||Ue===3){Ue=0,Du();var e=Mr,i=ja,s=tr,o=h_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,ja=Mr=null,R_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Nr=null),Ui(s),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,f=st.p,st.p=2,K.T=null;try{for(var d=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];d(E.value,{componentStack:E.stack})}}finally{K.T=i,st.p=f}}(tr&3)!==0&&Lc(),Vi(e),f=e.pendingLanes,(s&261930)!==0&&(f&42)!==0?e===Md?bo++:(bo=0,Md=e):bo=0,Io(0)}}function R_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,ro(i)))}function Lc(){return S_(),b_(),I_(),w_()}function w_(){if(Ue!==5)return!1;var e=Mr,i=xd;xd=0;var s=Ui(tr),o=K.T,f=st.p;try{st.p=32>s?32:s,K.T=null,s=Nd,Nd=null;var d=Mr,_=tr;if(Ue=0,ja=Mr=null,tr=0,(Gt&6)!==0)throw Error(r(331));var E=Gt;if(Gt|=4,o_(d.current),s_(d,d.current,_,s),Gt=E,Io(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{st.p=f,K.T=o,R_(e,i)}}function D_(e,i,s){i=Ln(s,i),i=hd(e.stateNode,i,2),e=Rr(e,i,2),e!==null&&(cs(e,2),Vi(e))}function Zt(e,i,s){if(e.tag===3)D_(e,e,s);else for(;i!==null;){if(i.tag===3){D_(i,e,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Nr===null||!Nr.has(o))){e=Ln(s,e),s=Cy(2),o=Rr(i,s,2),o!==null&&(Vy(s,o,i,e),cs(o,2),Vi(o));break}}i=i.return}}function Pd(e,i,s){var o=e.pingCache;if(o===null){o=e.pingCache=new E1;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(s)||(Dd=!0,f.add(s),e=I1.bind(null,e,i,s),i.then(e,e))}function I1(e,i,s){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,re===e&&(zt&s)===s&&(me===4||me===3&&(zt&62914560)===zt&&300>rn()-Nc?(Gt&2)===0&&ka(e,0):Cd|=s,Ba===zt&&(Ba=0)),Vi(e)}function C_(e,i){i===0&&(i=Ou()),e=bs(e,i),e!==null&&(cs(e,i),Vi(e))}function R1(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),C_(e,s)}function w1(e,i){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),C_(e,s)}function D1(e,i){return Pe(e,i)}var Bc=null,Fa=null,Ud=!1,jc=!1,Ld=!1,zr=0;function Vi(e){e!==Fa&&e.next===null&&(Fa===null?Bc=Fa=e:Fa=Fa.next=e),jc=!0,Ud||(Ud=!0,V1())}function Io(e,i){if(!Ld&&jc){Ld=!0;do for(var s=!1,o=Bc;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var _=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-ye(42|e)+1)-1,d&=f&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,M_(o,d))}else d=zt,d=fi(o,o===re?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Zn(o,d)||(s=!0,M_(o,d));o=o.next}while(s);Ld=!1}}function C1(){V_()}function V_(){jc=Ud=!1;var e=0;zr!==0&&j1()&&(e=zr);for(var i=rn(),s=null,o=Bc;o!==null;){var f=o.next,d=x_(o,i);d===0?(o.next=null,s===null?Bc=f:s.next=f,f===null&&(Fa=s)):(s=o,(e!==0||(d&3)!==0)&&(jc=!0)),o=f}Ue!==0&&Ue!==5||Io(e),zr!==0&&(zr=0)}function x_(e,i){for(var s=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ye(d),E=1<<_,D=f[_];D===-1?((E&s)===0||(E&o)!==0)&&(f[_]=df(E,i)):D<=i&&(e.expiredLanes|=E),d&=~E}if(i=re,s=zt,s=fi(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ur(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Zn(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(o!==null&&ur(o),Ui(s)){case 2:case 8:s=Ol;break;case 32:s=cr;break;case 268435456:s=Cu;break;default:s=cr}return o=N_.bind(null,e),s=Pe(s,o),e.callbackPriority=i,e.callbackNode=s,i}return o!==null&&o!==null&&ur(o),e.callbackPriority=2,e.callbackNode=null,2}function N_(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Lc()&&e.callbackNode!==s)return null;var o=zt;return o=fi(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(d_(e,o,i),x_(e,rn()),e.callbackNode!=null&&e.callbackNode===s?N_.bind(null,e):null)}function M_(e,i){if(Lc())return null;d_(e,i,!0)}function V1(){q1(function(){(Gt&6)!==0?Pe(Ml,C1):V_()})}function Bd(){if(zr===0){var e=Da;e===0&&(e=ci,ci<<=1,(ci&261888)===0&&(ci=256)),zr=e}return zr}function O_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:da(""+e)}function z_(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function x1(e,i,s,o,f){if(i==="submit"&&s&&s.stateNode===f){var d=O_((f[Be]||null).action),_=o.submitter;_&&(i=(i=_[Be]||null)?O_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new Si("action","action",null,o,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(zr!==0){var D=_?z_(f,_):new FormData(f);sd(s,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(E.preventDefault(),D=_?z_(f,_):new FormData(f),sd(s,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var jd=0;jd<Af.length;jd++){var kd=Af[jd],N1=kd.toLowerCase(),M1=kd[0].toUpperCase()+kd.slice(1);ri(N1,"on"+M1)}ri(fp,"onAnimationEnd"),ri(dp,"onAnimationIteration"),ri(mp,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(XA,"onTransitionRun"),ri(ZA,"onTransitionStart"),ri(JA,"onTransitionCancel"),ri(gp,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function P_(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],f=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],D=E.instance,B=E.currentTarget;if(E=E.listener,D!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=B;try{d(f)}catch(Q){ec(Q)}f.currentTarget=null,d=D}else for(_=0;_<o.length;_++){if(E=o[_],D=E.instance,B=E.currentTarget,E=E.listener,D!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=B;try{d(f)}catch(Q){ec(Q)}f.currentTarget=null,d=D}}}}function Mt(e,i){var s=i[oa];s===void 0&&(s=i[oa]=new Set);var o=e+"__bubble";s.has(o)||(U_(i,e,2,!1),s.add(o))}function qd(e,i,s){var o=0;i&&(o|=4),U_(s,e,o,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Fd(e){if(!e[kc]){e[kc]=!0,Ul.forEach(function(s){s!=="selectionchange"&&(O1.has(s)||qd(s,!1,e),qd(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[kc]||(i[kc]=!0,qd("selectionchange",!1,i))}}function U_(e,i,s,o){switch(fv(i)){case 2:var f=oS;break;case 8:f=uS;break;default:f=rm}s=f.bind(null,i,s,e),f=void 0,!ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(i,s,{capture:!0,passive:f}):e.addEventListener(i,s,!0):f!==void 0?e.addEventListener(i,s,{passive:f}):e.addEventListener(i,s,!1)}function Hd(e,i,s,o,f){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===f)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;E!==null;){if(_=pi(E),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=d=_;continue t}E=E.parentNode}}o=o.return}pr(function(){var B=d,Q=On(s),J=[];t:{var j=pp.get(e);if(j!==void 0){var H=Si,ut=e;switch(e){case"keypress":if(_s(s)===0)break t;case"keydown":case"keyup":H=$u;break;case"focusin":ut="focus",H=Es;break;case"focusout":ut="blur",H=Es;break;case"beforeblur":case"afterblur":H=Es;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case fp:case dp:case mp:H=Gu;break;case gp:H=A;break;case"scroll":case"scrollend":H=Xl;break;case"wheel":H=F;break;case"copy":case"cut":case"paste":H=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ji;break;case"toggle":case"beforetoggle":H=Dt}var vt=(i&4)!==0,ie=!vt&&(e==="scroll"||e==="scrollend"),O=vt?j!==null?j+"Capture":null:j;vt=[];for(var x=B,L;x!==null;){var X=x;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||O===null||(X=ti(x,O),X!=null&&vt.push(wo(x,X,L))),ie)break;x=x.return}0<vt.length&&(j=new H(j,ut,null,s,Q),J.push({event:j,listeners:vt}))}}if((i&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==Kl&&(ut=s.relatedTarget||s.fromElement)&&(pi(ut)||ut[mi]))break t;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ut=s.relatedTarget||s.toElement,H=B,ut=ut?pi(ut):null,ut!==null&&(ie=u(ut),vt=ut.tag,ut!==ie||vt!==5&&vt!==27&&vt!==6)&&(ut=null)):(H=null,ut=B),H!==ut)){if(vt=Zl,X="onMouseLeave",O="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(vt=ji,X="onPointerLeave",O="onPointerEnter",x="pointer"),ie=H==null?j:En(H),L=ut==null?j:En(ut),j=new vt(X,x+"leave",H,s,Q),j.target=ie,j.relatedTarget=L,X=null,pi(Q)===B&&(vt=new vt(O,x+"enter",ut,s,Q),vt.target=L,vt.relatedTarget=ie,X=vt),ie=X,H&&ut)e:{for(vt=z1,O=H,x=ut,L=0,X=O;X;X=vt(X))L++;X=0;for(var yt=x;yt;yt=vt(yt))X++;for(;0<L-X;)O=vt(O),L--;for(;0<X-L;)x=vt(x),X--;for(;L--;){if(O===x||x!==null&&O===x.alternate){vt=O;break e}O=vt(O),x=vt(x)}vt=null}else vt=null;H!==null&&L_(J,j,H,vt,!1),ut!==null&&ie!==null&&L_(J,ie,ut,vt,!0)}}t:{if(j=B?En(B):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var kt=ep;else if(Wg(j))if(np)kt=KA;else{kt=HA;var ft=FA}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&fa(B.elementType)&&(kt=ep):kt=GA;if(kt&&(kt=kt(e,B))){tp(J,kt,s,Q);break t}ft&&ft(e,j,B),e==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Fl(j,"number",j.value)}switch(ft=B?En(B):window,e){case"focusin":(Wg(ft)||ft.contentEditable==="true")&&(Ea=ft,vf=B,eo=null);break;case"focusout":eo=vf=Ea=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,cp(J,s,Q);break;case"selectionchange":if(YA)break;case"keydown":case"keyup":cp(J,s,Q)}var Vt;if(Ht)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else va?Ts(e,s)&&(Pt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Pt="onCompositionStart");Pt&&(Ri&&s.locale!=="ko"&&(va||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&va&&(Vt=Yl()):(Ai=Q,Ql="value"in Ai?Ai.value:Ai.textContent,va=!0)),ft=qc(B,Pt),0<ft.length&&(Pt=new Ii(Pt,e,null,s,Q),J.push({event:Pt,listeners:ft}),Vt?Pt.data=Vt:(Vt=_a(s),Vt!==null&&(Pt.data=Vt)))),(Vt=Pn?BA(e,s):jA(e,s))&&(Pt=qc(B,"onBeforeInput"),0<Pt.length&&(ft=new Ii("onBeforeInput","beforeinput",null,s,Q),J.push({event:ft,listeners:Pt}),ft.data=Vt)),x1(J,e,B,s,Q)}P_(J,i)})}function wo(e,i,s){return{instance:e,listener:i,currentTarget:s}}function qc(e,i){for(var s=i+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ti(e,s),f!=null&&o.unshift(wo(e,f,d)),f=ti(e,i),f!=null&&o.push(wo(e,f,d))),e.tag===3)return o;e=e.return}return[]}function z1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function L_(e,i,s,o,f){for(var d=i._reactName,_=[];s!==null&&s!==o;){var E=s,D=E.alternate,B=E.stateNode;if(E=E.tag,D!==null&&D===o)break;E!==5&&E!==26&&E!==27||B===null||(D=B,f?(B=ti(s,d),B!=null&&_.unshift(wo(s,B,D))):f||(B=ti(s,d),B!=null&&_.push(wo(s,B,D)))),s=s.return}_.length!==0&&e.push({event:i,listeners:_})}var P1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function B_(e){return(typeof e=="string"?e:""+e).replace(P1,`
`).replace(U1,"")}function j_(e,i){return i=B_(i),B_(e)===i}function ne(e,i,s,o,f,d){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||hn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&hn(e,""+o);break;case"className":Tn(e,"class",o);break;case"tabIndex":Tn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(e,s,o);break;case"style":Gl(e,o,d);break;case"data":if(i!=="object"){Tn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=da(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&ne(e,i,"name",f.name,f,null),ne(e,i,"formEncType",f.formEncType,f,null),ne(e,i,"formMethod",f.formMethod,f,null),ne(e,i,"formTarget",f.formTarget,f,null)):(ne(e,i,"encType",f.encType,f,null),ne(e,i,"method",f.method,f,null),ne(e,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=da(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Wn);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=da(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ca(e,"popover",o);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ca(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=qu.get(s)||s,ca(e,s,o))}}function Gd(e,i,s,o,f,d){switch(s){case"style":Gl(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(f.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?hn(e,o):(typeof o=="number"||typeof o=="bigint")&&hn(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ll.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=e[Be]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,o,f);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ca(e,s,o)}}}function Ye(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ne(e,i,d,_,s,null)}}f&&ne(e,i,"srcSet",s.srcSet,s,null),o&&ne(e,i,"src",s.src,s,null);return;case"input":Mt("invalid",e);var E=d=_=f=null,D=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":f=Q;break;case"type":_=Q;break;case"checked":D=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:ne(e,i,o,Q,s,null)}}Bu(e,d,E,D,B,_,f,!1);return;case"select":Mt("invalid",e),o=_=d=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:ne(e,i,f,E,s,null)}i=d,s=_,e.multiple=!!o,i!=null?fr(e,!!o,i,!1):s!=null&&fr(e,!!o,s,!0);return;case"textarea":Mt("invalid",e),d=f=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(E=s[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ne(e,i,_,E,s,null)}dr(e,o,f,d);return;case"option":for(D in s)s.hasOwnProperty(D)&&(o=s[D],o!=null)&&(D==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,i,D,o,s,null));return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<Ro.length;o++)Mt(Ro[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ne(e,i,B,o,s,null)}return;default:if(fa(i)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&Gd(e,i,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ne(e,i,E,o,s,null))}function L1(e,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,E=null,D=null,B=null,Q=null;for(H in s){var J=s[H];if(s.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=J;default:o.hasOwnProperty(H)||ne(e,i,H,null,o,J)}}for(var j in o){var H=o[j];if(J=s[j],o.hasOwnProperty(j)&&(H!=null||J!=null))switch(j){case"type":d=H;break;case"name":f=H;break;case"checked":B=H;break;case"defaultChecked":Q=H;break;case"value":_=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==J&&ne(e,i,j,H,o,J)}}ha(e,_,E,D,B,Q,d,f);return;case"select":H=_=E=j=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":H=D;default:o.hasOwnProperty(d)||ne(e,i,d,null,o,D)}for(f in o)if(d=o[f],D=s[f],o.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":j=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==D&&ne(e,i,f,d,o,D)}i=E,s=_,o=H,j!=null?fr(e,!!s,j,!1):!!o!=!!s&&(i!=null?fr(e,!!s,i,!0):fr(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,i,E,null,o,f)}for(_ in o)if(f=o[_],d=s[_],o.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":j=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ne(e,i,_,f,o,d)}ju(e,j,H);return;case"option":for(var ut in s)j=s[ut],s.hasOwnProperty(ut)&&j!=null&&!o.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:ne(e,i,ut,null,o,j));for(D in o)j=o[D],H=s[D],o.hasOwnProperty(D)&&j!==H&&(j!=null||H!=null)&&(D==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ne(e,i,D,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)j=s[vt],s.hasOwnProperty(vt)&&j!=null&&!o.hasOwnProperty(vt)&&ne(e,i,vt,null,o,j);for(B in o)if(j=o[B],H=s[B],o.hasOwnProperty(B)&&j!==H&&(j!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,i));break;default:ne(e,i,B,j,o,H)}return;default:if(fa(i)){for(var ie in s)j=s[ie],s.hasOwnProperty(ie)&&j!==void 0&&!o.hasOwnProperty(ie)&&Gd(e,i,ie,void 0,o,j);for(Q in o)j=o[Q],H=s[Q],!o.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||Gd(e,i,Q,j,o,H);return}}for(var O in s)j=s[O],s.hasOwnProperty(O)&&j!=null&&!o.hasOwnProperty(O)&&ne(e,i,O,null,o,j);for(J in o)j=o[J],H=s[J],!o.hasOwnProperty(J)||j===H||j==null&&H==null||ne(e,i,J,j,o,H)}function k_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var f=s[o],d=f.transferSize,_=f.initiatorType,E=f.duration;if(d&&E&&k_(_)){for(_=0,E=f.responseEnd,o+=1;o<s.length;o++){var D=s[o],B=D.startTime;if(B>E)break;var Q=D.transferSize,J=D.initiatorType;Q&&k_(J)&&(D=D.responseEnd,_+=Q*(D<E?1:(E-B)/(D-B)))}if(--o,i+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Kd=null,Qd=null;function Fc(e){return e.nodeType===9?e:e.ownerDocument}function q_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Yd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xd=null;function j1(){var e=window.event;return e&&e.type==="popstate"?e===Xd?!1:(Xd=e,!0):(Xd=null,!1)}var H_=typeof setTimeout=="function"?setTimeout:void 0,k1=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,q1=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(e){return G_.resolve(null).then(e).catch(F1)}:H_;function F1(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function K_(e,i){var s=i,o=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(f),Qa(i);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Do(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Do(s);for(var d=s.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[gi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&Do(e.ownerDocument.body);s=f}while(s);Qa(i)}function Q_(e,i){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Zd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Zd(s),ua(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function H1(e,i,s,o){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[gi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function G1(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Fn(e.nextSibling),e===null))return null;return e}function Y_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Fn(e.nextSibling),e===null))return null;return e}function Jd(e){return e.data==="$?"||e.data==="$~"}function $d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function K1(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var o=function(){i(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Wd=null;function X_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return Fn(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function Z_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function J_(e,i,s){switch(i=Fc(s),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Do(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ua(e)}var Hn=new Map,$_=new Set;function Hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var er=st.d;st.d={f:Q1,r:Y1,D:X1,C:Z1,L:J1,m:$1,X:tS,S:W1,M:eS};function Q1(){var e=er.f(),i=zc();return e||i}function Y1(e){var i=Mn(e);i!==null&&i.tag===5&&i.type==="form"?gy(i):er.r(e)}var Ha=typeof document>"u"?null:document;function W_(e,i,s){var o=Ha;if(o&&typeof i=="string"&&i){var f=cn(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),$_.has(f)||($_.add(f),e={rel:e,crossOrigin:s,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Ye(i,"link",e),Ie(i),o.head.appendChild(i)))}}function X1(e){er.D(e),W_("dns-prefetch",e,null)}function Z1(e,i){er.C(e,i),W_("preconnect",e,i)}function J1(e,i,s){er.L(e,i,s);var o=Ha;if(o&&e&&i){var f='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+cn(s.imageSizes)+'"]')):f+='[href="'+cn(e)+'"]';var d=f;switch(i){case"style":d=Ga(e);break;case"script":d=Ka(e)}Hn.has(d)||(e=S({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),Hn.set(d,e),o.querySelector(f)!==null||i==="style"&&o.querySelector(Co(d))||i==="script"&&o.querySelector(Vo(d))||(i=o.createElement("link"),Ye(i,"link",e),Ie(i),o.head.appendChild(i)))}}function $1(e,i){er.m(e,i);var s=Ha;if(s&&e){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+cn(o)+'"][href="'+cn(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(e)}if(!Hn.has(d)&&(e=S({rel:"modulepreload",href:e},i),Hn.set(d,e),s.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Vo(d)))return}o=s.createElement("link"),Ye(o,"link",e),Ie(o),s.head.appendChild(o)}}}function W1(e,i,s){er.S(e,i,s);var o=Ha;if(o&&e){var f=yi(o).hoistableStyles,d=Ga(e);i=i||"default";var _=f.get(d);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Co(d)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},s),(s=Hn.get(d))&&tm(e,s);var D=_=o.createElement("link");Ie(D),Ye(D,"link",e),D._p=new Promise(function(B,Q){D.onload=B,D.onerror=Q}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Gc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},f.set(d,_)}}}function tS(e,i){er.X(e,i);var s=Ha;if(s&&e){var o=yi(s).hoistableScripts,f=Ka(e),d=o.get(f);d||(d=s.querySelector(Vo(f)),d||(e=S({src:e,async:!0},i),(i=Hn.get(f))&&em(e,i),d=s.createElement("script"),Ie(d),Ye(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function eS(e,i){er.M(e,i);var s=Ha;if(s&&e){var o=yi(s).hoistableScripts,f=Ka(e),d=o.get(f);d||(d=s.querySelector(Vo(f)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Hn.get(f))&&em(e,i),d=s.createElement("script"),Ie(d),Ye(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function tv(e,i,s,o){var f=(f=Et.current)?Hc(f):null;if(!f)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Ga(s.href),s=yi(f).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ga(s.href);var d=yi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Co(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Hn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(e,s),d||nS(f,e,s,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(s),s=yi(f).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ga(e){return'href="'+cn(e)+'"'}function Co(e){return'link[rel="stylesheet"]['+e+"]"}function ev(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function nS(e,i,s,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ye(i,"link",s),Ie(i),e.head.appendChild(i))}function Ka(e){return'[src="'+cn(e)+'"]'}function Vo(e){return"script[async]"+e}function nv(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+cn(s.href)+'"]');if(o)return i.instance=o,Ie(o),o;var f=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ie(o),Ye(o,"style",f),Gc(o,s.precedence,e),i.instance=o;case"stylesheet":f=Ga(s.href);var d=e.querySelector(Co(f));if(d)return i.state.loading|=4,i.instance=d,Ie(d),d;o=ev(s),(f=Hn.get(f))&&tm(o,f),d=(e.ownerDocument||e).createElement("link"),Ie(d);var _=d;return _._p=new Promise(function(E,D){_.onload=E,_.onerror=D}),Ye(d,"link",o),i.state.loading|=4,Gc(d,s.precedence,e),i.instance=d;case"script":return d=Ka(s.src),(f=e.querySelector(Vo(d)))?(i.instance=f,Ie(f),f):(o=s,(f=Hn.get(d))&&(o=S({},s),em(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ie(f),Ye(f,"link",o),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Gc(o,s.precedence,e));return i.instance}function Gc(e,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function tm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function em(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Kc=null;function iv(e,i,s){if(Kc===null){var o=new Map,f=Kc=new Map;f.set(s,o)}else f=Kc,o=f.get(s),o||(o=new Map,f.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[gi]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var E=o.get(_);E?E.push(d):o.set(_,[d])}}return o}function rv(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function iS(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rS(e,i,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Ga(o.href),d=i.querySelector(Co(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Qc.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=d,Ie(d);return}d=i.ownerDocument||i,o=ev(o),(f=Hn.get(f))&&tm(o,f),d=d.createElement("link"),Ie(d);var _=d;_._p=new Promise(function(E,D){_.onload=E,_.onerror=D}),Ye(d,"link",o),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Qc.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var nm=0;function sS(e,i){return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&nm===0&&(nm=62500*B1());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>nm?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yc=null;function Xc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yc=new Map,i.forEach(aS,e),Yc=null,Qc.call(e))}function aS(e,i){if(!(i.state.loading&4)){var s=Yc.get(e);if(s)var o=s.get(null);else{s=new Map,Yc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}f=i.instance,_=f.getAttribute("data-precedence"),d=s.get(_)||o,d===o&&s.set(null,f),s.set(_,f),this.count++,o=Qc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var xo={$$typeof:ot,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function lS(e,i,s,o,f,d,_,E,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function av(e,i,s,o,f,d,_,E,D,B,Q,J){return e=new lS(e,i,s,_,D,B,Q,J,E),i=1,d===!0&&(i|=24),d=Sn(3,null,null,i),e.current=d,d.stateNode=e,i=zf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:i},Bf(d),e}function lv(e){return e?(e=Sa,e):Sa}function ov(e,i,s,o,f,d){f=lv(f),o.context===null?o.context=f:o.pendingContext=f,o=Ir(i),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Rr(e,o,i),s!==null&&(pn(s,e,i),oo(s,e,i))}function uv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function im(e,i){uv(e,i),(e=e.alternate)&&uv(e,i)}function cv(e){if(e.tag===13||e.tag===31){var i=bs(e,67108864);i!==null&&pn(i,e,67108864),im(e,67108864)}}function hv(e){if(e.tag===13||e.tag===31){var i=Dn();i=fs(i);var s=bs(e,i);s!==null&&pn(s,e,i),im(e,i)}}var Zc=!0;function oS(e,i,s,o){var f=K.T;K.T=null;var d=st.p;try{st.p=2,rm(e,i,s,o)}finally{st.p=d,K.T=f}}function uS(e,i,s,o){var f=K.T;K.T=null;var d=st.p;try{st.p=8,rm(e,i,s,o)}finally{st.p=d,K.T=f}}function rm(e,i,s,o){if(Zc){var f=sm(o);if(f===null)Hd(e,i,o,Jc,s),dv(e,o);else if(hS(f,e,i,s,o))o.stopPropagation();else if(dv(e,o),i&4&&-1<cS.indexOf(e)){for(;f!==null;){var d=Mn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var D=1<<31-ye(_);E.entanglements[1]|=D,_&=~D}Vi(d),(Gt&6)===0&&(Mc=rn()+500,Io(0))}}break;case 31:case 13:E=bs(d,2),E!==null&&pn(E,d,2),zc(),im(d,2)}if(d=sm(o),d===null&&Hd(e,i,o,Jc,s),d===f)break;f=d}f!==null&&o.stopPropagation()}else Hd(e,i,o,null,s)}}function sm(e){return e=On(e),am(e)}var Jc=null;function am(e){if(Jc=null,e=pi(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=h(i),e!==null)return e;e=null}else if(s===31){if(e=m(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Jc=e,null}function fv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(os()){case Ml:return 2;case Ol:return 8;case cr:case ff:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var lm=!1,Ur=null,Lr=null,Br=null,No=new Map,Mo=new Map,jr=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(e,i){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":No.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(i.pointerId)}}function Oo(e,i,s,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Mn(i),i!==null&&cv(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function hS(e,i,s,o,f){switch(i){case"focusin":return Ur=Oo(Ur,e,i,s,o,f),!0;case"dragenter":return Lr=Oo(Lr,e,i,s,o,f),!0;case"mouseover":return Br=Oo(Br,e,i,s,o,f),!0;case"pointerover":var d=f.pointerId;return No.set(d,Oo(No.get(d)||null,e,i,s,o,f)),!0;case"gotpointercapture":return d=f.pointerId,Mo.set(d,Oo(Mo.get(d)||null,e,i,s,o,f)),!0}return!1}function mv(e){var i=pi(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){e.blockedOn=i,Jn(e.priority,function(){hv(s)});return}}else if(i===31){if(i=m(s),i!==null){e.blockedOn=i,Jn(e.priority,function(){hv(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=sm(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Kl=o,s.target.dispatchEvent(o),Kl=null}else return i=Mn(s),i!==null&&cv(i),e.blockedOn=s,!1;i.shift()}return!0}function gv(e,i,s){$c(e)&&s.delete(i)}function fS(){lm=!1,Ur!==null&&$c(Ur)&&(Ur=null),Lr!==null&&$c(Lr)&&(Lr=null),Br!==null&&$c(Br)&&(Br=null),No.forEach(gv),Mo.forEach(gv)}function Wc(e,i){e.blockedOn===i&&(e.blockedOn=null,lm||(lm=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,fS)))}var th=null;function pv(e){th!==e&&(th=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){th===e&&(th=null);for(var i=0;i<e.length;i+=3){var s=e[i],o=e[i+1],f=e[i+2];if(typeof o!="function"){if(am(o||s)===null)continue;break}var d=Mn(s);d!==null&&(e.splice(i,3),i-=3,sd(d,{pending:!0,data:f,method:s.method,action:o},o,f))}}))}function Qa(e){function i(D){return Wc(D,e)}Ur!==null&&Wc(Ur,e),Lr!==null&&Wc(Lr,e),Br!==null&&Wc(Br,e),No.forEach(i),Mo.forEach(i);for(var s=0;s<jr.length;s++){var o=jr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<jr.length&&(s=jr[0],s.blockedOn===null);)mv(s),s.blockedOn===null&&jr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var f=s[o],d=s[o+1],_=f[Be]||null;if(typeof d=="function")_||pv(s);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Be]||null)E=_.formAction;else if(am(f)!==null)continue}else E=_.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),pv(s)}}}function yv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function om(e){this._internalRoot=e}eh.prototype.render=om.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,o=Dn();ov(s,o,e,i,null,null)},eh.prototype.unmount=om.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;ov(e.current,2,null,e,null,null),zc(),i[mi]=null}};function eh(e){this._internalRoot=e}eh.prototype.unstable_scheduleHydration=function(e){if(e){var i=zu();e={blockedOn:null,target:e,priority:i};for(var s=0;s<jr.length&&i!==0&&i<jr[s].priority;s++);jr.splice(s,0,e),s===0&&mv(e)}};var _v=t.version;if(_v!=="19.2.4")throw Error(r(527,_v,"19.2.4"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var dS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Xn=nh.inject(dS),Fe=nh}catch{}}return Po.createRoot=function(e,i){if(!l(e))throw Error(r(299));var s=!1,o="",f=Iy,d=Ry,_=wy;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=av(e,1,!1,null,null,s,o,null,f,d,_,yv),e[mi]=i.current,Fd(e),new om(i)},Po.hydrateRoot=function(e,i,s){if(!l(e))throw Error(r(299));var o=!1,f="",d=Iy,_=Ry,E=wy,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),i=av(e,1,!0,i,s??null,o,f,D,d,_,E,yv),i.context=lv(null),s=i.current,o=Dn(),o=fs(o),f=Ir(o),f.callback=null,Rr(s,f,o),s=o,i.current.lanes=s,cs(i,s),Vi(i),e[mi]=i.current,Fd(e),new eh(i)},Po.version="19.2.4",Po}var Dv;function SS(){if(Dv)return hm.exports;Dv=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),hm.exports=AS(),hm.exports}var bS=SS();const IS=()=>{};var Cv={};const cT=function(a){const t=[];let n=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},RS=function(a){const t=[];let n=0,r=0;for(;n<a.length;){const l=a[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=a[n++];t[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=a[n++],h=a[n++],m=a[n++],g=((l&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=a[n++],h=a[n++];t[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|h&63)}}return t.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const u=a[l],h=l+1<a.length,m=h?a[l+1]:0,g=l+2<a.length,y=g?a[l+2]:0,T=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,q=y&63;g||(q=64,h||(R=64)),r.push(n[T],n[S],n[R],n[q])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(cT(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):RS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const u=n[a.charAt(l++)],m=l<a.length?n[a.charAt(l)]:0;++l;const y=l<a.length?n[a.charAt(l)]:64;++l;const S=l<a.length?n[a.charAt(l)]:64;if(++l,u==null||m==null||y==null||S==null)throw new wS;const R=u<<2|m>>4;if(r.push(R),y!==64){const q=m<<4&240|y>>2;if(r.push(q),S!==64){const $=y<<6&192|S;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DS=function(a){const t=cT(a);return hT.encodeByteArray(t,!0)},Ah=function(a){return DS(a).replace(/\./g,"")},CS=function(a){try{return hT.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VS=()=>fT().__FIREBASE_DEFAULTS__,xS=()=>{if(typeof process>"u"||typeof Cv>"u")return;const a=Cv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},NS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&CS(a[1]);return t&&JSON.parse(t)},ag=()=>{try{return IS()||VS()||xS()||NS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},MS=a=>ag()?.emulatorHosts?.[a],OS=a=>{const t=MS(a);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},dT=()=>ag()?.config;class zS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function lg(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PS(a){return(await fetch(a,{credentials:"include"})).ok}function US(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(h)),""].join(".")}const Yo={};function LS(){const a={prod:[],emulator:[]};for(const t of Object.keys(Yo))Yo[t]?a.emulator.push(t):a.prod.push(t);return a}function BS(a){let t=document.getElementById(a),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),n=!0),{created:n,element:t}}let Vv=!1;function jS(a,t){if(typeof window>"u"||typeof document>"u"||!lg(window.location.host)||Yo[a]===t||Yo[a]||Vv)return;Yo[a]=t;function n(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=LS().prod.length>0;function h(){const R=document.getElementById(r);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,q){R.setAttribute("width","24"),R.setAttribute("id",q),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Vv=!0,h()},R}function T(R,q){R.setAttribute("id",q),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=BS(r),q=n("text"),$=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),et=document.getElementById(W)||document.createElement("a"),pt=n("preprendIcon"),gt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ot=R.element;m(ot),T(et,W);const bt=y();g(gt,pt),ot.append(gt,$,et,bt),document.body.appendChild(ot)}u?($.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Sh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mT(){const a=ag()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gT(){return!mT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pT(){return!mT()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function yT(){try{return typeof indexedDB=="object"}catch{return!1}}function kS(){return new Promise((a,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}const qS="FirebaseError";class Il extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=qS,Object.setPrototypeOf(this,Il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_T.prototype.create)}}class _T{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],h=u?FS(u,r):"Error",m=`${this.serviceName}: ${h} (${l}).`;return new Il(l,m,r)}}function FS(a,t){return a.replace(HS,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const HS=/\{\$([^}]+)}/g;function bh(a,t){if(a===t)return!0;const n=Object.keys(a),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const u=a[l],h=t[l];if(xv(u)&&xv(h)){if(!bh(u,h))return!1}else if(u!==h)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function xv(a){return a!==null&&typeof a=="object"}function zi(a){return a&&a._delegate?a._delegate:a}class iu{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ls="[DEFAULT]";class GS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new zS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QS(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&t(u,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KS(a){return a===Ls?void 0:a}function QS(a){return a.instantiationMode==="EAGER"}class YS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new GS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var jt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(jt||(jt={}));const XS={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},ZS=jt.INFO,JS={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},$S=(a,t,...n)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=JS[t];if(l)console[l](`[${r}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vT{constructor(t){this.name=t,this._logLevel=ZS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const WS=(a,t)=>t.some(n=>a instanceof n);let Nv,Mv;function tb(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eb(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ET=new WeakMap,Cm=new WeakMap,TT=new WeakMap,gm=new WeakMap,og=new WeakMap;function nb(a){const t=new Promise((n,r)=>{const l=()=>{a.removeEventListener("success",u),a.removeEventListener("error",h)},u=()=>{n(Yr(a.result)),l()},h=()=>{r(a.error),l()};a.addEventListener("success",u),a.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&ET.set(n,a)}).catch(()=>{}),og.set(t,a),t}function ib(a){if(Cm.has(a))return;const t=new Promise((n,r)=>{const l=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",h),a.removeEventListener("abort",h)},u=()=>{n(),l()},h=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",u),a.addEventListener("error",h),a.addEventListener("abort",h)});Cm.set(a,t)}let Vm={get(a,t,n){if(a instanceof IDBTransaction){if(t==="done")return Cm.get(a);if(t==="objectStoreNames")return a.objectStoreNames||TT.get(a);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(a[t])},set(a,t,n){return a[t]=n,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function rb(a){Vm=a(Vm)}function sb(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=a.call(pm(this),t,...n);return TT.set(r,t.sort?t.sort():[t]),Yr(r)}:eb().includes(a)?function(...t){return a.apply(pm(this),t),Yr(ET.get(this))}:function(...t){return Yr(a.apply(pm(this),t))}}function ab(a){return typeof a=="function"?sb(a):(a instanceof IDBTransaction&&ib(a),WS(a,tb())?new Proxy(a,Vm):a)}function Yr(a){if(a instanceof IDBRequest)return nb(a);if(gm.has(a))return gm.get(a);const t=ab(a);return t!==a&&(gm.set(a,t),og.set(t,a)),t}const pm=a=>og.get(a);function lb(a,t,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const h=indexedDB.open(a,t),m=Yr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(Yr(h.result),g.oldVersion,g.newVersion,Yr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ob=["get","getKey","getAll","getAllKeys","count"],ub=["put","add","delete","clear"],ym=new Map;function Ov(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(ym.get(t))return ym.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=ub.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||ob.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&g.done]))[0]};return ym.set(t,u),u}rb(a=>({...a,get:(t,n,r)=>Ov(t,n)||a.get(t,n,r),has:(t,n)=>!!Ov(t,n)||a.has(t,n)}));class cb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hb(a){return a.getComponent()?.type==="VERSION"}const xm="@firebase/app",zv="0.14.8";const rr=new vT("@firebase/app"),fb="@firebase/app-compat",db="@firebase/analytics-compat",mb="@firebase/analytics",gb="@firebase/app-check-compat",pb="@firebase/app-check",yb="@firebase/auth",_b="@firebase/auth-compat",vb="@firebase/database",Eb="@firebase/data-connect",Tb="@firebase/database-compat",Ab="@firebase/functions",Sb="@firebase/functions-compat",bb="@firebase/installations",Ib="@firebase/installations-compat",Rb="@firebase/messaging",wb="@firebase/messaging-compat",Db="@firebase/performance",Cb="@firebase/performance-compat",Vb="@firebase/remote-config",xb="@firebase/remote-config-compat",Nb="@firebase/storage",Mb="@firebase/storage-compat",Ob="@firebase/firestore",zb="@firebase/ai",Pb="@firebase/firestore-compat",Ub="firebase",Lb="12.9.0";const Nm="[DEFAULT]",Bb={[xm]:"fire-core",[fb]:"fire-core-compat",[mb]:"fire-analytics",[db]:"fire-analytics-compat",[pb]:"fire-app-check",[gb]:"fire-app-check-compat",[yb]:"fire-auth",[_b]:"fire-auth-compat",[vb]:"fire-rtdb",[Eb]:"fire-data-connect",[Tb]:"fire-rtdb-compat",[Ab]:"fire-fn",[Sb]:"fire-fn-compat",[bb]:"fire-iid",[Ib]:"fire-iid-compat",[Rb]:"fire-fcm",[wb]:"fire-fcm-compat",[Db]:"fire-perf",[Cb]:"fire-perf-compat",[Vb]:"fire-rc",[xb]:"fire-rc-compat",[Nb]:"fire-gcs",[Mb]:"fire-gcs-compat",[Ob]:"fire-fst",[Pb]:"fire-fst-compat",[zb]:"fire-vertex","fire-js":"fire-js",[Ub]:"fire-js-all"};const Ih=new Map,jb=new Map,Mm=new Map;function Pv(a,t){try{a.container.addComponent(t)}catch(n){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,n)}}function Rh(a){const t=a.name;if(Mm.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;Mm.set(t,a);for(const n of Ih.values())Pv(n,a);for(const n of jb.values())Pv(n,a);return!0}function kb(a,t){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(t)}function qb(a){return a==null?!1:a.settings!==void 0}const Fb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new _T("app","Firebase",Fb);class Hb{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new iu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const Gb=Lb;function AT(a,t={}){let n=a;typeof t!="object"&&(t={name:t});const r={name:Nm,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Xr.create("bad-app-name",{appName:String(l)});if(n||(n=dT()),!n)throw Xr.create("no-options");const u=Ih.get(l);if(u){if(bh(n,u.options)&&bh(r,u.config))return u;throw Xr.create("duplicate-app",{appName:l})}const h=new YS(l);for(const g of Mm.values())h.addComponent(g);const m=new Hb(n,r,h);return Ih.set(l,m),m}function Kb(a=Nm){const t=Ih.get(a);if(!t&&a===Nm&&dT())return AT();if(!t)throw Xr.create("no-app",{appName:a});return t}function ll(a,t,n){let r=Bb[a]??a;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const h=[`Unable to register library "${r}" with version "${t}":`];l&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(h.join(" "));return}Rh(new iu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const Qb="firebase-heartbeat-database",Yb=1,ru="firebase-heartbeat-store";let _m=null;function ST(){return _m||(_m=lb(Qb,Yb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(a=>{throw Xr.create("idb-open",{originalErrorMessage:a.message})})),_m}async function Xb(a){try{const n=(await ST()).transaction(ru),r=await n.objectStore(ru).get(bT(a));return await n.done,r}catch(t){if(t instanceof Il)rr.warn(t.message);else{const n=Xr.create("idb-get",{originalErrorMessage:t?.message});rr.warn(n.message)}}}async function Uv(a,t){try{const r=(await ST()).transaction(ru,"readwrite");await r.objectStore(ru).put(t,bT(a)),await r.done}catch(n){if(n instanceof Il)rr.warn(n.message);else{const r=Xr.create("idb-set",{originalErrorMessage:n?.message});rr.warn(r.message)}}}function bT(a){return`${a.name}!${a.options.appId}`}const Zb=1024,Jb=30;class $b{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Lv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Jb){const l=eI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Lv(),{heartbeatsToSend:n,unsentEntries:r}=Wb(this._heartbeatsCache.heartbeats),l=Ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rr.warn(t),""}}}function Lv(){return new Date().toISOString().substring(0,10)}function Wb(a,t=Zb){const n=[];let r=a.slice();for(const l of a){const u=n.find(h=>h.agent===l.agent);if(u){if(u.dates.push(l.date),Bv(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Bv(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yT()?kS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Xb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Uv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Uv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Bv(a){return Ah(JSON.stringify({version:2,heartbeats:a})).length}function eI(a){if(a.length===0)return-1;let t=0,n=a[0].date;for(let r=1;r<a.length;r++)a[r].date<n&&(n=a[r].date,t=r);return t}function nI(a){Rh(new iu("platform-logger",t=>new cb(t),"PRIVATE")),Rh(new iu("heartbeat",t=>new $b(t),"PRIVATE")),ll(xm,zv,a),ll(xm,zv,"esm2020"),ll("fire-js","")}nI("");var iI="firebase",rI="12.9.0";ll(iI,rI,"app");var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zr,IT;(function(){var a;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(N,V,z){for(var w=Array(arguments.length-2),se=2;se<arguments.length;se++)w[se-2]=arguments[se];return b.prototype[V].apply(N,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,C){C||(C=0);const N=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)N[V]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(V=0;V<16;++V)N[V]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],V=I.g[2];let z=I.g[3],w;w=b+(z^C&(V^z))+N[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=z+(V^b&(C^V))+N[1]+3905402710&4294967295,z=b+(w<<12&4294967295|w>>>20),w=V+(C^z&(b^C))+N[2]+606105819&4294967295,V=z+(w<<17&4294967295|w>>>15),w=C+(b^V&(z^b))+N[3]+3250441966&4294967295,C=V+(w<<22&4294967295|w>>>10),w=b+(z^C&(V^z))+N[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=z+(V^b&(C^V))+N[5]+1200080426&4294967295,z=b+(w<<12&4294967295|w>>>20),w=V+(C^z&(b^C))+N[6]+2821735955&4294967295,V=z+(w<<17&4294967295|w>>>15),w=C+(b^V&(z^b))+N[7]+4249261313&4294967295,C=V+(w<<22&4294967295|w>>>10),w=b+(z^C&(V^z))+N[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=z+(V^b&(C^V))+N[9]+2336552879&4294967295,z=b+(w<<12&4294967295|w>>>20),w=V+(C^z&(b^C))+N[10]+4294925233&4294967295,V=z+(w<<17&4294967295|w>>>15),w=C+(b^V&(z^b))+N[11]+2304563134&4294967295,C=V+(w<<22&4294967295|w>>>10),w=b+(z^C&(V^z))+N[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=z+(V^b&(C^V))+N[13]+4254626195&4294967295,z=b+(w<<12&4294967295|w>>>20),w=V+(C^z&(b^C))+N[14]+2792965006&4294967295,V=z+(w<<17&4294967295|w>>>15),w=C+(b^V&(z^b))+N[15]+1236535329&4294967295,C=V+(w<<22&4294967295|w>>>10),w=b+(V^z&(C^V))+N[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=z+(C^V&(b^C))+N[6]+3225465664&4294967295,z=b+(w<<9&4294967295|w>>>23),w=V+(b^C&(z^b))+N[11]+643717713&4294967295,V=z+(w<<14&4294967295|w>>>18),w=C+(z^b&(V^z))+N[0]+3921069994&4294967295,C=V+(w<<20&4294967295|w>>>12),w=b+(V^z&(C^V))+N[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=z+(C^V&(b^C))+N[10]+38016083&4294967295,z=b+(w<<9&4294967295|w>>>23),w=V+(b^C&(z^b))+N[15]+3634488961&4294967295,V=z+(w<<14&4294967295|w>>>18),w=C+(z^b&(V^z))+N[4]+3889429448&4294967295,C=V+(w<<20&4294967295|w>>>12),w=b+(V^z&(C^V))+N[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=z+(C^V&(b^C))+N[14]+3275163606&4294967295,z=b+(w<<9&4294967295|w>>>23),w=V+(b^C&(z^b))+N[3]+4107603335&4294967295,V=z+(w<<14&4294967295|w>>>18),w=C+(z^b&(V^z))+N[8]+1163531501&4294967295,C=V+(w<<20&4294967295|w>>>12),w=b+(V^z&(C^V))+N[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=z+(C^V&(b^C))+N[2]+4243563512&4294967295,z=b+(w<<9&4294967295|w>>>23),w=V+(b^C&(z^b))+N[7]+1735328473&4294967295,V=z+(w<<14&4294967295|w>>>18),w=C+(z^b&(V^z))+N[12]+2368359562&4294967295,C=V+(w<<20&4294967295|w>>>12),w=b+(C^V^z)+N[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=z+(b^C^V)+N[8]+2272392833&4294967295,z=b+(w<<11&4294967295|w>>>21),w=V+(z^b^C)+N[11]+1839030562&4294967295,V=z+(w<<16&4294967295|w>>>16),w=C+(V^z^b)+N[14]+4259657740&4294967295,C=V+(w<<23&4294967295|w>>>9),w=b+(C^V^z)+N[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=z+(b^C^V)+N[4]+1272893353&4294967295,z=b+(w<<11&4294967295|w>>>21),w=V+(z^b^C)+N[7]+4139469664&4294967295,V=z+(w<<16&4294967295|w>>>16),w=C+(V^z^b)+N[10]+3200236656&4294967295,C=V+(w<<23&4294967295|w>>>9),w=b+(C^V^z)+N[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=z+(b^C^V)+N[0]+3936430074&4294967295,z=b+(w<<11&4294967295|w>>>21),w=V+(z^b^C)+N[3]+3572445317&4294967295,V=z+(w<<16&4294967295|w>>>16),w=C+(V^z^b)+N[6]+76029189&4294967295,C=V+(w<<23&4294967295|w>>>9),w=b+(C^V^z)+N[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=z+(b^C^V)+N[12]+3873151461&4294967295,z=b+(w<<11&4294967295|w>>>21),w=V+(z^b^C)+N[15]+530742520&4294967295,V=z+(w<<16&4294967295|w>>>16),w=C+(V^z^b)+N[2]+3299628645&4294967295,C=V+(w<<23&4294967295|w>>>9),w=b+(V^(C|~z))+N[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=z+(C^(b|~V))+N[7]+1126891415&4294967295,z=b+(w<<10&4294967295|w>>>22),w=V+(b^(z|~C))+N[14]+2878612391&4294967295,V=z+(w<<15&4294967295|w>>>17),w=C+(z^(V|~b))+N[5]+4237533241&4294967295,C=V+(w<<21&4294967295|w>>>11),w=b+(V^(C|~z))+N[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=z+(C^(b|~V))+N[3]+2399980690&4294967295,z=b+(w<<10&4294967295|w>>>22),w=V+(b^(z|~C))+N[10]+4293915773&4294967295,V=z+(w<<15&4294967295|w>>>17),w=C+(z^(V|~b))+N[1]+2240044497&4294967295,C=V+(w<<21&4294967295|w>>>11),w=b+(V^(C|~z))+N[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=z+(C^(b|~V))+N[15]+4264355552&4294967295,z=b+(w<<10&4294967295|w>>>22),w=V+(b^(z|~C))+N[6]+2734768916&4294967295,V=z+(w<<15&4294967295|w>>>17),w=C+(z^(V|~b))+N[13]+1309151649&4294967295,C=V+(w<<21&4294967295|w>>>11),w=b+(V^(C|~z))+N[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=z+(C^(b|~V))+N[11]+3174756917&4294967295,z=b+(w<<10&4294967295|w>>>22),w=V+(b^(z|~C))+N[2]+718787259&4294967295,V=z+(w<<15&4294967295|w>>>17),w=C+(z^(V|~b))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,N=this.C;let V=this.h,z=0;for(;z<b;){if(V==0)for(;z<=C;)l(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<b;)if(N[V++]=I.charCodeAt(z++),V==this.blockSize){l(this,N),V=0;break}}else for(;z<b;)if(N[V++]=I[z++],V==this.blockSize){l(this,N),V=0;break}}this.h=V,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let N=0;N<32;N+=8)I[b++]=this.g[C]>>>N&255;return I};function u(I,b){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function h(I,b){this.h=b;const C=[];let N=!0;for(let V=I.length-1;V>=0;V--){const z=I[V]|0;N&&z==b||(C[V]=z,N=!1)}this.g=C}var m={};function g(I){return-128<=I&&I<128?u(I,function(b){return new h([b|0],b<0?-1:0)}):new h([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return et(y(-I));const b=[];let C=1;for(let N=0;I>=C;N++)b[N]=I/C|0,C*=4294967296;return new h(b,0)}function T(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return et(T(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let N=S;for(let z=0;z<I.length;z+=8){var V=Math.min(8,I.length-z);const w=parseInt(I.substring(z,z+V),b);V<8?(V=y(Math.pow(b,V)),N=N.j(V).add(y(w))):(N=N.j(C),N=N.add(y(w)))}return N}var S=g(0),R=g(1),q=g(16777216);a=h.prototype,a.m=function(){if(W(this))return-et(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const N=this.i(C);I+=(N>=0?N:4294967296+N)*b,b*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(W(this))return"-"+et(this).toString(I);const b=y(Math.pow(I,6));var C=this;let N="";for(;;){const V=bt(C,b).g;C=pt(C,V.j(b));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=V,$(C))return z+N;for(;z.length<6;)z="0"+z;N=z+N}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function W(I){return I.h==-1}a.l=function(I){return I=pt(this,I),W(I)?-1:$(I)?0:1};function et(I){const b=I.g.length,C=[];for(let N=0;N<b;N++)C[N]=~I.g[N];return new h(C,~I.h).add(R)}a.abs=function(){return W(this)?et(this):this},a.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let N=0;for(let V=0;V<=b;V++){let z=N+(this.i(V)&65535)+(I.i(V)&65535),w=(z>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);N=w>>>16,z&=65535,w&=65535,C[V]=w<<16|z}return new h(C,C[C.length-1]&-2147483648?-1:0)};function pt(I,b){return I.add(et(b))}a.j=function(I){if($(this)||$(I))return S;if(W(this))return W(I)?et(this).j(et(I)):et(et(this).j(I));if(W(I))return et(this.j(et(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var N=0;N<2*b;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(let V=0;V<I.g.length;V++){const z=this.i(N)>>>16,w=this.i(N)&65535,se=I.i(V)>>>16,pe=I.i(V)&65535;C[2*N+2*V]+=w*pe,gt(C,2*N+2*V),C[2*N+2*V+1]+=z*pe,gt(C,2*N+2*V+1),C[2*N+2*V+1]+=w*se,gt(C,2*N+2*V+1),C[2*N+2*V+2]+=z*se,gt(C,2*N+2*V+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new h(C,0)};function gt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ot(I,b){this.g=I,this.h=b}function bt(I,b){if($(b))throw Error("division by zero");if($(I))return new ot(S,S);if(W(I))return b=bt(et(I),b),new ot(et(b.g),et(b.h));if(W(b))return b=bt(I,et(b)),new ot(et(b.g),b.h);if(I.g.length>30){if(W(I)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var C=R,N=b;N.l(I)<=0;)C=It(C),N=It(N);var V=ct(C,1),z=ct(N,1);for(N=ct(N,2),C=ct(C,2);!$(N);){var w=z.add(N);w.l(I)<=0&&(V=V.add(C),z=w),N=ct(N,1),C=ct(C,1)}return b=pt(I,V.j(b)),new ot(V,b)}for(V=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),z=y(C),w=z.j(b);W(w)||w.l(I)>0;)C-=N,z=y(C),w=z.j(b);$(z)&&(z=R),V=V.add(z),I=pt(I,w)}return new ot(V,I)}a.B=function(I){return bt(this,I).h},a.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let N=0;N<b;N++)C[N]=this.i(N)&I.i(N);return new h(C,this.h&I.h)},a.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let N=0;N<b;N++)C[N]=this.i(N)|I.i(N);return new h(C,this.h|I.h)},a.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let N=0;N<b;N++)C[N]=this.i(N)^I.i(N);return new h(C,this.h^I.h)};function It(I){const b=I.g.length+1,C=[];for(let N=0;N<b;N++)C[N]=I.i(N)<<1|I.i(N-1)>>>31;return new h(C,I.h)}function ct(I,b){const C=b>>5;b%=32;const N=I.g.length-C,V=[];for(let z=0;z<N;z++)V[z]=b>0?I.i(z+C)>>>b|I.i(z+C+1)<<32-b:I.i(z+C);return new h(V,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,IT=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=T,Zr=h}).apply(typeof jv<"u"?jv:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RT,Fo,wT,ch,Om,DT,CT,VT;(function(){var a,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(c,p){if(p)t:{var v=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break t;v=v[U]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},h=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function T(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,F){for(var it=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)it[Dt-2]=arguments[Dt];return p.prototype[U].apply(A,it)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function $(c,p){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const F=U.length||0;c.length=v+F;for(let it=0;it<F;it++)c[v+it]=U[it]}else c.push(U)}}class W{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function et(c){h.setTimeout(()=>{throw c},0)}function pt(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class gt{constructor(){this.h=this.g=null}add(p,v){const A=ot.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ot=new W(()=>new bt,c=>c.reset());class bt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,ct=!1,I=new gt,b=()=>{const c=Promise.resolve(void 0);It=()=>{c.then(C)}};function C(){for(var c;c=pt();){try{c.h.call(c.g)}catch(v){et(v)}var p=ot;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ct=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,p),h.removeEventListener("test",v,p)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function se(c,p){V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(se,V),se.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),K=0;function st(c,p,v,A,U){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=U,this.key=++K,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ot(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Ft(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(c,p){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let F=0;F<Z.length;F++)v=Z[F],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function k(c){this.src=c,this.g={},this.h=0}k.prototype.add=function(c,p,v,A,U){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const it=Et(c,p,A,U);return it>-1?(p=c[it],v||(p.fa=!1)):(p=new st(p,this.src,F,!!A,U),p.fa=v,c.push(p)),p};function nt(c,p){const v=p.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,p,void 0),F;(F=U>=0)&&Array.prototype.splice.call(A,U,1),F&&(mt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Et(c,p,v,A){for(let U=0;U<c.length;++U){const F=c[U];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==A)return U}return-1}var Tt="closure_lm_"+(Math.random()*1e6|0),Qt={};function wt(c,p,v,A,U){if(Array.isArray(p)){for(let F=0;F<p.length;F++)wt(c,p[F],v,A,U);return null}return v=Nl(v),c&&c[pe]?c.J(p,v,m(A)?!!A.capture:!1,U):Te(c,p,v,!1,A,U)}function Te(c,p,v,A,U,F){if(!p)throw Error("Invalid event type");const it=m(U)?!!U.capture:!!U;let Dt=ls(c);if(Dt||(c[Tt]=Dt=new k(c)),v=Dt.add(p,v,A,it,F),v.proxy)return v;if(A=vn(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)z||(U=it),U===void 0&&(U=!1),c.addEventListener(p.toString(),A,U);else if(c.attachEvent)c.attachEvent(ui(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vn(){function c(v){return p.call(c.src,c.listener,v)}const p=Vl;return c}function ze(c,p,v,A,U){if(Array.isArray(p))for(var F=0;F<p.length;F++)ze(c,p[F],v,A,U);else A=m(A)?!!A.capture:!!A,v=Nl(v),c&&c[pe]?(c=c.i,F=String(p).toString(),F in c.g&&(p=c.g[F],v=Et(p,v,A,U),v>-1&&(mt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[F],c.h--)))):c&&(c=ls(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Et(p,v,A,U)),(v=c>-1?p[c]:null)&&Yn(v))}function Yn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[pe])nt(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(ui(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=ls(p))?(nt(v,c),v.h==0&&(v.src=null,p[Tt]=null)):mt(c)}}}function ui(c){return c in Qt?Qt[c]:Qt[c]="on"+c}function Vl(c,p){if(c.da)c=!0;else{p=new se(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&Yn(c),c=v.call(A,p)}return c}function ls(c){return c=c[Tt],c instanceof k?c:null}var xl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nl(c){return typeof c=="function"?c:(c[xl]||(c[xl]=function(p){return c.handleEvent(p)}),c[xl])}function Ae(){N.call(this),this.i=new k(this),this.M=this,this.G=null}S(Ae,N),Ae.prototype[pe]=!0,Ae.prototype.removeEventListener=function(c,p,v,A){ze(this,c,p,v,A)};function Pe(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new V(p,c);else if(p instanceof V)p.target=p.target||c;else{var U=p;p=new V(A,c),at(p,U)}U=!0;let F,it;if(v)for(it=v.length-1;it>=0;it--)F=p.g=v[it],U=ur(F,A,!0,p)&&U;if(F=p.g=c,U=ur(F,A,!0,p)&&U,U=ur(F,A,!1,p)&&U,v)for(it=0;it<v.length;it++)F=p.g=v[it],U=ur(F,A,!1,p)&&U}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)mt(v[A]);delete c.g[p],c.h--}}this.G=null},Ae.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},Ae.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function ur(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let F=0;F<p.length;++F){const it=p[F];if(it&&!it.da&&it.capture==v){const Dt=it.listener,_e=it.ha||it.src;it.fa&&nt(c.i,it),U=Dt.call(_e,A)!==!1&&U}}return U&&!A.defaultPrevented}function hf(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(c,p||0)}function Du(c){c.g=hf(()=>{c.g=null,c.i&&(c.i=!1,Du(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class rn extends N{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Du(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){N.call(this),this.h=c,this.g={}}S(os,N);var Ml=[];function Ol(c){Ot(c.g,function(p,v){this.g.hasOwnProperty(v)&&Yn(p)},c),c.g={}}os.prototype.N=function(){os.Z.N.call(this),Ol(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=h.JSON.stringify,ff=h.JSON.parse,Cu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Vu(){}function xu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){V.call(this,"d")}S(Fe,V);function Nn(){V.call(this,"c")}S(Nn,V);var ye={},Nu=null;function la(){return Nu=Nu||new Ae}ye.Ia="serverreachability";function Mu(c){V.call(this,ye.Ia,c)}S(Mu,V);function ci(c){const p=la();Pe(p,new Mu(p))}ye.STAT_EVENT="statevent";function us(c,p){V.call(this,ye.STAT_EVENT,c),this.stat=p}S(us,V);function Se(c){const p=la();Pe(p,new us(p,c))}ye.Ja="timingevent";function hi(c,p){V.call(this,ye.Ja,c),this.size=p}S(hi,V);function fi(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},p)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function df(c,p,v,A,U,F){c.info(function(){if(c.g)if(F){var it="",Dt=F.split("&");for(let Ht=0;Ht<Dt.length;Ht++){var _e=Dt[Ht].split("=");if(_e.length>1){const oe=_e[0];_e=_e[1];const Pn=oe.split("_");it=Pn.length>=2&&Pn[1]=="type"?it+(oe+"="+_e+"&"):it+(oe+"=redacted&")}}}else it=null;else it=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+p+`
`+v+`
`+it})}function Ou(c,p,v,A,U,F,it){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+p+`
`+v+`
`+F+" "+it})}function di(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+mf(c,v)+(A?" "+A:"")})}function cs(c,p){c.info(function(){return"TIMEOUT: "+p})}Zn.prototype.info=function(){};function mf(c,p){if(!c.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<A.length;it++)A[it]=""}}}}return cr(F)}catch{return p}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function fs(){}S(fs,Vu),fs.prototype.g=function(){return new XMLHttpRequest},Pl=new fs;function Ui(c){return encodeURIComponent(String(c))}function zu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Jn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}var be={},Be={};function mi(c,p,v){c.M=1,c.A=ds(Re(p)),c.u=v,c.R=!0,oa(c,null)}function oa(c,p){c.F=Date.now(),gi(c),c.B=Re(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),fa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new $n,c.g=Zu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ml[0]=U.toString()),U=Ml);for(let F=0;F<U.length;F++){const it=wt(v,U[F],A||p.handleEvent,!1,p.h||p);if(!it)break;p.g[it.key]=it}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ci(),df(c.i,c.v,c.B,c.l,c.S,c.u)}Jn.prototype.ba=function(c){c=c.target;const p=this.O;p&&ei(c)==3?p.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)t:{const Dt=ei(this.g),_e=this.g.ya(),Ht=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Dt!=4||_e==7||(_e==8||Ht<=0?ci(3):ci(2)),pi(this);var p=this.g.ca();this.X=p;var v=gf(this);if(this.o=p==200,Ou(this.i,this.v,this.B,this.l,this.S,Dt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var F=A;break e}}F=null}if(c=F)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,Se(12),En(this),Mn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Uu(this,v),oe==Be){Dt==4&&(this.m=4,Se(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==be){this.m=4,Se(15),di(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,oe,null),yi(this,oe);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||v.length!=0||this.h.h||(this.m=1,Se(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,v,"[Invalid Chunked Response]"),En(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jl(it),it.P=!0,Se(11))}}else di(this.i,this.l,v,null),yi(this,v);Dt==4&&En(this),this.o&&!this.K&&(Dt==4?Ku(this.j,this):(this.o=!1,gi(this)))}else Bi(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),En(this),Mn(this)}}}catch{}};function gf(c){if(!Pu(c))return c.g.la();const p=He(c.g);if(p==="")return"";let v="";const A=p.length,U=ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return En(c),Mn(c),"";c.h.i=new h.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,v+=c.h.i.decode(p[F],{stream:!(U&&F==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Be:(v=Number(p.substring(v,A)),isNaN(v)?be:(A+=1,A+v>p.length?Be:(p=p.slice(A,A+v),c.C=A+v,p)))}Jn.prototype.cancel=function(){this.K=!0,En(this)};function gi(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(y(c.aa,c),p)}function pi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(cs(this.i,this.B),this.M!=2&&(ci(),Se(17)),En(this),this.m=2,Mn(this)):ua(this,this.T-c)};function Mn(c){c.j.I==0||c.K||Ku(c.j,c)}function En(c){pi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Ol(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function yi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||vi(v.h,c))){if(!c.L&&vi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ya(v),_r(v);else break t;Es(v),Se(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(y(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((c.L||v.g==c)&&ya(v),!w(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let Ht=U[p];const oe=Ht[0];if(!(oe<=v.K))if(v.K=oe,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Pn=Ht[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ri=Ht[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const ni=Ht[5];ni!=null&&typeof ni=="number"&&ni>0&&(A=1.5*ni,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ii=c.g;if(ii){const Ts=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var F=A.h;F.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Bl(F,F.h),F.h=null))}if(A.G){const _a=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(A.wa=_a,Yt(A.J,A.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var it=c;if(A.na=Xu(A,A.L?A.ba:null,A.W),it.L){jl(A.h,it);var Dt=it,_e=A.O;_e&&(Dt.H=_e),Dt.D&&(pi(Dt),gi(Dt)),A.g=it}else Hu(A);v.i.length>0&&bi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||Ii(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ii(v,7):Xl(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ci(4)}catch{}}var Ie=class{constructor(c,p){this.g=c,this.map=p}};function Ul(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ll(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function vi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Bl(c,p){c.g?c.g.add(p):c.h=p}function jl(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ul.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function kl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return q(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,F=null;A>=0?(U=c[v].substring(0,A),F=c[v].substring(A+1)):U=c[v],p(U,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Tn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Tn?(this.l=c.l,je(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.u),this.h=c.h,ql(this,qu(c.i)),this.m=c.m):c&&(p=String(c).match(Lu))?(this.l=!1,je(this,p[1]||"",!0),this.o=Ei(p[2]||""),this.g=Ei(p[3]||"",!0),hr(this,p[4]),this.h=Ei(p[5]||"",!0),ql(this,p[6]||"",!0),this.m=Ei(p[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}Tn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(ms(p,ha,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ms(p,ha,!0),"@"),c.push(Ui(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ms(v,v.charAt(0)=="/"?Fl:Bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ms(v,ju)),c.join("")},Tn.prototype.resolve=function(c){const p=Re(this);let v=!!c.j;v?je(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)hr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=p.h.lastIndexOf("/");U!=-1&&(A=p.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const F=[];for(let it=0;it<U.length;){const Dt=U[it++];Dt=="."?A&&it==U.length&&F.push(""):Dt==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&it==U.length&&F.push("")):(F.push(Dt),A=!0)}A=F.join("/")}else A=U}return v?p.h=A:v=c.i.toString()!=="",v?ql(p,qu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Re(c){return new Tn(c)}function je(c,p,v){c.j=v?Ei(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function ql(c,p,v){p instanceof dr?(c.i=p,da(c.i,c.l)):(v||(p=ms(p,fr)),c.i=new dr(p,c.l))}function Yt(c,p,v){c.i.set(p,v)}function ds(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ms(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,cn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Bu=/[#\?:]/g,Fl=/[#\?]/g,fr=/[#\?@]/g,ju=/#/g;function dr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function hn(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}a=dr.prototype,a.add=function(c,p){hn(this),this.i=null,c=mr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function ku(c,p){hn(c),p=mr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Hl(c,p){return hn(c),p=mr(c,p),c.g.has(p)}a.forEach=function(c,p){hn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(p,U,A,this)},this)},this)};function Gl(c,p){hn(c);let v=[];if(typeof p=="string")Hl(c,p)&&(v=v.concat(c.g.get(mr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}a.set=function(c,p){return hn(this),this.i=null,c=mr(this,c),Hl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},a.get=function(c,p){return c?(c=Gl(this,c),c.length>0?String(c[0]):p):p};function fa(c,p,v){ku(c,p),v.length>0&&(c.i=null,c.g.set(mr(c,p),q(v)),c.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const U=Ui(v);v=Gl(this,v);for(let F=0;F<v.length;F++){let it=U;v[F]!==""&&(it+="="+Ui(v[F])),c.push(it)}}return this.i=c.join("&")};function qu(c){const p=new dr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function mr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function da(c,p){p&&!c.j&&(hn(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(ku(this,A),fa(this,U,v))},c)),c.j=p}function Wn(c,p){const v=new Zn;if(h.Image){const A=new Image;A.onload=T(On,v,"TestLoadImage: loaded",!0,p,A),A.onerror=T(On,v,"TestLoadImage: error",!1,p,A),A.onabort=T(On,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=T(On,v,"TestLoadImage: timeout",!1,p,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Kl(c,p){const v=new Zn,A=new AbortController,U=setTimeout(()=>{A.abort(),On(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?On(v,"TestPingServer: ok",!0,p):On(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),On(v,"TestPingServer: error",!1,p)})}function On(c,p,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function gr(){this.g=new Cu}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}S(Ti,Vu),Ti.prototype.g=function(){return new gs(this.i,this.h)};function gs(c,p){Ae.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gs,Ae),a=gs.prototype,a.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,ti(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?pr(this):ti(this),this.readyState==3&&ma(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,pr(this))},a.Na=function(c){this.g&&(this.response=c,pr(this))},a.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}a.setRequestHeader=function(c,p){this.A.append(c,p)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zn(c){let p="";return Ot(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function ps(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=zn(v),typeof c=="string"?v!=null&&Ui(v):Yt(c,p,v))}function te(c){Ae.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(te,Ae);var Ai=/^https?$/i,Ql=["POST","PUT"];a=te.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){ys(this,F);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Ql,p,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,it]of v)this.g.setRequestHeader(F,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){ys(this,F)}};function ys(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Yl(c),Li(c)}function Yl(c){c.A||(c.A=!0,Pe(c,"complete"),Pe(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pe(this,"complete"),Pe(this,"abort"),Li(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),te.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},a.Xa=function(){_s(this)};function _s(c){if(c.h&&typeof u<"u"){if(c.v&&ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pe(c,"readystatechange"),ei(c)==4){c.h=!1;try{const F=c.ca();t:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=F===0){let it=String(c.D).match(Lu)[1]||null;!it&&h.self&&h.self.location&&(it=h.self.location.protocol.slice(0,-1)),A=!Ai.test(it?it.toLowerCase():"")}v=A}if(v)Pe(c,"complete"),Pe(c,"success");else{c.o=6;try{var U=ei(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",Yl(c)}}finally{Li(c)}}}}function Li(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Pe(c,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function ei(c){return c.g?c.g.readyState:0}a.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ff(p)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const p={};c=(c.g&&ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var v=zu(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[U]||[];p[U]=F,F.push(v)}Ft(p,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function yr(c){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ul(c&&c.concurrentRequestLimit),this.Ba=new gr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=yr.prototype,a.ka=8,a.I=1,a.connect=function(c,p,v,A){Se(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Xu(this,null,this.W),bi(this)};function Xl(c){if(ga(c),c.I==3){var p=c.V++,v=Re(c.J);if(Yt(v,"SID",c.M),Yt(v,"RID",p),Yt(v,"TYPE","terminate"),vs(c,v),p=new Jn(c,c.j,p),p.M=2,p.A=ds(Re(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=p.A,v=!0),v||(p.g=Zu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),gi(p)}Yu(c)}function _r(c){c.g&&(Jl(c),c.g.cancel(),c.g=null)}function ga(c){_r(c),c.v&&(h.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function bi(c){if(!Ll(c.h)&&!c.m){c.m=!0;var p=c.Ea;It||b(),ct||(It(),ct=!0),I.add(p,c),c.D=0}}function pa(c,p){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(y(c.Ea,c,p),Qu(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Jn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=M(F),at(F,this.U)):F=this.U),this.u!==null||this.R||(U.J=F,F=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Fu(this,U,p),v=Re(this.J),Yt(v,"RID",c),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),vs(this,v),F&&(this.R?p="headers="+Ui(zn(F))+"&"+p:this.u&&ps(v,this.u,F)),Bl(this.h,U),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",p),Yt(v,"SID","null"),U.U=!0,mi(U,v,null)):mi(U,v,p),this.I=2}}else this.I==3&&(c?Zl(this,c):this.i.length==0||Ll(this.h)||Zl(this))};function Zl(c,p){var v;p?v=p.l:v=c.V++;const A=Re(c.J);Yt(A,"SID",c.M),Yt(A,"RID",v),Yt(A,"AID",c.K),vs(c,A),c.u&&c.o&&ps(A,c.u,c.o),v=new Jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Fu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bl(c.h,v),mi(v,A,p)}function vs(c,p){c.H&&Ot(c.H,function(v,A){Yt(p,A,v)}),c.l&&Ot({},function(v,A){Yt(p,A,v)})}function Fu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let Dt=-1;for(;;){const _e=["count="+v];Dt==-1?v>0?(Dt=U[0].g,_e.push("ofs="+Dt)):Dt=0:_e.push("ofs="+Dt);let Ht=!0;for(let oe=0;oe<v;oe++){var F=U[oe].g;const Pn=U[oe].map;if(F-=Dt,F<0)Dt=Math.max(0,U[oe].g-100),Ht=!1;else try{F="req"+F+"_"||"";try{var it=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ri,ni]of it){let ii=ni;m(ni)&&(ii=cr(ni)),_e.push(F+Ri+"="+encodeURIComponent(ii))}}catch(Ri){throw _e.push(F+"type="+encodeURIComponent("_badmap")),Ri}}catch{A&&A(Pn)}}if(Ht){it=_e.join("&");break t}}it=void 0}return c=c.i.splice(0,v),p.G=c,it}function Hu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;It||b(),ct||(It(),ct=!0),I.add(p,c),c.A=0}}function Es(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(y(c.Da,c),Qu(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,Gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(y(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),_r(this),Gu(this))};function Jl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Gu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Re(c.na);Yt(p,"RID","rpc"),Yt(p,"SID",c.M),Yt(p,"AID",c.K),Yt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(p,"TO",c.ia),Yt(p,"TYPE","xmlhttp"),vs(c,p),c.u&&c.o&&ps(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ds(Re(p)),v.u=null,v.R=!0,oa(v,c)}a.Va=function(){this.C!=null&&(this.C=null,_r(this),Es(this),Se(19))};function ya(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ku(c,p){var v=null;if(c.g==p){ya(c),Jl(c),c.g=null;var A=2}else if(vi(c.h,p))v=p.G,jl(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=c.D;A=la(),Pe(A,new hi(A,v)),bi(c)}else Hu(c);else if(U=p.m,U==3||U==0&&p.X>0||!(A==1&&pa(c,p)||A==2&&Es(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),U){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Qu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ii(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const U=!A;A=new Tn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||je(A,"https"),ds(A),U?Wn(A.toString(),v):Kl(A.toString(),v)}else Se(2);c.I=0,c.l&&c.l.pa(p),Yu(c),ga(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const p=kl(c.h);(p.length!=0||c.i.length!=0)&&($(c.ja,p),$(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function Xu(c,p,v){var A=v instanceof Tn?Re(v):new Tn(v);if(A.g!="")p&&(A.g=p+"."+A.g),hr(A,A.u);else{var U=h.location;A=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const F=new Tn(null);A&&je(F,A),p&&(F.g=p),U&&hr(F,U),v&&(F.h=v),A=F}return v=c.G,p=c.wa,v&&p&&Yt(A,v,p),Yt(A,"VER",c.ka),vs(c,A),A}function Zu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new te(new Ti({ab:v})):new te(c.ma),p.Fa(c.L),p}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}a=Ju.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function vr(){}vr.prototype.g=function(c,p){return new sn(c,p)};function sn(c,p){Ae.call(this),this.g=new yr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!w(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ji(this)}S(sn,Ae),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Xl(this.g)},sn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=cr(c),c=v);p.i.push(new Ie(p.Ya++,c)),p.I==3&&bi(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,sn.Z.N.call(this)};function $u(c){Fe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S($u,Fe);function Wu(){Nn.call(this),this.status=1}S(Wu,Nn);function ji(c){this.g=c}S(ji,Ju),ji.prototype.ra=function(){Pe(this.g,"a")},ji.prototype.qa=function(c){Pe(this.g,new $u(c))},ji.prototype.pa=function(c){Pe(this.g,new Wu)},ji.prototype.oa=function(){Pe(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,VT=function(){return new vr},CT=function(){return la()},DT=ye,Om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,ch=hs,zl.COMPLETE="complete",wT=zl,xu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Fo=xu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,RT=te}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let Rl="12.9.0";function sI(a){Rl=a}const Zs=new vT("@firebase/firestore");function nl(){return Zs.logLevel}function tt(a,...t){if(Zs.logLevel<=jt.DEBUG){const n=t.map(ug);Zs.debug(`Firestore (${Rl}): ${a}`,...n)}}function ln(a,...t){if(Zs.logLevel<=jt.ERROR){const n=t.map(ug);Zs.error(`Firestore (${Rl}): ${a}`,...n)}}function ts(a,...t){if(Zs.logLevel<=jt.WARN){const n=t.map(ug);Zs.warn(`Firestore (${Rl}): ${a}`,...n)}}function ug(a){if(typeof a=="string")return a;try{return(function(n){return JSON.stringify(n)})(a)}catch{return a}}function ht(a,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,xT(a,r,n)}function xT(a,t,n){let r=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ln(r),new Error(r)}function dt(a,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,a||xT(t,l,r)}function St(a,t){return a}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Il{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class NT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ze.UNAUTHENTICATED)))}shutdown(){}}class lI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oI{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){dt(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,t.enqueueRetryable((()=>l(this.currentUser)))};const h=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},m=g=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new NT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return dt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class uI{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class cI{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new uI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qb(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){dt(this.o===void 0,3512);const r=u=>{u.error!=null&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,tt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const l=u=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function fI(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<a;r++)n[r]=Math.floor(256*Math.random());return n}class cg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=fI(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=t.charAt(l[u]%62))}return r}}function At(a,t){return a<t?-1:a>t?1:0}function zm(a,t){const n=Math.min(a.length,t.length);for(let r=0;r<n;r++){const l=a.charAt(r),u=t.charAt(r);if(l!==u)return vm(l)===vm(u)?At(l,u):vm(l)?1:-1}return At(a.length,t.length)}const dI=55296,mI=57343;function vm(a){const t=a.charCodeAt(0);return t>=dI&&t<=mI}function hl(a,t,n){return a.length===t.length&&a.every(((r,l)=>n(r,t[l])))}function MT(a){return a+"\0"}const qv="__name__";class xi{constructor(t,n,r){n===void 0?n=0:n>t.length&&ht(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&ht(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const u=xi.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return At(t.length,n.length)}static compareSegments(t,n){const r=xi.isNumericId(t),l=xi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?xi.extractNumericId(t).compare(xi.extractNumericId(n)):zm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class Kt extends xi{construct(t,n,r){return new Kt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new Kt(n)}static emptyPath(){return new Kt([])}}const gI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fe extends xi{construct(t,n,r){return new fe(t,n,r)}static isValidIdentifier(t){return gI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new fe([qv])}static fromServerFormat(t){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new rt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new rt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,l+=2}else m==="`"?(h=!h,l++):m!=="."||h?(r+=m,l++):(u(),l++)}if(u(),h)throw new rt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fe(n)}static emptyPath(){return new fe([])}}class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Kt.fromString(t))}static fromName(t){return new lt(Kt.fromString(t).popFirst(5))}static empty(){return new lt(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Kt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Kt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Kt(t.slice()))}}function OT(a,t,n){if(!n)throw new rt(Y.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function pI(a,t,n,r){if(t===!0&&r===!0)throw new rt(Y.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function Fv(a){if(!lt.isDocumentKey(a))throw new rt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Hv(a){if(lt.isDocumentKey(a))throw new rt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function zT(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Fh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":ht(12329,{type:typeof a})}function ir(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new rt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(a);throw new rt(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return a}function Ne(a,t){const n={typeString:a};return t&&(n.value=t),n}function vu(a,t){if(!zT(a))throw new rt(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){n=`JSON missing required field: '${r}'`;break}const h=a[r];if(l&&typeof h!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new rt(Y.INVALID_ARGUMENT,n);return!0}const Gv=-62135596800,Kv=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Kv);return new Jt(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Gv)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kv}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vu(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Gv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Ne("string",Jt._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new Jt(0,0))}static max(){return new _t(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const su=-1;class wh{constructor(t,n,r,l){this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=l}}function Pm(a){return a.fields.find((t=>t.kind===2))}function Bs(a){return a.fields.filter((t=>t.kind!==2))}wh.UNKNOWN_ID=-1;class hh{constructor(t,n){this.fieldPath=t,this.kind=n}}class au{constructor(t,n){this.sequenceNumber=t,this.offset=n}static empty(){return new au(0,xn.min())}}function yI(a,t){const n=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new xn(l,lt.empty(),t)}function PT(a){return new xn(a.readTime,a.key,su)}class xn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new xn(_t.min(),lt.empty(),su)}static max(){return new xn(_t.max(),lt.empty(),su)}}function hg(a,t){let n=a.readTime.compareTo(t.readTime);return n!==0?n:(n=lt.comparator(a.documentKey,t.documentKey),n!==0?n:At(a.largestBatchId,t.largestBatchId))}const UT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ra(a){if(a.code!==Y.FAILED_PRECONDITION||a.message!==UT)throw a;tt("LocalStore","Unexpectedly lost primary lease")}class P{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new P(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):P.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):P.reject(n)}static resolve(t){return new P(((n,r)=>{n(t)}))}static reject(t){return new P(((n,r)=>{r(t)}))}static waitFor(t){return new P(((n,r)=>{let l=0,u=0,h=!1;t.forEach((m=>{++l,m.next((()=>{++u,h&&u===l&&n()}),(g=>r(g)))})),h=!0,u===l&&n()}))}static or(t){let n=P.resolve(!1);for(const r of t)n=n.next((l=>l?P.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(t,n){return new P(((r,l)=>{const u=t.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((T=>{h[y]=T,++m,m===u&&r(h)}),(T=>l(T)))}}))}static doWhile(t,n){return new P(((r,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):r()};u()}))}}const Cn="SimpleDb";class Hh{static open(t,n,r,l){try{return new Hh(n,t.transaction(l,r))}catch(u){throw new Xo(n,u)}}constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.S=new Jr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Xo(t,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const l=fg(r.target.error);this.S.reject(new Xo(t,l))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(tt(Cn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new vI(n)}}class $r{static delete(t){return tt(Cn,"Removing database:",t),ks(fT().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!yT())return!1;if($r.F())return!0;const t=Sh(),n=$r.M(t),r=0<n&&n<10,l=BT(t),u=0<l&&l<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||u)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,n){return t.store(n)}static M(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(t,n,r){this.name=t,this.version=n,this.N=r,this.B=null,$r.M(Sh())===12.2&&ln("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(tt(Cn,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const l=indexedDB.open(this.name,this.version);l.onsuccess=u=>{const h=u.target.result;n(h)},l.onblocked=()=>{r(new Xo(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const h=u.target.error;h.name==="VersionError"?r(new rt(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):h.name==="InvalidStateError"?r(new rt(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h)):r(new Xo(t,h))},l.onupgradeneeded=u=>{tt(Cn,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const h=u.target.result;this.N.k(h,l.transaction,u.oldVersion,this.version).next((()=>{tt(Cn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,l){const u=n==="readonly";let h=0;for(;;){++h;try{this.db=await this.L(t);const m=Hh.open(this.db,t,u?"readonly":"readwrite",r),g=l(m).next((y=>(m.C(),y))).catch((y=>(m.abort(y),P.reject(y)))).toPromise();return g.catch((()=>{})),await m.D,g}catch(m){const g=m,y=g.name!=="FirebaseError"&&h<3;if(tt(Cn,"Transaction failed with error:",g.message,"Retrying:",y),this.close(),!y)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function BT(a){const t=a.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class _I{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return ks(this.U.delete())}}class Xo extends rt{constructor(t,n){super(Y.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ss(a){return a.name==="IndexedDbTransactionError"}class vI{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(tt(Cn,"PUT",this.store.name,t,n),r=this.store.put(n,t)):(tt(Cn,"PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ks(r)}add(t){return tt(Cn,"ADD",this.store.name,t,t),ks(this.store.add(t))}get(t){return ks(this.store.get(t)).next((n=>(n===void 0&&(n=null),tt(Cn,"GET",this.store.name,t,n),n)))}delete(t){return tt(Cn,"DELETE",this.store.name,t),ks(this.store.delete(t))}count(){return tt(Cn,"COUNT",this.store.name),ks(this.store.count())}H(t,n){const r=this.options(t,n),l=r.index?this.store.index(r.index):this.store;if(typeof l.getAll=="function"){const u=l.getAll(r.range);return new P(((h,m)=>{u.onerror=g=>{m(g.target.error)},u.onsuccess=g=>{h(g.target.result)}}))}{const u=this.cursor(r),h=[];return this.J(u,((m,g)=>{h.push(g)})).next((()=>h))}}Z(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new P(((l,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{l(h.target.result)}}))}X(t,n){tt(Cn,"DELETE ALL",this.store.name);const r=this.options(t,n);r.Y=!1;const l=this.cursor(r);return this.J(l,((u,h,m)=>m.delete()))}ee(t,n){let r;n?r=t:(r={},n=t);const l=this.cursor(r);return this.J(l,n)}te(t){const n=this.cursor({});return new P(((r,l)=>{n.onerror=u=>{const h=fg(u.target.error);l(h)},n.onsuccess=u=>{const h=u.target.result;h?t(h.primaryKey,h.value).next((m=>{m?h.continue():r()})):r()}}))}J(t,n){const r=[];return new P(((l,u)=>{t.onerror=h=>{u(h.target.error)},t.onsuccess=h=>{const m=h.target.result;if(!m)return void l();const g=new _I(m),y=n(m.primaryKey,m.value,g);if(y instanceof P){const T=y.catch((S=>(g.done(),P.reject(S))));r.push(T)}g.isDone?l():g.G===null?m.continue():m.continue(g.G)}})).next((()=>P.waitFor(r)))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.Y?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function ks(a){return new P(((t,n)=>{a.onsuccess=r=>{const l=r.target.result;t(l)},a.onerror=r=>{const l=fg(r.target.error);n(l)}}))}let Qv=!1;function fg(a){const t=$r.M(Sh());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(n)>=0){const r=new rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qv||(Qv=!0,setTimeout((()=>{throw r}),0)),r}}return a}const Zo="IndexBackfiller";class EI{constructor(t,n){this.asyncQueue=t,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){tt(Zo,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const n=await this.ne.ie();tt(Zo,`Documents written: ${n}`)}catch(n){ss(n)?tt(Zo,"Ignoring IndexedDB error during index backfill: ",n):await ra(n)}await this.re(6e4)}))}}class TI{constructor(t,n){this.localStore=t,this.persistence=n}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,t)))}se(t,n){const r=new Set;let l=n,u=!0;return P.doWhile((()=>u===!0&&l>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((h=>{if(h!==null&&!r.has(h))return tt(Zo,`Processing collection: ${h}`),this.oe(t,h,l).next((m=>{l-=m,r.add(h)}));u=!1})))).next((()=>n-l))}oe(t,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,n).next((l=>this.localStore.localDocuments.getNextDocuments(t,n,l,r).next((u=>{const h=u.changes;return this.localStore.indexManager.updateIndexEntries(t,h).next((()=>this._e(l,u))).next((m=>(tt(Zo,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(t,n,m)))).next((()=>h.size))}))))}_e(t,n){let r=t;return n.changes.forEach(((l,u)=>{const h=PT(u);hg(h,r)>0&&(r=h)})),new xn(r.readTime,r.documentKey,Math.max(n.batchId,t.largestBatchId))}}class Kn{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Kn.ce=-1;const Ks=-1;function Gh(a){return a==null}function lu(a){return a===0&&1/a==-1/0}function AI(a){return typeof a=="number"&&Number.isInteger(a)&&!lu(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const Dh="";function nn(a){let t="";for(let n=0;n<a.length;n++)t.length>0&&(t=Yv(t)),t=SI(a.get(n),t);return Yv(t)}function SI(a,t){let n=t;const r=a.length;for(let l=0;l<r;l++){const u=a.charAt(l);switch(u){case"\0":n+="";break;case Dh:n+="";break;default:n+=u}}return n}function Yv(a){return a+Dh+""}function Ni(a){const t=a.length;if(dt(t>=2,64408,{path:a}),t===2)return dt(a.charAt(0)===Dh&&a.charAt(1)==="",56145,{path:a}),Kt.emptyPath();const n=t-2,r=[];let l="";for(let u=0;u<t;){const h=a.indexOf(Dh,u);switch((h<0||h>n)&&ht(50515,{path:a}),a.charAt(h+1)){case"":const m=a.substring(u,h);let g;l.length===0?g=m:(l+=m,g=l,l=""),r.push(g);break;case"":l+=a.substring(u,h),l+="\0";break;case"":l+=a.substring(u,h+1);break;default:ht(61167,{path:a})}u=h+2}return new Kt(r)}const js="remoteDocuments",Eu="owner",Ya="owner",ou="mutationQueues",bI="userId",li="mutations",Xv="batchId",Gs="userMutationsIndex",Zv=["userId","batchId"];function fh(a,t){return[a,nn(t)]}function jT(a,t,n){return[a,nn(t),n]}const II={},fl="documentMutations",Ch="remoteDocumentsV14",RI=["prefixPath","collectionGroup","readTime","documentId"],dh="documentKeyIndex",wI=["prefixPath","collectionGroup","documentId"],kT="collectionGroupIndex",DI=["collectionGroup","readTime","prefixPath","documentId"],uu="remoteDocumentGlobal",Um="remoteDocumentGlobalKey",dl="targets",qT="queryTargetsIndex",CI=["canonicalId","targetId"],ml="targetDocuments",VI=["targetId","path"],dg="documentTargetsIndex",xI=["path","targetId"],Vh="targetGlobalKey",Qs="targetGlobal",cu="collectionParents",NI=["collectionId","parent"],gl="clientMetadata",MI="clientId",Kh="bundles",OI="bundleId",Qh="namedQueries",zI="name",mg="indexConfiguration",PI="indexId",Lm="collectionGroupIndex",UI="collectionGroup",Jo="indexState",LI=["indexId","uid"],FT="sequenceNumberIndex",BI=["uid","sequenceNumber"],$o="indexEntries",jI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],HT="documentKeyIndex",kI=["indexId","uid","orderedDocumentKey"],Yh="documentOverlays",qI=["userId","collectionPath","documentId"],Bm="collectionPathOverlayIndex",FI=["userId","collectionPath","largestBatchId"],GT="collectionGroupOverlayIndex",HI=["userId","collectionGroup","largestBatchId"],gg="globals",GI="name",KT=[ou,li,fl,js,dl,Eu,Qs,ml,gl,uu,cu,Kh,Qh],KI=[...KT,Yh],QT=[ou,li,fl,Ch,dl,Eu,Qs,ml,gl,uu,cu,Kh,Qh,Yh],YT=QT,pg=[...YT,mg,Jo,$o],QI=pg,XT=[...pg,gg],YI=XT;class jm extends LT{constructor(t,n){super(),this.le=t,this.currentSequenceNumber=n}}function Le(a,t){const n=St(a);return $r.O(n.le,t)}function Jv(a){let t=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t++;return t}function as(a,t){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&t(n,a[n])}function ZT(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class he{constructor(t,n){this.comparator=t,this.root=n||Je.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rh(this.root,t,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rh(this.root,t,this.comparator,!0)}}class rh{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,n,r,l,u){this.key=t,this.value=n,this.color=r??Je.RED,this.left=l??Je.EMPTY,this.right=u??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,u){return new Je(t??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Je.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ht(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(t,n,r,l,u){return this}insert(t,n,r){return new Je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(t){return new $v(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Wt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Wt(this.comparator);return n.data=t,n}}class $v{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xa(a){return a.hasNext()?a.getNext():void 0}class _n{constructor(t){this.fields=t,t.sort(fe.comparator)}static empty(){return new _n([])}unionWith(t){let n=new Wt(fe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new _n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return hl(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class JT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Oe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new JT("Invalid base64 string: "+u):u}})(t);return new Oe(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let h=0;h<l.length;++h)u+=String.fromCharCode(l[h]);return u})(t);return new Oe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Oe.EMPTY_BYTE_STRING=new Oe("");const XI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(a){if(dt(!!a,39018),typeof a=="string"){let t=0;const n=XI.exec(a);if(dt(!!n,46558,{timestamp:a}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function ar(a){return typeof a=="string"?Oe.fromBase64String(a):Oe.fromUint8Array(a)}const $T="server_timestamp",WT="__type__",t0="__previous_value__",e0="__local_write_time__";function yg(a){return(a?.mapValue?.fields||{})[WT]?.stringValue===$T}function Xh(a){const t=a.mapValue.fields[t0];return yg(t)?Xh(t):t}function hu(a){const t=sr(a.mapValue.fields[e0].timestampValue);return new Jt(t.seconds,t.nanos)}class ZI{constructor(t,n,r,l,u,h,m,g,y,T,S){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=S}}const xh="(default)";class Js{constructor(t,n){this.projectId=t,this.database=n||xh}static empty(){return new Js("","")}get isDefaultDatabase(){return this.database===xh}isEqual(t){return t instanceof Js&&t.projectId===this.projectId&&t.database===this.database}}function JI(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new rt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Js(a.options.projectId,t)}const _g="__type__",n0="__max__",Qr={mapValue:{fields:{__type__:{stringValue:n0}}}},vg="__vector__",pl="value",mh={nullValue:"NULL_VALUE"};function es(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?yg(a)?4:i0(a)?9007199254740991:Zh(a)?10:11:ht(28295,{value:a})}function Pi(a,t){if(a===t)return!0;const n=es(a);if(n!==es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return hu(a).isEqual(hu(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const h=sr(l.timestampValue),m=sr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,u){return ar(l.bytesValue).isEqual(ar(u.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,u){return ce(l.geoPointValue.latitude)===ce(u.geoPointValue.latitude)&&ce(l.geoPointValue.longitude)===ce(u.geoPointValue.longitude)})(a,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ce(l.integerValue)===ce(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const h=ce(l.doubleValue),m=ce(u.doubleValue);return h===m?lu(h)===lu(m):isNaN(h)&&isNaN(m)}return!1})(a,t);case 9:return hl(a.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(l,u){const h=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Jv(h)!==Jv(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Pi(h[g],m[g])))return!1;return!0})(a,t);default:return ht(52216,{left:a})}}function fu(a,t){return(a.values||[]).find((n=>Pi(n,t)))!==void 0}function ns(a,t){if(a===t)return 0;const n=es(a),r=es(t);if(n!==r)return At(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return At(a.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=ce(u.integerValue||u.doubleValue),g=ce(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(a,t);case 3:return Wv(a.timestampValue,t.timestampValue);case 4:return Wv(hu(a),hu(t));case 5:return zm(a.stringValue,t.stringValue);case 6:return(function(u,h){const m=ar(u),g=ar(h);return m.compareTo(g)})(a.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=At(m[y],g[y]);if(T!==0)return T}return At(m.length,g.length)})(a.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=At(ce(u.latitude),ce(h.latitude));return m!==0?m:At(ce(u.longitude),ce(h.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return tE(a.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},g=h.fields||{},y=m[pl]?.arrayValue,T=g[pl]?.arrayValue,S=At(y?.values?.length||0,T?.values?.length||0);return S!==0?S:tE(y,T)})(a.mapValue,t.mapValue);case 11:return(function(u,h){if(u===Qr.mapValue&&h===Qr.mapValue)return 0;if(u===Qr.mapValue)return 1;if(h===Qr.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=h.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const R=zm(g[S],T[S]);if(R!==0)return R;const q=ns(m[g[S]],y[T[S]]);if(q!==0)return q}return At(g.length,T.length)})(a.mapValue,t.mapValue);default:throw ht(23264,{he:n})}}function Wv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return At(a,t);const n=sr(a),r=sr(t),l=At(n.seconds,r.seconds);return l!==0?l:At(n.nanos,r.nanos)}function tE(a,t){const n=a.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=ns(n[l],r[l]);if(u)return u}return At(n.length,r.length)}function yl(a){return km(a)}function km(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const r=sr(n);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return ar(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return lt.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=km(u);return r+"]"})(a.arrayValue):"mapValue"in a?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const h of r)u?u=!1:l+=",",l+=`${h}:${km(n.fields[h])}`;return l+"}"})(a.mapValue):ht(61005,{value:a})}function gh(a){switch(es(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xh(a);return t?16+gh(t):16;case 5:return 2*a.stringValue.length;case 6:return ar(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+gh(u)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return as(r.fields,((u,h)=>{l+=u.length+gh(h)})),l})(a.mapValue);default:throw ht(13486,{value:a})}}function du(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function qm(a){return!!a&&"integerValue"in a}function mu(a){return!!a&&"arrayValue"in a}function eE(a){return!!a&&"nullValue"in a}function nE(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function ph(a){return!!a&&"mapValue"in a}function Zh(a){return(a?.mapValue?.fields||{})[_g]?.stringValue===vg}function Wo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return as(a.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Wo(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Wo(a.arrayValue.values[n]);return t}return{...a}}function i0(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===n0}const r0={mapValue:{fields:{[_g]:{stringValue:vg},[pl]:{arrayValue:{}}}}};function $I(a){return"nullValue"in a?mh:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?du(Js.empty(),lt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Zh(a)?r0:{mapValue:{}}:ht(35942,{value:a})}function WI(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?du(Js.empty(),lt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?r0:"mapValue"in a?Zh(a)?{mapValue:{}}:Qr:ht(61959,{value:a})}function iE(a,t){const n=ns(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?-1:!a.inclusive&&t.inclusive?1:0}function rE(a,t){const n=ns(a.value,t.value);return n!==0?n:a.inclusive&&!t.inclusive?1:!a.inclusive&&t.inclusive?-1:0}class en{constructor(t){this.value=t}static empty(){return new en({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!ph(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Wo(n)}setAll(t){let n=fe.emptyPath(),r={},l=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=m.popLast()}h?r[m.lastSegment()]=Wo(h):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(t){const n=this.field(t.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];ph(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){as(n,((l,u)=>t[l]=u));for(const l of r)delete t[l]}clone(){return new en(Wo(this.value))}}function s0(a){const t=[];return as(a.fields,((n,r)=>{const l=new fe([n]);if(ph(r)){const u=s0(r.mapValue).fields;if(u.length===0)t.push(l);else for(const h of u)t.push(l.child(h))}else t.push(l)})),new _n(t)}class ge{constructor(t,n,r,l,u,h,m){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new ge(t,0,_t.min(),_t.min(),_t.min(),en.empty(),0)}static newFoundDocument(t,n,r,l){return new ge(t,1,n,_t.min(),r,l,0)}static newNoDocument(t,n){return new ge(t,2,n,_t.min(),_t.min(),en.empty(),0)}static newUnknownDocument(t,n){return new ge(t,3,n,_t.min(),_t.min(),en.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _l{constructor(t,n){this.position=t,this.inclusive=n}}function sE(a,t,n){let r=0;for(let l=0;l<a.position.length;l++){const u=t[l],h=a.position[l];if(u.field.isKeyField()?r=lt.comparator(lt.fromName(h.referenceValue),n.key):r=ns(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function aE(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!Pi(a.position[n],t.position[n]))return!1;return!0}class gu{constructor(t,n="asc"){this.field=t,this.dir=n}}function tR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class a0{}class Ut extends a0{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new eR(t,n,r):n==="array-contains"?new rR(t,r):n==="in"?new f0(t,r):n==="not-in"?new sR(t,r):n==="array-contains-any"?new aR(t,r):new Ut(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new nR(t,r):new iR(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ns(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(ns(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends a0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new $t(t,n)}matches(t){return vl(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vl(a){return a.op==="and"}function Fm(a){return a.op==="or"}function Eg(a){return l0(a)&&vl(a)}function l0(a){for(const t of a.filters)if(t instanceof $t)return!1;return!0}function Hm(a){if(a instanceof Ut)return a.field.canonicalString()+a.op.toString()+yl(a.value);if(Eg(a))return a.filters.map((t=>Hm(t))).join(",");{const t=a.filters.map((n=>Hm(n))).join(",");return`${a.op}(${t})`}}function o0(a,t){return a instanceof Ut?(function(r,l){return l instanceof Ut&&r.op===l.op&&r.field.isEqual(l.field)&&Pi(r.value,l.value)})(a,t):a instanceof $t?(function(r,l){return l instanceof $t&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,h,m)=>u&&o0(h,l.filters[m])),!0):!1})(a,t):void ht(19439)}function u0(a,t){const n=a.filters.concat(t);return $t.create(n,a.op)}function c0(a){return a instanceof Ut?(function(n){return`${n.field.canonicalString()} ${n.op} ${yl(n.value)}`})(a):a instanceof $t?(function(n){return n.op.toString()+" {"+n.getFilters().map(c0).join(" ,")+"}"})(a):"Filter"}class eR extends Ut{constructor(t,n,r){super(t,n,r),this.key=lt.fromName(r.referenceValue)}matches(t){const n=lt.comparator(t.key,this.key);return this.matchesComparison(n)}}class nR extends Ut{constructor(t,n){super(t,"in",n),this.keys=h0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class iR extends Ut{constructor(t,n){super(t,"not-in",n),this.keys=h0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function h0(a,t){return(t.arrayValue?.values||[]).map((n=>lt.fromName(n.referenceValue)))}class rR extends Ut{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return mu(n)&&fu(n.arrayValue,this.value)}}class f0 extends Ut{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class sR extends Ut{constructor(t,n){super(t,"not-in",n)}matches(t){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fu(this.value.arrayValue,n)}}class aR extends Ut{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!mu(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fu(this.value.arrayValue,r)))}}class lR{constructor(t,n=null,r=[],l=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Gm(a,t=null,n=[],r=[],l=null,u=null,h=null){return new lR(a,t,n,r,l,u,h)}function $s(a){const t=St(a);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Hm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Gh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>yl(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>yl(r))).join(",")),t.Te=n}return t.Te}function Tu(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!tR(a.orderBy[n],t.orderBy[n]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!o0(a.filters[n],t.filters[n]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!aE(a.startAt,t.startAt)&&aE(a.endAt,t.endAt)}function Nh(a){return lt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function Mh(a,t){return a.filters.filter((n=>n instanceof Ut&&n.field.isEqual(t)))}function lE(a,t,n){let r=mh,l=!0;for(const u of Mh(a,t)){let h=mh,m=!0;switch(u.op){case"<":case"<=":h=$I(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,m=!1;break;case"!=":case"not-in":h=mh}iE({value:r,inclusive:l},{value:h,inclusive:m})<0&&(r=h,l=m)}if(n!==null){for(let u=0;u<a.orderBy.length;++u)if(a.orderBy[u].field.isEqual(t)){const h=n.position[u];iE({value:r,inclusive:l},{value:h,inclusive:n.inclusive})<0&&(r=h,l=n.inclusive);break}}return{value:r,inclusive:l}}function oE(a,t,n){let r=Qr,l=!0;for(const u of Mh(a,t)){let h=Qr,m=!0;switch(u.op){case">=":case">":h=WI(u.value),m=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,m=!1;break;case"!=":case"not-in":h=Qr}rE({value:r,inclusive:l},{value:h,inclusive:m})>0&&(r=h,l=m)}if(n!==null){for(let u=0;u<a.orderBy.length;++u)if(a.orderBy[u].field.isEqual(t)){const h=n.position[u];rE({value:r,inclusive:l},{value:h,inclusive:n.inclusive})>0&&(r=h,l=n.inclusive);break}}return{value:r,inclusive:l}}class wl{constructor(t,n=null,r=[],l=[],u=null,h="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function oR(a,t,n,r,l,u,h,m){return new wl(a,t,n,r,l,u,h,m)}function Jh(a){return new wl(a)}function uE(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function uR(a){return lt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function d0(a){return a.collectionGroup!==null}function tu(a){const t=St(a);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Wt(fe.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new gu(u,r))})),n.has(fe.keyField().canonicalString())||t.Ie.push(new gu(fe.keyField(),r))}return t.Ie}function Qn(a){const t=St(a);return t.Ee||(t.Ee=cR(t,tu(a))),t.Ee}function cR(a,t){if(a.limitType==="F")return Gm(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new gu(l.field,u)}));const n=a.endAt?new _l(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new _l(a.startAt.position,a.startAt.inclusive):null;return Gm(a.path,a.collectionGroup,t,a.filters,a.limit,n,r)}}function Km(a,t){const n=a.filters.concat([t]);return new wl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function hR(a,t){const n=a.explicitOrderBy.concat([t]);return new wl(a.path,a.collectionGroup,n,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function Qm(a,t,n){return new wl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,n,a.startAt,a.endAt)}function $h(a,t){return Tu(Qn(a),Qn(t))&&a.limitType===t.limitType}function m0(a){return`${$s(Qn(a))}|lt:${a.limitType}`}function il(a){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>c0(l))).join(", ")}]`),Gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>yl(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>yl(l))).join(",")),`Target(${r})`})(Qn(a))}; limitType=${a.limitType})`}function Au(a,t){return t.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):lt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(a,t)&&(function(r,l){for(const u of tu(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(h,m,g){const y=sE(h,m,g);return h.inclusive?y<=0:y<0})(r.startAt,tu(r),l)||r.endAt&&!(function(h,m,g){const y=sE(h,m,g);return h.inclusive?y>=0:y>0})(r.endAt,tu(r),l))})(a,t)}function fR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function g0(a){return(t,n)=>{let r=!1;for(const l of tu(a)){const u=dR(l,t,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function dR(a,t,n){const r=a.field.isKeyField()?lt.comparator(t.key,n.key):(function(u,h,m){const g=h.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ns(g,y):ht(42886)})(a.field,t,n);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return ht(19790,{direction:a.dir})}}class lr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){as(this.inner,((n,r)=>{for(const[l,u]of r)t(l,u)}))}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}const mR=new he(lt.comparator);function Vn(){return mR}const p0=new he(lt.comparator);function Ho(...a){let t=p0;for(const n of a)t=t.insert(n.key,n);return t}function y0(a){let t=p0;return a.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Mi(){return eu()}function _0(){return eu()}function eu(){return new lr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const gR=new he(lt.comparator),pR=new Wt(lt.comparator);function xt(...a){let t=pR;for(const n of a)t=t.add(n);return t}const yR=new Wt(At);function _R(){return yR}function Tg(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lu(t)?"-0":t}}function v0(a){return{integerValue:""+a}}function vR(a,t){return AI(t)?v0(t):Tg(a,t)}class Wh{constructor(){this._=void 0}}function ER(a,t,n){return a instanceof pu?(function(l,u){const h={fields:{[WT]:{stringValue:$T},[e0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&yg(u)&&(u=Xh(u)),u&&(h.fields[t0]=u),{mapValue:h}})(n,t):a instanceof El?T0(a,t):a instanceof Tl?A0(a,t):(function(l,u){const h=E0(l,u),m=cE(h)+cE(l.Ae);return qm(h)&&qm(l.Ae)?v0(m):Tg(l.serializer,m)})(a,t)}function TR(a,t,n){return a instanceof El?T0(a,t):a instanceof Tl?A0(a,t):n}function E0(a,t){return a instanceof yu?(function(r){return qm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class pu extends Wh{}class El extends Wh{constructor(t){super(),this.elements=t}}function T0(a,t){const n=S0(t);for(const r of a.elements)n.some((l=>Pi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Tl extends Wh{constructor(t){super(),this.elements=t}}function A0(a,t){let n=S0(t);for(const r of a.elements)n=n.filter((l=>!Pi(l,r)));return{arrayValue:{values:n}}}class yu extends Wh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function cE(a){return ce(a.integerValue||a.doubleValue)}function S0(a){return mu(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class AR{constructor(t,n){this.field=t,this.transform=n}}function SR(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof El&&l instanceof El||r instanceof Tl&&l instanceof Tl?hl(r.elements,l.elements,Pi):r instanceof yu&&l instanceof yu?Pi(r.Ae,l.Ae):r instanceof pu&&l instanceof pu})(a.transform,t.transform)}class bR{constructor(t,n){this.version=t,this.transformResults=n}}class on{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new on}static exists(t){return new on(void 0,t)}static updateTime(t){return new on(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yh(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class tf{}function b0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new ef(a.key,on.none()):new Dl(a.key,a.data,on.none());{const n=a.data,r=en.empty();let l=new Wt(fe.comparator);for(let u of t.fields)if(!l.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),l=l.add(u)}return new or(a.key,r,new _n(l.toArray()),on.none())}}function IR(a,t,n){a instanceof Dl?(function(l,u,h){const m=l.value.clone(),g=fE(l.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(a,t,n):a instanceof or?(function(l,u,h){if(!yh(l.precondition,u))return void u.convertToUnknownDocument(h.version);const m=fE(l.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(I0(l)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(a,t,n):(function(l,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function nu(a,t,n,r){return a instanceof Dl?(function(u,h,m,g){if(!yh(u.precondition,h))return m;const y=u.value.clone(),T=dE(u.fieldTransforms,g,h);return y.setAll(T),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(a,t,n,r):a instanceof or?(function(u,h,m,g){if(!yh(u.precondition,h))return m;const y=dE(u.fieldTransforms,g,h),T=h.data;return T.setAll(I0(u)),T.setAll(y),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(a,t,n,r):(function(u,h,m){return yh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(a,t,n)}function RR(a,t){let n=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),u=E0(r.transform,l||null);u!=null&&(n===null&&(n=en.empty()),n.set(r.field,u))}return n||null}function hE(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&hl(r,l,((u,h)=>SR(u,h)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Dl extends tf{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class or extends tf{constructor(t,n,r,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function I0(a){const t=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=a.data.field(n);t.set(n,r)}})),t}function fE(a,t,n){const r=new Map;dt(a.length===n.length,32656,{Ve:n.length,de:a.length});for(let l=0;l<n.length;l++){const u=a[l],h=u.transform,m=t.data.field(u.field);r.set(u.field,TR(h,m,n[l]))}return r}function dE(a,t,n){const r=new Map;for(const l of a){const u=l.transform,h=n.data.field(l.field);r.set(l.field,ER(u,h,t))}return r}class ef extends tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R0 extends tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ag{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&IR(u,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=nu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=nu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=_0();return this.mutations.forEach((l=>{const u=t.get(l.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(l.key)?null:m;const g=b0(h,m);g!==null&&r.set(l.key,g),h.isValidDocument()||h.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),xt())}isEqual(t){return this.batchId===t.batchId&&hl(this.mutations,t.mutations,((n,r)=>hE(n,r)))&&hl(this.baseMutations,t.baseMutations,((n,r)=>hE(n,r)))}}class Sg{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){dt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return gR})();const u=t.mutations;for(let h=0;h<u.length;h++)l=l.insert(u[h].key,r[h].version);return new Sg(t,n,r,l)}}class bg{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wR{constructor(t,n){this.count=t,this.unchangedNames=n}}var xe,Bt;function DR(a){switch(a){case Y.OK:return ht(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ht(15467,{code:a})}}function w0(a){if(a===void 0)return ln("GRPC error has no .code"),Y.UNKNOWN;switch(a){case xe.OK:return Y.OK;case xe.CANCELLED:return Y.CANCELLED;case xe.UNKNOWN:return Y.UNKNOWN;case xe.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case xe.INTERNAL:return Y.INTERNAL;case xe.UNAVAILABLE:return Y.UNAVAILABLE;case xe.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case xe.NOT_FOUND:return Y.NOT_FOUND;case xe.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case xe.ABORTED:return Y.ABORTED;case xe.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case xe.DATA_LOSS:return Y.DATA_LOSS;default:return ht(39323,{code:a})}}(Bt=xe||(xe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function CR(){return new TextEncoder}const VR=new Zr([4294967295,4294967295],0);function mE(a){const t=CR().encode(a),n=new IT;return n.update(t),new Uint8Array(n.digest())}function gE(a){const t=new DataView(a.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([n,r],0),new Zr([l,u],0)]}class Ig{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(r<0)throw new Go(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zr.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Zr.fromNumber(r)));return l.compare(VR)===1&&(l=new Zr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=mE(t),[r,l]=gE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,l,u);if(!this.we(h))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Ig(u,l,n);return r.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const n=mE(t),[r,l]=gE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,l,u);this.be(h)}}be(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nf{constructor(t,n,r,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Su.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new nf(_t.min(),l,new he(At),Vn(),xt())}}class Su{constructor(t,n,r,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Su(r,n,xt(),xt(),xt())}}class _h{constructor(t,n,r,l){this.Se=t,this.removedTargetIds=n,this.key=r,this.De=l}}class D0{constructor(t,n){this.targetId=t,this.Ce=n}}class C0{constructor(t,n,r=Oe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class pE{constructor(){this.ve=0,this.Fe=yE(),this.Me=Oe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),n=xt(),r=xt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:ht(38017,{changeType:u})}})),new Su(this.Me,this.xe,t,n,r)}Ke(){this.Oe=!1,this.Fe=yE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class xR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Vn(),this.He=sh(),this.Je=sh(),this.Ze=new he(At)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(t.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:ht(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Nh(u))if(r===0){const h=new lt(u.path);this.et(n,h,ge.newNoDocument(h,_t.min()))}else dt(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(t),g=m?this.ct(m,t,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let h,m;try{h=ar(r).toUint8Array()}catch(g){if(g instanceof JT)return ts("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ig(h,l,u)}catch(g){return ts(g instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Nh(m.target)){const g=new lt(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,ge.newNoDocument(g,t))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let r=xt();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const l=new nf(t,n,this.Ze,this.je,r);return this.je=Vn(),this.He=sh(),this.Je=sh(),this.Ze=new he(At),l}Ye(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new pE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Wt(At),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Wt(At),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||tt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new pE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function sh(){return new he(lt.comparator)}function yE(){return new he(lt.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},MR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OR={and:"AND",or:"OR"};class zR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ym(a,t){return a.useProto3Json||Gh(t)?t:{value:t}}function Al(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function V0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function PR(a,t){return Al(a,t.toTimestamp())}function un(a){return dt(!!a,49232),_t.fromTimestamp((function(n){const r=sr(n);return new Jt(r.seconds,r.nanos)})(a))}function Rg(a,t){return Xm(a,t).canonicalString()}function Xm(a,t){const n=(function(l){return new Kt(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?n:n.child(t)}function x0(a){const t=Kt.fromString(a);return dt(j0(t),10190,{key:t.toString()}),t}function Oh(a,t){return Rg(a.databaseId,t.path)}function Ys(a,t){const n=x0(t);if(n.get(1)!==a.databaseId.projectId)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new rt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new lt(O0(n))}function N0(a,t){return Rg(a.databaseId,t)}function M0(a){const t=x0(a);return t.length===4?Kt.emptyPath():O0(t)}function Zm(a){return new Kt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function O0(a){return dt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function _E(a,t,n){return{name:Oh(a,t),fields:n.value.mapValue.fields}}function UR(a,t,n){const r=Ys(a,t.name),l=un(t.updateTime),u=t.createTime?un(t.createTime):_t.min(),h=new en({mapValue:{fields:t.fields}}),m=ge.newFoundDocument(r,l,u,h);return n&&m.setHasCommittedMutations(),n?m.setHasCommittedMutations():m}function LR(a,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ht(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(dt(T===void 0||typeof T=="string",58123),Oe.fromBase64String(T||"")):(dt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Oe.fromUint8Array(T||new Uint8Array))})(a,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(y){const T=y.code===void 0?Y.UNKNOWN:w0(y.code);return new rt(T,y.message||"")})(h);n=new C0(r,l,u,m||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Ys(a,r.document.name),u=un(r.document.updateTime),h=r.document.createTime?un(r.document.createTime):_t.min(),m=new en({mapValue:{fields:r.document.fields}}),g=ge.newFoundDocument(l,u,h,m),y=r.targetIds||[],T=r.removedTargetIds||[];n=new _h(y,T,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Ys(a,r.document),u=r.readTime?un(r.readTime):_t.min(),h=ge.newNoDocument(l,u),m=r.removedTargetIds||[];n=new _h([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Ys(a,r.document),u=r.removedTargetIds||[];n=new _h([],u,l,null)}else{if(!("filter"in t))return ht(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,h=new wR(l,u),m=r.targetId;n=new D0(m,h)}}return n}function zh(a,t){let n;if(t instanceof Dl)n={update:_E(a,t.key,t.value)};else if(t instanceof ef)n={delete:Oh(a,t.key)};else if(t instanceof or)n={update:_E(a,t.key,t.data),updateMask:HR(t.fieldMask)};else{if(!(t instanceof R0))return ht(16599,{dt:t.type});n={verify:Oh(a,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof El)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Tl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw ht(20930,{transform:h.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:PR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ht(27497)})(a,t.precondition)),n}function Jm(a,t){const n=t.currentDocument?(function(u){return u.updateTime!==void 0?on.updateTime(un(u.updateTime)):u.exists!==void 0?on.exists(u.exists):on.none()})(t.currentDocument):on.none(),r=t.updateTransforms?t.updateTransforms.map((l=>(function(h,m){let g=null;if("setToServerValue"in m)dt(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),g=new pu;else if("appendMissingElements"in m){const T=m.appendMissingElements.values||[];g=new El(T)}else if("removeAllFromArray"in m){const T=m.removeAllFromArray.values||[];g=new Tl(T)}else"increment"in m?g=new yu(h,m.increment):ht(16584,{proto:m});const y=fe.fromServerFormat(m.fieldPath);return new AR(y,g)})(a,l))):[];if(t.update){t.update.name;const l=Ys(a,t.update.name),u=new en({mapValue:{fields:t.update.fields}});if(t.updateMask){const h=(function(g){const y=g.fieldPaths||[];return new _n(y.map((T=>fe.fromServerFormat(T))))})(t.updateMask);return new or(l,u,h,n,r)}return new Dl(l,u,n,r)}if(t.delete){const l=Ys(a,t.delete);return new ef(l,n)}if(t.verify){const l=Ys(a,t.verify);return new R0(l,n)}return ht(1463,{proto:t})}function BR(a,t){return a&&a.length>0?(dt(t!==void 0,14353),a.map((n=>(function(l,u){let h=l.updateTime?un(l.updateTime):un(u);return h.isEqual(_t.min())&&(h=un(u)),new bR(h,l.transformResults||[])})(n,t)))):[]}function z0(a,t){return{documents:[N0(a,t.path)]}}function P0(a,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=N0(a,l);const u=(function(y){if(y.length!==0)return B0($t.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((T=>(function(R){return{field:rl(R.field),direction:kR(R.dir)}})(T)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Ym(a,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function U0(a){let t=M0(a.parent);const n=a.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){dt(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(S){const R=L0(S);return R instanceof $t&&Eg(R)?R.getFilters():[R]})(n.where));let h=[];n.orderBy&&(h=(function(S){return S.map((R=>(function($){return new gu(sl($.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,Gh(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(S){const R=!!S.before,q=S.values||[];return new _l(q,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const R=!S.before,q=S.values||[];return new _l(q,R)})(n.endAt)),oR(t,l,h,u,m,"F",g,y)}function jR(a,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function L0(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sl(n.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=sl(n.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=sl(n.unaryFilter.field);return Ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=sl(n.unaryFilter.field);return Ut.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Ut.create(sl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return $t.create(n.compositeFilter.filters.map((r=>L0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(n.compositeFilter.op))})(a):ht(30097,{filter:a})}function kR(a){return NR[a]}function qR(a){return MR[a]}function FR(a){return OR[a]}function rl(a){return{fieldPath:a.canonicalString()}}function sl(a){return fe.fromServerFormat(a.fieldPath)}function B0(a){return a instanceof Ut?(function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(eE(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(eE(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:qR(n.op),value:n.value}}})(a):a instanceof $t?(function(n){const r=n.getFilters().map((l=>B0(l)));return r.length===1?r[0]:{compositeFilter:{op:FR(n.op),filters:r}}})(a):ht(54877,{filter:a})}function HR(a){const t=[];return a.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function j0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function k0(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class nr{constructor(t,n,r,l,u=_t.min(),h=_t.min(),m=Oe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class q0{constructor(t){this.yt=t}}function GR(a,t){let n;if(t.document)n=UR(a.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const r=lt.fromSegments(t.noDocument.path),l=ta(t.noDocument.readTime);n=ge.newNoDocument(r,l),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ht(56709);{const r=lt.fromSegments(t.unknownDocument.path),l=ta(t.unknownDocument.version);n=ge.newUnknownDocument(r,l)}}return t.readTime&&n.setReadTime((function(l){const u=new Jt(l[0],l[1]);return _t.fromTimestamp(u)})(t.readTime)),n}function vE(a,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ph(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=(function(u,h){return{name:Oh(u,h.key),fields:h.data.value.mapValue.fields,updateTime:Al(u,h.version.toTimestamp()),createTime:Al(u,h.createTime.toTimestamp())}})(a.yt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ws(t.version)};else{if(!t.isUnknownDocument())return ht(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:Ws(t.version)}}return r}function Ph(a){const t=a.toTimestamp();return[t.seconds,t.nanoseconds]}function Ws(a){const t=a.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ta(a){const t=new Jt(a.seconds,a.nanoseconds);return _t.fromTimestamp(t)}function qs(a,t){const n=(t.baseMutations||[]).map((u=>Jm(a.yt,u)));for(let u=0;u<t.mutations.length-1;++u){const h=t.mutations[u];if(u+1<t.mutations.length&&t.mutations[u+1].transform!==void 0){const m=t.mutations[u+1];h.updateTransforms=m.transform.fieldTransforms,t.mutations.splice(u+1,1),++u}}const r=t.mutations.map((u=>Jm(a.yt,u))),l=Jt.fromMillis(t.localWriteTimeMs);return new Ag(t.batchId,l,n,r)}function Ko(a){const t=ta(a.readTime),n=a.lastLimboFreeSnapshotVersion!==void 0?ta(a.lastLimboFreeSnapshotVersion):_t.min();let r;return r=(function(u){return u.documents!==void 0})(a.query)?(function(u){const h=u.documents.length;return dt(h===1,1966,{count:h}),Qn(Jh(M0(u.documents[0])))})(a.query):(function(u){return Qn(U0(u))})(a.query),new nr(r,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,t,n,Oe.fromBase64String(a.resumeToken))}function F0(a,t){const n=Ws(t.snapshotVersion),r=Ws(t.lastLimboFreeSnapshotVersion);let l;l=Nh(t.target)?z0(a.yt,t.target):P0(a.yt,t.target).ft;const u=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:$s(t.target),readTime:n,resumeToken:u,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:l}}function H0(a){const t=U0({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Qm(t,t.limit,"L"):t}function Em(a,t){return new bg(t.largestBatchId,Jm(a.yt,t.overlayMutation))}function EE(a,t){const n=t.path.lastSegment();return[a,nn(t.path.popLast()),n]}function TE(a,t,n,r){return{indexId:a,uid:t,sequenceNumber:n,readTime:Ws(r.readTime),documentKey:nn(r.documentKey.path),largestBatchId:r.largestBatchId}}class KR{getBundleMetadata(t,n){return AE(t).get(n).next((r=>{if(r)return(function(u){return{id:u.bundleId,createTime:ta(u.createTime),version:u.version}})(r)}))}saveBundleMetadata(t,n){return AE(t).put((function(l){return{bundleId:l.id,createTime:Ws(un(l.createTime)),version:l.version}})(n))}getNamedQuery(t,n){return SE(t).get(n).next((r=>{if(r)return(function(u){return{name:u.name,query:H0(u.bundledQuery),readTime:ta(u.readTime)}})(r)}))}saveNamedQuery(t,n){return SE(t).put((function(l){return{name:l.name,readTime:Ws(un(l.readTime)),bundledQuery:l.bundledQuery}})(n))}}function AE(a){return Le(a,Kh)}function SE(a){return Le(a,Qh)}class rf{constructor(t,n){this.serializer=t,this.userId=n}static wt(t,n){const r=n.uid||"";return new rf(t,r)}getOverlay(t,n){return Uo(t).get(EE(this.userId,n)).next((r=>r?Em(this.serializer,r):null))}getOverlays(t,n){const r=Mi();return P.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){const l=[];return r.forEach(((u,h)=>{const m=new bg(n,h);l.push(this.bt(t,m))})),P.waitFor(l)}removeOverlaysForBatchId(t,n,r){const l=new Set;n.forEach((h=>l.add(nn(h.getCollectionPath()))));const u=[];return l.forEach((h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);u.push(Uo(t).X(Bm,m))})),P.waitFor(u)}getOverlaysForCollection(t,n,r){const l=Mi(),u=nn(n),h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Uo(t).H(Bm,h).next((m=>{for(const g of m){const y=Em(this.serializer,g);l.set(y.getKey(),y)}return l}))}getOverlaysForCollectionGroup(t,n,r,l){const u=Mi();let h;const m=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Uo(t).ee({index:GT,range:m},((g,y,T)=>{const S=Em(this.serializer,y);u.size()<l||S.largestBatchId===h?(u.set(S.getKey(),S),h=S.largestBatchId):T.done()})).next((()=>u))}bt(t,n){return Uo(t).put((function(l,u,h){const[m,g,y]=EE(u,h.mutation.key);return{userId:u,collectionPath:g,documentId:y,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:zh(l.yt,h.mutation)}})(this.serializer,this.userId,n))}}function Uo(a){return Le(a,Yh)}class QR{St(t){return Le(t,gg)}getSessionToken(t){return this.St(t).get("sessionToken").next((n=>{const r=n?.value;return r?Oe.fromUint8Array(r):Oe.EMPTY_BYTE_STRING}))}setSessionToken(t,n){return this.St(t).put({name:"sessionToken",value:n.toUint8Array()})}}class Fs{constructor(){}Dt(t,n){this.Ct(t,n),n.vt()}Ct(t,n){if("nullValue"in t)this.Ft(n,5);else if("booleanValue"in t)this.Ft(n,10),n.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(n,15),n.Mt(ce(t.integerValue));else if("doubleValue"in t){const r=ce(t.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),lu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=sr(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,n),this.Nt(n);else if("bytesValue"in t)this.Ft(n,30),n.Bt(ar(t.bytesValue)),this.Nt(n);else if("referenceValue"in t)this.Lt(t.referenceValue,n);else if("geoPointValue"in t){const r=t.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in t?i0(t)?this.Ft(n,Number.MAX_SAFE_INTEGER):Zh(t)?this.kt(t.mapValue,n):(this.Kt(t.mapValue,n),this.Nt(n)):"arrayValue"in t?(this.qt(t.arrayValue,n),this.Nt(n)):ht(19022,{Ut:t})}Ot(t,n){this.Ft(n,25),this.$t(t,n)}$t(t,n){n.xt(t)}Kt(t,n){const r=t.fields||{};this.Ft(n,55);for(const l of Object.keys(r))this.Ot(l,n),this.Ct(r[l],n)}kt(t,n){const r=t.fields||{};this.Ft(n,53);const l=pl,u=r[l].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(ce(u)),this.Ot(l,n),this.Ct(r[l],n)}qt(t,n){const r=t.values||[];this.Ft(n,50);for(const l of r)this.Ct(l,n)}Lt(t,n){this.Ft(n,37),lt.fromName(t).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(t,n){t.Mt(n)}Nt(t){t.Mt(2)}}Fs.Wt=new Fs;const Za=255;function YR(a){if(a===0)return 8;let t=0;return a>>4||(t+=4,a<<=4),a>>6||(t+=2,a<<=2),a>>7||(t+=1),t}function bE(a){const t=64-(function(r){let l=0;for(let u=0;u<8;++u){const h=YR(255&r[u]);if(l+=h,h!==8)break}return l})(a);return Math.ceil(t/8)}class XR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(t){const n=t[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const l=n.codePointAt(0);this.Gt(240|l>>>18),this.Gt(128|63&l>>>12),this.Gt(128|63&l>>>6),this.Gt(128|63&l)}}this.zt()}Xt(t){for(const n of t){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const l=n.codePointAt(0);this.Ht(240|l>>>18),this.Ht(128|63&l>>>12),this.Ht(128|63&l>>>6),this.Ht(128|63&l)}}this.Jt()}Yt(t){const n=this.en(t),r=bE(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let l=n.length-r;l<n.length;++l)this.buffer[this.position++]=255&n[l]}nn(t){const n=this.en(t),r=bE(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let l=n.length-r;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}rn(){this.sn(Za),this.sn(255)}_n(){this.an(Za),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const n=(function(u){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,u,!1),new Uint8Array(h.buffer)})(t),r=!!(128&n[0]);n[0]^=r?255:128;for(let l=1;l<n.length;++l)n[l]^=r?255:0;return n}Gt(t){const n=255&t;n===0?(this.sn(0),this.sn(255)):n===Za?(this.sn(Za),this.sn(0)):this.sn(n)}Ht(t){const n=255&t;n===0?(this.an(0),this.an(255)):n===Za?(this.an(Za),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const n=t+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const l=new Uint8Array(r);l.set(this.buffer),this.buffer=l}}class ZR{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class JR{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class Lo{constructor(){this.cn=new XR,this.ascending=new ZR(this.cn),this.descending=new JR(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Hs{constructor(t,n,r,l){this.hn=t,this.Pn=n,this.Tn=r,this.In=l}En(){const t=this.In.length,n=t===0||this.In[t-1]===255?t+1:t,r=new Uint8Array(n);return r.set(this.In,0),n!==t?r.set([0],this.In.length):++r[r.length-1],new Hs(this.hn,this.Pn,this.Tn,r)}Rn(t,n,r){return{indexId:this.hn,uid:t,arrayValue:vh(this.Tn),directionalValue:vh(this.In),orderedDocumentKey:vh(n),documentKey:r.path.toArray()}}An(t,n,r){const l=this.Rn(t,n,r);return[l.indexId,l.uid,l.arrayValue,l.directionalValue,l.orderedDocumentKey,l.documentKey]}}function qr(a,t){let n=a.hn-t.hn;return n!==0?n:(n=IE(a.Tn,t.Tn),n!==0?n:(n=IE(a.In,t.In),n!==0?n:lt.comparator(a.Pn,t.Pn)))}function IE(a,t){for(let n=0;n<a.length&&n<t.length;++n){const r=a[n]-t[n];if(r!==0)return r}return a.length-t.length}function vh(a){return pT()?(function(n){let r="";for(let l=0;l<n.length;l++)r+=String.fromCharCode(n[l]);return r})(a):a}function RE(a){return typeof a!="string"?a:(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(a)}class wE{constructor(t){this.Vn=new Wt(((n,r)=>fe.comparator(n.field,r.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const n of t.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(t){if(dt(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=Pm(t);if(n!==void 0&&!this.pn(n))return!1;const r=Bs(t);let l=new Set,u=0,h=0;for(;u<r.length&&this.pn(r[u]);++u)l=l.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(this.Vn.size>0){const m=this.Vn.getIterator().getNext();if(!l.has(m.field.canonicalString())){const g=r[u];if(!this.yn(m,g)||!this.wn(this.dn[h++],g))return!1}++u}for(;u<r.length;++u){const m=r[u];if(h>=this.dn.length||!this.wn(this.dn[h++],m))return!1}return!0}bn(){if(this.fn)return null;let t=new Wt(fe.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new hh(r.field,2));else{if(t.has(r.field))continue;t=t.add(r.field),n.push(new hh(r.field,0))}for(const r of this.dn)r.field.isKeyField()||t.has(r.field)||(t=t.add(r.field),n.push(new hh(r.field,r.dir==="asc"?0:1)));return new wh(wh.UNKNOWN_ID,this.collectionId,n,au.empty())}pn(t){for(const n of this.mn)if(this.yn(n,t))return!0;return!1}yn(t,n){if(t===void 0||!t.field.isEqual(n.fieldPath))return!1;const r=t.op==="array-contains"||t.op==="array-contains-any";return n.kind===2===r}wn(t,n){return!!t.field.isEqual(n.fieldPath)&&(n.kind===0&&t.dir==="asc"||n.kind===1&&t.dir==="desc")}}function G0(a){if(dt(a instanceof Ut||a instanceof $t,20012),a instanceof Ut){if(a instanceof f0){const n=a.value.arrayValue?.values?.map((r=>Ut.create(a.field,"==",r)))||[];return $t.create(n,"or")}return a}const t=a.filters.map((n=>G0(n)));return $t.create(t,a.op)}function $R(a){if(a.getFilters().length===0)return[];const t=tg(G0(a));return dt(K0(t),7391),$m(t)||Wm(t)?[t]:t.getFilters()}function $m(a){return a instanceof Ut}function Wm(a){return a instanceof $t&&Eg(a)}function K0(a){return $m(a)||Wm(a)||(function(n){if(n instanceof $t&&Fm(n)){for(const r of n.getFilters())if(!$m(r)&&!Wm(r))return!1;return!0}return!1})(a)}function tg(a){if(dt(a instanceof Ut||a instanceof $t,34018),a instanceof Ut)return a;if(a.filters.length===1)return tg(a.filters[0]);const t=a.filters.map((r=>tg(r)));let n=$t.create(t,a.op);return n=Uh(n),K0(n)?n:(dt(n instanceof $t,64498),dt(vl(n),40251),dt(n.filters.length>1,57927),n.filters.reduce(((r,l)=>wg(r,l))))}function wg(a,t){let n;return dt(a instanceof Ut||a instanceof $t,38388),dt(t instanceof Ut||t instanceof $t,25473),n=a instanceof Ut?t instanceof Ut?(function(l,u){return $t.create([l,u],"and")})(a,t):DE(a,t):t instanceof Ut?DE(t,a):(function(l,u){if(dt(l.filters.length>0&&u.filters.length>0,48005),vl(l)&&vl(u))return u0(l,u.getFilters());const h=Fm(l)?l:u,m=Fm(l)?u:l,g=h.filters.map((y=>wg(y,m)));return $t.create(g,"or")})(a,t),Uh(n)}function DE(a,t){if(vl(t))return u0(t,a.getFilters());{const n=t.filters.map((r=>wg(a,r)));return $t.create(n,"or")}}function Uh(a){if(dt(a instanceof Ut||a instanceof $t,11850),a instanceof Ut)return a;const t=a.getFilters();if(t.length===1)return Uh(t[0]);if(l0(a))return a;const n=t.map((l=>Uh(l))),r=[];return n.forEach((l=>{l instanceof Ut?r.push(l):l instanceof $t&&(l.op===a.op?r.push(...l.filters):r.push(l))})),r.length===1?r[0]:$t.create(r,a.op)}class WR{constructor(){this.Sn=new Dg}addToCollectionParentIndex(t,n){return this.Sn.add(n),P.resolve()}getCollectionParents(t,n){return P.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return P.resolve()}deleteFieldIndex(t,n){return P.resolve()}deleteAllFieldIndexes(t){return P.resolve()}createTargetIndexes(t,n){return P.resolve()}getDocumentsMatchingTarget(t,n){return P.resolve(null)}getIndexType(t,n){return P.resolve(0)}getFieldIndexes(t,n){return P.resolve([])}getNextCollectionGroupToUpdate(t){return P.resolve(null)}getMinOffset(t,n){return P.resolve(xn.min())}getMinOffsetFromCollectionGroup(t,n){return P.resolve(xn.min())}updateCollectionGroup(t,n,r){return P.resolve()}updateIndexEntries(t,n){return P.resolve()}}class Dg{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new Wt(Kt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Wt(Kt.comparator)).toArray()}}const CE="IndexedDbIndexManager",ah=new Uint8Array(0);class t2{constructor(t,n){this.databaseId=n,this.Dn=new Dg,this.Cn=new lr((r=>$s(r)),((r,l)=>Tu(r,l))),this.uid=t.uid||""}addToCollectionParentIndex(t,n){if(!this.Dn.has(n)){const r=n.lastSegment(),l=n.popLast();t.addOnCommittedListener((()=>{this.Dn.add(n)}));const u={collectionId:r,parent:nn(l)};return VE(t).put(u)}return P.resolve()}getCollectionParents(t,n){const r=[],l=IDBKeyRange.bound([n,""],[MT(n),""],!1,!0);return VE(t).H(l).next((u=>{for(const h of u){if(h.collectionId!==n)break;r.push(Ni(h.parent))}return r}))}addFieldIndex(t,n){const r=Bo(t),l=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(n);delete l.indexId;const u=r.add(l);if(n.indexState){const h=$a(t);return u.next((m=>{h.put(TE(m,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return u.next()}deleteFieldIndex(t,n){const r=Bo(t),l=$a(t),u=Ja(t);return r.delete(n.indexId).next((()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const n=Bo(t),r=Ja(t),l=$a(t);return n.X().next((()=>r.X())).next((()=>l.X()))}createTargetIndexes(t,n){return P.forEach(this.vn(n),(r=>this.getIndexType(t,r).next((l=>{if(l===0||l===1){const u=new wE(r).bn();if(u!=null)return this.addFieldIndex(t,u)}}))))}getDocumentsMatchingTarget(t,n){const r=Ja(t);let l=!0;const u=new Map;return P.forEach(this.vn(n),(h=>this.Fn(t,h).next((m=>{l&&(l=!!m),u.set(h,m)})))).next((()=>{if(l){let h=xt();const m=[];return P.forEach(u,((g,y)=>{tt(CE,`Using index ${(function(ot){return`id=${ot.indexId}|cg=${ot.collectionGroup}|f=${ot.fields.map((bt=>`${bt.fieldPath}:${bt.kind}`)).join(",")}`})(g)} to execute ${$s(n)}`);const T=(function(ot,bt){const It=Pm(bt);if(It===void 0)return null;for(const ct of Mh(ot,It.fieldPath))switch(ct.op){case"array-contains-any":return ct.value.arrayValue.values||[];case"array-contains":return[ct.value]}return null})(y,g),S=(function(ot,bt){const It=new Map;for(const ct of Bs(bt))for(const I of Mh(ot,ct.fieldPath))switch(I.op){case"==":case"in":It.set(ct.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return It.set(ct.fieldPath.canonicalString(),I.value),Array.from(It.values())}return null})(y,g),R=(function(ot,bt){const It=[];let ct=!0;for(const I of Bs(bt)){const b=I.kind===0?lE(ot,I.fieldPath,ot.startAt):oE(ot,I.fieldPath,ot.startAt);It.push(b.value),ct&&(ct=b.inclusive)}return new _l(It,ct)})(y,g),q=(function(ot,bt){const It=[];let ct=!0;for(const I of Bs(bt)){const b=I.kind===0?oE(ot,I.fieldPath,ot.endAt):lE(ot,I.fieldPath,ot.endAt);It.push(b.value),ct&&(ct=b.inclusive)}return new _l(It,ct)})(y,g),$=this.Mn(g,y,R),W=this.Mn(g,y,q),et=this.xn(g,y,S),pt=this.On(g.indexId,T,$,R.inclusive,W,q.inclusive,et);return P.forEach(pt,(gt=>r.Z(gt,n.limit).next((ot=>{ot.forEach((bt=>{const It=lt.fromSegments(bt.documentKey);h.has(It)||(h=h.add(It),m.push(It))}))}))))})).next((()=>m))}return P.resolve(null)}))}vn(t){let n=this.Cn.get(t);return n||(t.filters.length===0?n=[t]:n=$R($t.create(t.filters,"and")).map((r=>Gm(t.path,t.collectionGroup,t.orderBy,r.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,n),n)}On(t,n,r,l,u,h,m){const g=(n!=null?n.length:1)*Math.max(r.length,u.length),y=g/(n!=null?n.length:1),T=[];for(let S=0;S<g;++S){const R=n?this.Nn(n[S/y]):ah,q=this.Bn(t,R,r[S%y],l),$=this.Ln(t,R,u[S%y],h),W=m.map((et=>this.Bn(t,R,et,!0)));T.push(...this.createRange(q,$,W))}return T}Bn(t,n,r,l){const u=new Hs(t,lt.empty(),n,r);return l?u:u.En()}Ln(t,n,r,l){const u=new Hs(t,lt.empty(),n,r);return l?u.En():u}Fn(t,n){const r=new wE(n),l=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(t,l).next((u=>{let h=null;for(const m of u)r.gn(m)&&(!h||m.fields.length>h.fields.length)&&(h=m);return h}))}getIndexType(t,n){let r=2;const l=this.vn(n);return P.forEach(l,(u=>this.Fn(t,u).next((h=>{h?r!==0&&h.fields.length<(function(g){let y=new Wt(fe.comparator),T=!1;for(const S of g.filters)for(const R of S.getFlattenedFilters())R.field.isKeyField()||(R.op==="array-contains"||R.op==="array-contains-any"?T=!0:y=y.add(R.field));for(const S of g.orderBy)S.field.isKeyField()||(y=y.add(S.field));return y.size+(T?1:0)})(u)&&(r=1):r=0})))).next((()=>(function(h){return h.limit!==null})(n)&&l.length>1&&r===2?1:r))}kn(t,n){const r=new Lo;for(const l of Bs(t)){const u=n.data.field(l.fieldPath);if(u==null)return null;const h=r.ln(l.kind);Fs.Wt.Dt(u,h)}return r.un()}Nn(t){const n=new Lo;return Fs.Wt.Dt(t,n.ln(0)),n.un()}Kn(t,n){const r=new Lo;return Fs.Wt.Dt(du(this.databaseId,n),r.ln((function(u){const h=Bs(u);return h.length===0?0:h[h.length-1].kind})(t))),r.un()}xn(t,n,r){if(r===null)return[];let l=[];l.push(new Lo);let u=0;for(const h of Bs(t)){const m=r[u++];for(const g of l)if(this.qn(n,h.fieldPath)&&mu(m))l=this.Un(l,h,m);else{const y=g.ln(h.kind);Fs.Wt.Dt(m,y)}}return this.$n(l)}Mn(t,n,r){return this.xn(t,n,r.position)}$n(t){const n=[];for(let r=0;r<t.length;++r)n[r]=t[r].un();return n}Un(t,n,r){const l=[...t],u=[];for(const h of r.arrayValue.values||[])for(const m of l){const g=new Lo;g.seed(m.un()),Fs.Wt.Dt(h,g.ln(n.kind)),u.push(g)}return u}qn(t,n){return!!t.filters.find((r=>r instanceof Ut&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(t,n){const r=Bo(t),l=$a(t);return(n?r.H(Lm,IDBKeyRange.bound(n,n)):r.H()).next((u=>{const h=[];return P.forEach(u,(m=>l.get([m.indexId,this.uid]).next((g=>{h.push((function(T,S){const R=S?new au(S.sequenceNumber,new xn(ta(S.readTime),new lt(Ni(S.documentKey)),S.largestBatchId)):au.empty(),q=T.fields.map((([$,W])=>new hh(fe.fromServerFormat($),W)));return new wh(T.indexId,T.collectionGroup,q,R)})(m,g))})))).next((()=>h))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((n=>n.length===0?null:(n.sort(((r,l)=>{const u=r.indexState.sequenceNumber-l.indexState.sequenceNumber;return u!==0?u:At(r.collectionGroup,l.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(t,n,r){const l=Bo(t),u=$a(t);return this.Wn(t).next((h=>l.H(Lm,IDBKeyRange.bound(n,n)).next((m=>P.forEach(m,(g=>u.put(TE(g.indexId,this.uid,h,r))))))))}updateIndexEntries(t,n){const r=new Map;return P.forEach(n,((l,u)=>{const h=r.get(l.collectionGroup);return(h?P.resolve(h):this.getFieldIndexes(t,l.collectionGroup)).next((m=>(r.set(l.collectionGroup,m),P.forEach(m,(g=>this.Qn(t,l,g).next((y=>{const T=this.Gn(u,g);return y.isEqual(T)?P.resolve():this.zn(t,u,g,y,T)})))))))}))}jn(t,n,r,l){return Ja(t).put(l.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(t,n,r,l){return Ja(t).delete(l.An(this.uid,this.Kn(r,n.key),n.key))}Qn(t,n,r){const l=Ja(t);let u=new Wt(qr);return l.ee({index:HT,range:IDBKeyRange.only([r.indexId,this.uid,vh(this.Kn(r,n))])},((h,m)=>{u=u.add(new Hs(r.indexId,n,RE(m.arrayValue),RE(m.directionalValue)))})).next((()=>u))}Gn(t,n){let r=new Wt(qr);const l=this.kn(n,t);if(l==null)return r;const u=Pm(n);if(u!=null){const h=t.data.field(u.fieldPath);if(mu(h))for(const m of h.arrayValue.values||[])r=r.add(new Hs(n.indexId,t.key,this.Nn(m),l))}else r=r.add(new Hs(n.indexId,t.key,ah,l));return r}zn(t,n,r,l,u){tt(CE,"Updating index entries for document '%s'",n.key);const h=[];return(function(g,y,T,S,R){const q=g.getIterator(),$=y.getIterator();let W=Xa(q),et=Xa($);for(;W||et;){let pt=!1,gt=!1;if(W&&et){const ot=T(W,et);ot<0?gt=!0:ot>0&&(pt=!0)}else W!=null?gt=!0:pt=!0;pt?(S(et),et=Xa($)):gt?(R(W),W=Xa(q)):(W=Xa(q),et=Xa($))}})(l,u,qr,(m=>{h.push(this.jn(t,n,r,m))}),(m=>{h.push(this.Hn(t,n,r,m))})),P.waitFor(h)}Wn(t){let n=1;return $a(t).ee({index:FT,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,l,u)=>{u.done(),n=l.sequenceNumber+1})).next((()=>n))}createRange(t,n,r){r=r.sort(((h,m)=>qr(h,m))).filter(((h,m,g)=>!m||qr(h,g[m-1])!==0));const l=[];l.push(t);for(const h of r){const m=qr(h,t),g=qr(h,n);if(m===0)l[0]=t.En();else if(m>0&&g<0)l.push(h),l.push(h.En());else if(g>0)break}l.push(n);const u=[];for(let h=0;h<l.length;h+=2){if(this.Jn(l[h],l[h+1]))return[];const m=l[h].An(this.uid,ah,lt.empty()),g=l[h+1].An(this.uid,ah,lt.empty());u.push(IDBKeyRange.bound(m,g))}return u}Jn(t,n){return qr(t,n)>0}getMinOffsetFromCollectionGroup(t,n){return this.getFieldIndexes(t,n).next(xE)}getMinOffset(t,n){return P.mapArray(this.vn(n),(r=>this.Fn(t,r).next((l=>l||ht(44426))))).next(xE)}}function VE(a){return Le(a,cu)}function Ja(a){return Le(a,$o)}function Bo(a){return Le(a,mg)}function $a(a){return Le(a,Jo)}function xE(a){dt(a.length!==0,28825);let t=a[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<a.length;r++){const l=a[r].indexState.offset;hg(l,t)<0&&(t=l),n<l.largestBatchId&&(n=l.largestBatchId)}return new xn(t.readTime,t.documentKey,n)}const NE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q0=41943040;class tn{static withCacheSize(t){return new tn(t,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function Y0(a,t,n){const r=a.store(li),l=a.store(fl),u=[],h=IDBKeyRange.only(n.batchId);let m=0;const g=r.ee({range:h},((T,S,R)=>(m++,R.delete())));u.push(g.next((()=>{dt(m===1,47070,{batchId:n.batchId})})));const y=[];for(const T of n.mutations){const S=jT(t,T.key.path,n.batchId);u.push(l.delete(S)),y.push(T.key)}return P.waitFor(u).next((()=>y))}function Lh(a){if(!a)return 0;let t;if(a.document)t=a.document;else if(a.unknownDocument)t=a.unknownDocument;else{if(!a.noDocument)throw ht(14731);t=a.noDocument}return JSON.stringify(t).length}tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Q0,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);class sf{constructor(t,n,r,l){this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=l,this.Zn={}}static wt(t,n,r,l){dt(t.uid!=="",64387);const u=t.isAuthenticated()?t.uid:"";return new sf(u,n,r,l)}checkEmpty(t){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fr(t).ee({index:Gs,range:r},((l,u,h)=>{n=!1,h.done()})).next((()=>n))}addMutationBatch(t,n,r,l){const u=al(t),h=Fr(t);return h.add({}).next((m=>{dt(typeof m=="number",49019);const g=new Ag(m,n,r,l),y=(function(q,$,W){const et=W.baseMutations.map((gt=>zh(q.yt,gt))),pt=W.mutations.map((gt=>zh(q.yt,gt)));return{userId:$,batchId:W.batchId,localWriteTimeMs:W.localWriteTime.toMillis(),baseMutations:et,mutations:pt}})(this.serializer,this.userId,g),T=[];let S=new Wt(((R,q)=>At(R.canonicalString(),q.canonicalString())));for(const R of l){const q=jT(this.userId,R.key.path,m);S=S.add(R.key.path.popLast()),T.push(h.put(y)),T.push(u.put(q,II))}return S.forEach((R=>{T.push(this.indexManager.addToCollectionParentIndex(t,R))})),t.addOnCommittedListener((()=>{this.Zn[m]=g.keys()})),P.waitFor(T).next((()=>g))}))}lookupMutationBatch(t,n){return Fr(t).get(n).next((r=>r?(dt(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),qs(this.serializer,r)):null))}Xn(t,n){return this.Zn[n]?P.resolve(this.Zn[n]):this.lookupMutationBatch(t,n).next((r=>{if(r){const l=r.keys();return this.Zn[n]=l,l}return null}))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Fr(t).ee({index:Gs,range:l},((h,m,g)=>{m.userId===this.userId&&(dt(m.batchId>=r,47524,{Yn:r}),u=qs(this.serializer,m)),g.done()})).next((()=>u))}getHighestUnacknowledgedBatchId(t){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ks;return Fr(t).ee({index:Gs,range:n,reverse:!0},((l,u,h)=>{r=u.batchId,h.done()})).next((()=>r))}getAllMutationBatches(t){const n=IDBKeyRange.bound([this.userId,Ks],[this.userId,Number.POSITIVE_INFINITY]);return Fr(t).H(Gs,n).next((r=>r.map((l=>qs(this.serializer,l)))))}getAllMutationBatchesAffectingDocumentKey(t,n){const r=fh(this.userId,n.path),l=IDBKeyRange.lowerBound(r),u=[];return al(t).ee({range:l},((h,m,g)=>{const[y,T,S]=h,R=Ni(T);if(y===this.userId&&n.path.isEqual(R))return Fr(t).get(S).next((q=>{if(!q)throw ht(61480,{er:h,batchId:S});dt(q.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:q.userId,batchId:S}),u.push(qs(this.serializer,q))}));g.done()})).next((()=>u))}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Wt(At);const l=[];return n.forEach((u=>{const h=fh(this.userId,u.path),m=IDBKeyRange.lowerBound(h),g=al(t).ee({range:m},((y,T,S)=>{const[R,q,$]=y,W=Ni(q);R===this.userId&&u.path.isEqual(W)?r=r.add($):S.done()}));l.push(g)})),P.waitFor(l).next((()=>this.tr(t,r)))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1,u=fh(this.userId,r),h=IDBKeyRange.lowerBound(u);let m=new Wt(At);return al(t).ee({range:h},((g,y,T)=>{const[S,R,q]=g,$=Ni(R);S===this.userId&&r.isPrefixOf($)?$.length===l&&(m=m.add(q)):T.done()})).next((()=>this.tr(t,m)))}tr(t,n){const r=[],l=[];return n.forEach((u=>{l.push(Fr(t).get(u).next((h=>{if(h===null)throw ht(35274,{batchId:u});dt(h.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:h.userId,batchId:u}),r.push(qs(this.serializer,h))})))})),P.waitFor(l).next((()=>r))}removeMutationBatch(t,n){return Y0(t.le,this.userId,n).next((r=>(t.addOnCommittedListener((()=>{this.nr(n.batchId)})),P.forEach(r,(l=>this.referenceDelegate.markPotentiallyOrphaned(t,l))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((n=>{if(!n)return P.resolve();const r=IDBKeyRange.lowerBound((function(h){return[h]})(this.userId)),l=[];return al(t).ee({range:r},((u,h,m)=>{if(u[0]===this.userId){const g=Ni(u[1]);l.push(g)}else m.done()})).next((()=>{dt(l.length===0,56720,{rr:l.map((u=>u.canonicalString()))})}))}))}containsKey(t,n){return X0(t,this.userId,n)}ir(t){return Z0(t).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Ks,lastStreamToken:""}))}}function X0(a,t,n){const r=fh(t,n.path),l=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return al(a).ee({range:u,Y:!0},((m,g,y)=>{const[T,S,R]=m;T===t&&S===l&&(h=!0),y.done()})).next((()=>h))}function Fr(a){return Le(a,li)}function al(a){return Le(a,fl)}function Z0(a){return Le(a,ou)}class ea{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ea(0)}static ar(){return new ea(-1)}}class e2{constructor(t,n){this.referenceDelegate=t,this.serializer=n}allocateTargetId(t){return this.ur(t).next((n=>{const r=new ea(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(t,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((n=>_t.fromTimestamp(new Jt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(t,n,r){return this.ur(t).next((l=>(l.highestListenSequenceNumber=n,r&&(l.lastRemoteSnapshotVersion=r.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.cr(t,l))))}addTargetData(t,n){return this.lr(t,n).next((()=>this.ur(t).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(t,r))))))}updateTargetData(t,n){return this.lr(t,n)}removeTargetData(t,n){return this.removeMatchingKeysForTargetId(t,n.targetId).next((()=>Wa(t).delete(n.targetId))).next((()=>this.ur(t))).next((r=>(dt(r.targetCount>0,8065),r.targetCount-=1,this.cr(t,r))))}removeTargets(t,n,r){let l=0;const u=[];return Wa(t).ee(((h,m)=>{const g=Ko(m);g.sequenceNumber<=n&&r.get(g.targetId)===null&&(l++,u.push(this.removeTargetData(t,g)))})).next((()=>P.waitFor(u))).next((()=>l))}forEachTarget(t,n){return Wa(t).ee(((r,l)=>{const u=Ko(l);n(u)}))}ur(t){return ME(t).get(Vh).next((n=>(dt(n!==null,2888),n)))}cr(t,n){return ME(t).put(Vh,n)}lr(t,n){return Wa(t).put(F0(this.serializer,n))}hr(t,n){let r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.ur(t).next((n=>n.targetCount))}getTargetData(t,n){const r=$s(n),l=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Wa(t).ee({range:l,index:qT},((h,m,g)=>{const y=Ko(m);Tu(n,y.target)&&(u=y,g.done())})).next((()=>u))}addMatchingKeys(t,n,r){const l=[],u=Kr(t);return n.forEach((h=>{const m=nn(h.path);l.push(u.put({targetId:r,path:m})),l.push(this.referenceDelegate.addReference(t,r,h))})),P.waitFor(l)}removeMatchingKeys(t,n,r){const l=Kr(t);return P.forEach(n,(u=>{const h=nn(u.path);return P.waitFor([l.delete([r,h]),this.referenceDelegate.removeReference(t,r,u)])}))}removeMatchingKeysForTargetId(t,n){const r=Kr(t),l=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(l)}getMatchingKeysForTargetId(t,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),l=Kr(t);let u=xt();return l.ee({range:r,Y:!0},((h,m,g)=>{const y=Ni(h[1]),T=new lt(y);u=u.add(T)})).next((()=>u))}containsKey(t,n){const r=nn(n.path),l=IDBKeyRange.bound([r],[MT(r)],!1,!0);let u=0;return Kr(t).ee({index:dg,Y:!0,range:l},(([h,m],g,y)=>{h!==0&&(u++,y.done())})).next((()=>u>0))}At(t,n){return Wa(t).get(n).next((r=>r?Ko(r):null))}}function Wa(a){return Le(a,dl)}function ME(a){return Le(a,Qs)}function Kr(a){return Le(a,ml)}const OE="LruGarbageCollector",n2=1048576;function zE([a,t],[n,r]){const l=At(a,n);return l===0?At(t,r):l}class i2{constructor(t){this.Pr=t,this.buffer=new Wt(zE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class J0{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){tt(OE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ss(n)?tt(OE,"Ignoring IndexedDB error during garbage collection: ",n):await ra(n)}await this.Ar(3e5)}))}}class r2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return P.resolve(Kn.ce);const r=new i2(n);return this.Vr.forEachTarget(t,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(NE)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let r,l,u,h,m,g,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,h=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,m=Date.now(),this.removeTargets(t,r,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),nl()<=jt.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${l} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:S}))))}}function $0(a,t){return new r2(a,t)}class s2{constructor(t,n){this.db=t,this.garbageCollector=$0(this,n)}dr(t){const n=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}forEachTarget(t,n){return this.db.getTargetCache().forEachTarget(t,n)}mr(t,n){return this.yr(t,((r,l)=>n(l)))}addReference(t,n,r){return lh(t,r)}removeReference(t,n,r){return lh(t,r)}removeTargets(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)}markPotentiallyOrphaned(t,n){return lh(t,n)}wr(t,n){return(function(l,u){let h=!1;return Z0(l).te((m=>X0(l,m,u).next((g=>(g&&(h=!0),P.resolve(!g)))))).next((()=>h))})(t,n)}removeOrphanedDocuments(t,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.yr(t,((h,m)=>{if(m<=n){const g=this.wr(t,h).next((y=>{if(!y)return u++,r.getEntry(t,h).next((()=>(r.removeEntry(h,_t.min()),Kr(t).delete((function(S){return[0,nn(S.path)]})(h)))))}));l.push(g)}})).next((()=>P.waitFor(l))).next((()=>r.apply(t))).next((()=>u))}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,n){return lh(t,n)}yr(t,n){const r=Kr(t);let l,u=Kn.ce;return r.ee({index:dg},(([h,m],{path:g,sequenceNumber:y})=>{h===0?(u!==Kn.ce&&n(new lt(Ni(l)),u),u=y,l=g):u=Kn.ce})).next((()=>{u!==Kn.ce&&n(new lt(Ni(l)),u)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function lh(a,t){return Kr(a).put((function(r,l){return{targetId:0,path:nn(r.path),sequenceNumber:l}})(t,a.currentSequenceNumber))}class W0{constructor(){this.changes=new lr((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ge.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class a2{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,n,r){return Us(t).put(r)}removeEntry(t,n,r){return Us(t).delete((function(u,h){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Ph(h),m[m.length-1]]})(n,r))}updateMetadata(t,n){return this.getMetadata(t).next((r=>(r.byteSize+=n,this.br(t,r))))}getEntry(t,n){let r=ge.newInvalidDocument(n);return Us(t).ee({index:dh,range:IDBKeyRange.only(jo(n))},((l,u)=>{r=this.Sr(n,u)})).next((()=>r))}Dr(t,n){let r={size:0,document:ge.newInvalidDocument(n)};return Us(t).ee({index:dh,range:IDBKeyRange.only(jo(n))},((l,u)=>{r={document:this.Sr(n,u),size:Lh(u)}})).next((()=>r))}getEntries(t,n){let r=Vn();return this.Cr(t,n,((l,u)=>{const h=this.Sr(l,u);r=r.insert(l,h)})).next((()=>r))}vr(t,n){let r=Vn(),l=new he(lt.comparator);return this.Cr(t,n,((u,h)=>{const m=this.Sr(u,h);r=r.insert(u,m),l=l.insert(u,Lh(h))})).next((()=>({documents:r,Fr:l})))}Cr(t,n,r){if(n.isEmpty())return P.resolve();let l=new Wt(LE);n.forEach((g=>l=l.add(g)));const u=IDBKeyRange.bound(jo(l.first()),jo(l.last())),h=l.getIterator();let m=h.getNext();return Us(t).ee({index:dh,range:u},((g,y,T)=>{const S=lt.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;m&&LE(m,S)<0;)r(m,null),m=h.getNext();m&&m.isEqual(S)&&(r(m,y),m=h.hasNext()?h.getNext():null),m?T.j(jo(m)):T.done()})).next((()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null}))}getDocumentsMatchingQuery(t,n,r,l,u){const h=n.path,m=[h.popLast().toArray(),h.lastSegment(),Ph(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[h.popLast().toArray(),h.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Us(t).H(IDBKeyRange.bound(m,g,!0)).next((y=>{u?.incrementDocumentReadCount(y.length);let T=Vn();for(const S of y){const R=this.Sr(lt.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);R.isFoundDocument()&&(Au(n,R)||l.has(R.key))&&(T=T.insert(R.key,R))}return T}))}getAllFromCollectionGroup(t,n,r,l){let u=Vn();const h=UE(n,r),m=UE(n,xn.max());return Us(t).ee({index:kT,range:IDBKeyRange.bound(h,m,!0)},((g,y,T)=>{const S=this.Sr(lt.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);u=u.insert(S.key,S),u.size===l&&T.done()})).next((()=>u))}newChangeBuffer(t){return new l2(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((n=>n.byteSize))}getMetadata(t){return PE(t).get(Um).next((n=>(dt(!!n,20021),n)))}br(t,n){return PE(t).put(Um,n)}Sr(t,n){if(n){const r=GR(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(_t.min())))return r}return ge.newInvalidDocument(t)}}function tA(a){return new a2(a)}class l2 extends W0{constructor(t,n){super(),this.Mr=t,this.trackRemovals=n,this.Or=new lr((r=>r.toString()),((r,l)=>r.isEqual(l)))}applyChanges(t){const n=[];let r=0,l=new Wt(((u,h)=>At(u.canonicalString(),h.canonicalString())));return this.changes.forEach(((u,h)=>{const m=this.Or.get(u);if(n.push(this.Mr.removeEntry(t,u,m.readTime)),h.isValidDocument()){const g=vE(this.Mr.serializer,h);l=l.add(u.path.popLast());const y=Lh(g);r+=y-m.size,n.push(this.Mr.addEntry(t,u,g))}else if(r-=m.size,this.trackRemovals){const g=vE(this.Mr.serializer,h.convertToNoDocument(_t.min()));n.push(this.Mr.addEntry(t,u,g))}})),l.forEach((u=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(t,u))})),n.push(this.Mr.updateMetadata(t,r)),P.waitFor(n)}getFromCache(t,n){return this.Mr.Dr(t,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(t,n){return this.Mr.vr(t,n).next((({documents:r,Fr:l})=>(l.forEach(((u,h)=>{this.Or.set(u,{size:h,readTime:r.get(u).readTime})})),r)))}}function PE(a){return Le(a,uu)}function Us(a){return Le(a,Ch)}function jo(a){const t=a.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function UE(a,t){const n=t.documentKey.path.toArray();return[a,Ph(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function LE(a,t){const n=a.path.toArray(),r=t.path.toArray();let l=0;for(let u=0;u<n.length-2&&u<r.length-2;++u)if(l=At(n[u],r[u]),l)return l;return l=At(n.length,r.length),l||(l=At(n[n.length-2],r[r.length-2]),l||At(n[n.length-1],r[r.length-1]))}class o2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class eA{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&nu(r.mutation,l,_n.empty(),Jt.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,xt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=xt()){const l=Mi();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((u=>{let h=Ho();return u.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const r=Mi();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,xt())))}populateOverlays(t,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,r,l){let u=Vn();const h=eu(),m=(function(){return eu()})();return n.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof or)?u=u.insert(y.key,y):T!==void 0?(h.set(y.key,T.mutation.getFieldMask()),nu(T.mutation,y,T.mutation.getFieldMask(),Jt.now())):h.set(y.key,_n.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,T)=>h.set(y,T))),n.forEach(((y,T)=>m.set(y,new o2(T,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const r=eu();let l=new he(((h,m)=>h-m)),u=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||_n.empty();T=m.applyToLocalView(y,T),r.set(g,T);const S=(l.get(m.batchId)||xt()).add(g);l=l.insert(m.batchId,S)}))})).next((()=>{const h=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,S=_0();T.forEach((R=>{if(!u.has(R)){const q=b0(n.get(R),r.get(R));q!==null&&S.set(R,q),u=u.add(R)}})),h.push(this.documentOverlayCache.saveOverlays(t,y,S))}return P.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return uR(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):d0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((u=>{const h=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-u.size):P.resolve(Mi());let m=su,g=u;return h.next((y=>P.forEach(y,((T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(T)?P.resolve():this.remoteDocumentCache.getEntry(t,T).next((R=>{g=g.insert(T,R)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,xt()))).next((T=>({batchId:m,changes:y0(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new lt(n)).next((r=>{let l=Ho();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const u=n.collectionGroup;let h=Ho();return this.indexManager.getCollectionParents(t,u).next((m=>P.forEach(m,(g=>{const y=(function(S,R){return new wl(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((T=>{T.forEach(((S,R)=>{h=h.insert(S,R)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,l)))).next((h=>{u.forEach(((g,y)=>{const T=y.getKey();h.get(T)===null&&(h=h.insert(T,ge.newInvalidDocument(T)))}));let m=Ho();return h.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&nu(T.mutation,y,_n.empty(),Jt.now()),Au(n,y)&&(m=m.insert(g,y))})),m}))}}class u2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return P.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:un(l.createTime)}})(n)),P.resolve()}getNamedQuery(t,n){return P.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:H0(l.bundledQuery),readTime:un(l.readTime)}})(n)),P.resolve()}}class c2{constructor(){this.overlays=new he(lt.comparator),this.Lr=new Map}getOverlay(t,n){return P.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Mi();return P.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,u)=>{this.bt(t,n,u)})),P.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),P.resolve()}getOverlaysForCollection(t,n,r){const l=Mi(),u=n.length+1,h=new lt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&l.set(g.getKey(),g)}return P.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let u=new he(((y,T)=>y-T));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=u.get(y.largestBatchId);T===null&&(T=Mi(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Mi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=l)););return P.resolve(m)}bt(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const h=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new bg(n,r));let u=this.Lr.get(n);u===void 0&&(u=xt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class h2{constructor(){this.sessionToken=Oe.EMPTY_BYTE_STRING}getSessionToken(t){return P.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,P.resolve()}}class Cg{constructor(){this.kr=new Wt(qe.Kr),this.qr=new Wt(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const r=new qe(t,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new qe(t,n))}Qr(t,n){t.forEach((r=>this.removeReference(r,n)))}Gr(t){const n=new lt(new Kt([])),r=new qe(n,t),l=new qe(n,t+1),u=[];return this.qr.forEachInRange([r,l],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new lt(new Kt([])),r=new qe(n,t),l=new qe(n,t+1);let u=xt();return this.qr.forEachInRange([r,l],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new qe(t,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return lt.comparator(t.key,n.key)||At(t.Hr,n.Hr)}static Ur(t,n){return At(t.Hr,n.Hr)||lt.comparator(t.key,n.key)}}class f2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Wt(qe.Kr)}checkEmpty(t){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ag(u,n,r,l);this.mutationQueue.push(h);for(const m of l)this.Jr=this.Jr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return P.resolve(h)}lookupMutationBatch(t,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return P.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Ks:this.Yn-1)}getAllMutationBatches(t){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new qe(n,0),l=new qe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(h=>{const m=this.Zr(h.Hr);u.push(m)})),P.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Wt(At);return n.forEach((l=>{const u=new qe(l,0),h=new qe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{r=r.add(m.Hr)}))})),P.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let u=r;lt.isDocumentKey(u)||(u=u.child(""));const h=new qe(new lt(u),0);let m=new Wt(At);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Hr)),!0)}),h),P.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){dt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return P.forEach(n.mutations,(l=>{const u=new qe(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=r}))}nr(t){}containsKey(t,n){const r=new qe(n,0),l=this.Jr.firstAfterOrEqual(r);return P.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,P.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class d2{constructor(t){this.ti=t,this.docs=(function(){return new he(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,h=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():ge.newInvalidDocument(n))}getEntries(t,n){let r=Vn();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():ge.newInvalidDocument(l))})),P.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let u=Vn();const h=n.path,m=new lt(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||hg(PT(T),r)<=0||(l.has(T.key)||Au(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return P.resolve(u)}getAllFromCollectionGroup(t,n,r,l){ht(9500)}ni(t,n){return P.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new m2(this)}getSize(t){return P.resolve(this.size)}}class m2 extends W0{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(r)})),P.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class g2{constructor(t){this.persistence=t,this.ri=new lr((n=>$s(n)),Tu),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.ii=0,this.si=new Cg,this.targetCount=0,this.oi=ea._r()}forEachTarget(t,n){return this.ri.forEach(((r,l)=>n(l))),P.resolve()}getLastRemoteSnapshotVersion(t){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return P.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),P.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ea(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,P.resolve()}updateTargetData(t,n){return this.lr(n),P.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(t,n,r){let l=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)})),P.waitFor(u).next((()=>l))}getTargetCount(t){return P.resolve(this.targetCount)}getTargetData(t,n){const r=this.ri.get(n)||null;return P.resolve(r)}addMatchingKeys(t,n,r){return this.si.$r(n,r),P.resolve()}removeMatchingKeys(t,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((h=>{u.push(l.markPotentiallyOrphaned(t,h))})),P.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),P.resolve()}getMatchingKeysForTargetId(t,n){const r=this.si.jr(n);return P.resolve(r)}containsKey(t,n){return P.resolve(this.si.containsKey(n))}}class Vg{constructor(t,n){this._i={},this.overlays={},this.ai=new Kn(0),this.ui=!1,this.ui=!0,this.ci=new h2,this.referenceDelegate=t(this),this.li=new g2(this),this.indexManager=new WR,this.remoteDocumentCache=(function(l){return new d2(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new q0(n),this.Pi=new u2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new c2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this._i[t.toKey()];return r||(r=new f2(n,this.referenceDelegate),this._i[t.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,r){tt("MemoryPersistence","Starting transaction:",t);const l=new p2(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(t,n){return P.or(Object.values(this._i).map((r=>()=>r.containsKey(t,n))))}}class p2 extends LT{constructor(t){super(),this.currentSequenceNumber=t}}class af{constructor(t){this.persistence=t,this.Ri=new Cg,this.Ai=null}static Vi(t){return new af(t)}get di(){if(this.Ai)return this.Ai;throw ht(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),P.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),P.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),P.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.di,(r=>{const l=lt.fromPath(r);return this.mi(t,l).next((u=>{u||n.removeEntry(l,_t.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return P.or([()=>P.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Bh{constructor(t,n){this.persistence=t,this.fi=new lr((r=>nn(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=$0(this,n)}static Vi(t,n){return new Bh(t,n)}Ti(){}Ii(t){return P.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}pr(t){let n=0;return this.mr(t,(r=>{n++})).next((()=>n))}mr(t,n){return P.forEach(this.fi,((r,l)=>this.wr(t,r,l).next((u=>u?P.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(t,(h=>this.wr(t,h,n).next((m=>{m||(r++,u.removeEntry(h,_t.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),P.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),P.resolve()}removeReference(t,n,r){return this.fi.set(r,t.currentSequenceNumber),P.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),P.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=gh(t.data.value)),n}wr(t,n,r){return P.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return P.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class y2{constructor(t){this.serializer=t}k(t,n,r,l){const u=new Hh("createOrUpgrade",n);r<1&&l>=1&&((function(g){g.createObjectStore(Eu)})(t),(function(g){g.createObjectStore(ou,{keyPath:bI}),g.createObjectStore(li,{keyPath:Xv,autoIncrement:!0}).createIndex(Gs,Zv,{unique:!0}),g.createObjectStore(fl)})(t),BE(t),(function(g){g.createObjectStore(js)})(t));let h=P.resolve();return r<3&&l>=3&&(r!==0&&((function(g){g.deleteObjectStore(ml),g.deleteObjectStore(dl),g.deleteObjectStore(Qs)})(t),BE(t)),h=h.next((()=>(function(g){const y=g.store(Qs),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return y.put(Vh,T)})(u)))),r<4&&l>=4&&(r!==0&&(h=h.next((()=>(function(g,y){return y.store(li).H().next((S=>{g.deleteObjectStore(li),g.createObjectStore(li,{keyPath:Xv,autoIncrement:!0}).createIndex(Gs,Zv,{unique:!0});const R=y.store(li),q=S.map(($=>R.put($)));return P.waitFor(q)}))})(t,u)))),h=h.next((()=>{(function(g){g.createObjectStore(gl,{keyPath:MI})})(t)}))),r<5&&l>=5&&(h=h.next((()=>this.gi(u)))),r<6&&l>=6&&(h=h.next((()=>((function(g){g.createObjectStore(uu)})(t),this.pi(u))))),r<7&&l>=7&&(h=h.next((()=>this.yi(u)))),r<8&&l>=8&&(h=h.next((()=>this.wi(t,u)))),r<9&&l>=9&&(h=h.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(t)}))),r<10&&l>=10&&(h=h.next((()=>this.bi(u)))),r<11&&l>=11&&(h=h.next((()=>{(function(g){g.createObjectStore(Kh,{keyPath:OI})})(t),(function(g){g.createObjectStore(Qh,{keyPath:zI})})(t)}))),r<12&&l>=12&&(h=h.next((()=>{(function(g){const y=g.createObjectStore(Yh,{keyPath:qI});y.createIndex(Bm,FI,{unique:!1}),y.createIndex(GT,HI,{unique:!1})})(t)}))),r<13&&l>=13&&(h=h.next((()=>(function(g){const y=g.createObjectStore(Ch,{keyPath:RI});y.createIndex(dh,wI),y.createIndex(kT,DI)})(t))).next((()=>this.Si(t,u))).next((()=>t.deleteObjectStore(js)))),r<14&&l>=14&&(h=h.next((()=>this.Di(t,u)))),r<15&&l>=15&&(h=h.next((()=>(function(g){g.createObjectStore(mg,{keyPath:PI,autoIncrement:!0}).createIndex(Lm,UI,{unique:!1}),g.createObjectStore(Jo,{keyPath:LI}).createIndex(FT,BI,{unique:!1}),g.createObjectStore($o,{keyPath:jI}).createIndex(HT,kI,{unique:!1})})(t)))),r<16&&l>=16&&(h=h.next((()=>{n.objectStore(Jo).clear()})).next((()=>{n.objectStore($o).clear()}))),r<17&&l>=17&&(h=h.next((()=>{(function(g){g.createObjectStore(gg,{keyPath:GI})})(t)}))),r<18&&l>=18&&pT()&&(h=h.next((()=>{n.objectStore(Jo).clear()})).next((()=>{n.objectStore($o).clear()}))),h}pi(t){let n=0;return t.store(js).ee(((r,l)=>{n+=Lh(l)})).next((()=>{const r={byteSize:n};return t.store(uu).put(Um,r)}))}gi(t){const n=t.store(ou),r=t.store(li);return n.H().next((l=>P.forEach(l,(u=>{const h=IDBKeyRange.bound([u.userId,Ks],[u.userId,u.lastAcknowledgedBatchId]);return r.H(Gs,h).next((m=>P.forEach(m,(g=>{dt(g.userId===u.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const y=qs(this.serializer,g);return Y0(t,u.userId,y).next((()=>{}))}))))}))))}yi(t){const n=t.store(ml),r=t.store(js);return t.store(Qs).get(Vh).next((l=>{const u=[];return r.ee(((h,m)=>{const g=new Kt(h),y=(function(S){return[0,nn(S)]})(g);u.push(n.get(y).next((T=>T?P.resolve():(S=>n.put({targetId:0,path:nn(S),sequenceNumber:l.highestListenSequenceNumber}))(g))))})).next((()=>P.waitFor(u)))}))}wi(t,n){t.createObjectStore(cu,{keyPath:NI});const r=n.store(cu),l=new Dg,u=h=>{if(l.add(h)){const m=h.lastSegment(),g=h.popLast();return r.put({collectionId:m,parent:nn(g)})}};return n.store(js).ee({Y:!0},((h,m)=>{const g=new Kt(h);return u(g.popLast())})).next((()=>n.store(fl).ee({Y:!0},(([h,m,g],y)=>{const T=Ni(m);return u(T.popLast())}))))}bi(t){const n=t.store(dl);return n.ee(((r,l)=>{const u=Ko(l),h=F0(this.serializer,u);return n.put(h)}))}Si(t,n){const r=n.store(js),l=[];return r.ee(((u,h)=>{const m=n.store(Ch),g=(function(S){return S.document?new lt(Kt.fromString(S.document.name).popFirst(5)):S.noDocument?lt.fromSegments(S.noDocument.path):S.unknownDocument?lt.fromSegments(S.unknownDocument.path):ht(36783)})(h).path.toArray(),y={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};l.push(m.put(y))})).next((()=>P.waitFor(l)))}Di(t,n){const r=n.store(li),l=tA(this.serializer),u=new Vg(af.Vi,this.serializer.yt);return r.H().next((h=>{const m=new Map;return h.forEach((g=>{let y=m.get(g.userId)??xt();qs(this.serializer,g).keys().forEach((T=>y=y.add(T))),m.set(g.userId,y)})),P.forEach(m,((g,y)=>{const T=new Ze(y),S=rf.wt(this.serializer,T),R=u.getIndexManager(T),q=sf.wt(T,this.serializer,R,u.referenceDelegate);return new eA(l,q,S,R).recalculateAndSaveOverlaysForDocumentKeys(new jm(n,Kn.ce),g).next()}))}))}}function BE(a){a.createObjectStore(ml,{keyPath:VI}).createIndex(dg,xI,{unique:!0}),a.createObjectStore(dl,{keyPath:"targetId"}).createIndex(qT,CI,{unique:!0}),a.createObjectStore(Qs)}const Hr="IndexedDbPersistence",Tm=18e5,Am=5e3,Sm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_2="main";class xg{constructor(t,n,r,l,u,h,m,g,y,T,S=18){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ci=u,this.window=h,this.document=m,this.Fi=y,this.Mi=T,this.xi=S,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=R=>Promise.resolve(),!xg.v())throw new rt(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new s2(this,l),this.Ki=n+_2,this.serializer=new q0(g),this.qi=new $r(this.Ki,this.xi,new y2(this.serializer)),this.ci=new QR,this.li=new e2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tA(this.serializer),this.Pi=new KR,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,T===!1&&ln(Hr,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rt(Y.FAILED_PRECONDITION,Sm);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new Kn(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async n=>{if(this.started)return t(n)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async n=>{n.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>oh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((n=>this.isPrimary&&!n?this.Ji(t).next((()=>!1)):!!n&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(ss(t))return tt(Hr,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return tt(Hr,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return ko(t).get(Ya).next((n=>P.resolve(this.Xi(n))))}Yi(t){return oh(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,Tm)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Le(n,gl);return r.H().next((l=>{const u=this.ns(l,Tm),h=l.filter((m=>u.indexOf(m)===-1));return P.forEach(h,(m=>r.delete(m.clientId))).next((()=>h))}))})).catch((()=>[]));if(this.Ui)for(const n of t)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?P.resolve(!0):ko(t).get(Ya).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,Am)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new rt(Y.FAILED_PRECONDITION,Sm);return!1}}return!(!this.networkEnabled||!this.inForeground)||oh(t).H().next((r=>this.ns(r,Am).find((l=>{if(this.clientId!==l.clientId){const u=!this.networkEnabled&&l.networkEnabled,h=!this.inForeground&&l.inForeground,m=this.networkEnabled===l.networkEnabled;if(u||h&&m)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&tt(Hr,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Eu,gl],(t=>{const n=new jm(t,Kn.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(t,n){return t.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>oh(t).H().next((n=>this.ns(n,Tm).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,n){return sf.wt(t,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new t2(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return rf.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,n,r){tt(Hr,"Starting transaction:",t);const l=n==="readonly"?"readonly":"readwrite",u=(function(g){return g===18?YI:g===17?XT:g===16?QI:g===15?pg:g===14?YT:g===13?QT:g===12?KI:g===11?KT:void ht(60245)})(this.xi);let h;return this.qi.runTransaction(t,l,u,(m=>(h=new jm(m,this.ai?this.ai.next():Kn.ce),n==="readwrite-primary"?this.ji(h).next((g=>!!g||this.Hi(h))).next((g=>{if(!g)throw ln(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new rt(Y.FAILED_PRECONDITION,UT);return r(h)})).next((g=>this.Zi(h).next((()=>g)))):this.Ps(h).next((()=>r(h)))))).then((m=>(h.raiseOnCommittedEvent(),m)))}Ps(t){return ko(t).get(Ya).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,Am)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new rt(Y.FAILED_PRECONDITION,Sm)}))}Zi(t){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ko(t).put(Ya,n)}static v(){return $r.v()}Ji(t){const n=ko(t);return n.get(Ya).next((r=>this.Xi(r)?(tt(Hr,"Releasing primary lease."),n.delete(Ya)):P.resolve()))}ts(t,n){const r=Date.now();return!(t<r-n)&&(!(t>r)||(ln(`Detected an update time that is in the future: ${t} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;gT()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const n=this.Ui?.getItem(this.rs(t))!==null;return tt(Hr,`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return ln(Hr,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){ln("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function ko(a){return Le(a,Eu)}function oh(a){return Le(a,gl)}function v2(a,t){let n=a.projectId;return a.isDefaultDatabase||(n+="."+a.database),"firestore/"+t+"/"+n+"/"}class Ng{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Ts=r,this.Is=l}static Es(t,n){let r=xt(),l=xt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Ng(t,n.fromCache,r,l)}}class E2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return gT()?8:BT(Sh())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const u={result:null};return this.gs(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(t,n,l,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new E2;return this.ys(t,n,h).next((m=>{if(u.result=m,this.As)return this.ws(t,n,h,m.size)}))})).next((()=>u.result))}ws(t,n,r,l){return r.documentReadCount<this.Vs?(nl()<=jt.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(nl()<=jt.DEBUG&&tt("QueryEngine","Query:",il(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(nl()<=jt.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qn(n))):P.resolve())}gs(t,n){if(uE(n))return P.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Qm(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const h=xt(...u);return this.fs.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,r).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,h,g.readTime)?this.gs(t,Qm(n,null,"F")):this.Ds(t,y,n,g)}))))})))))}ps(t,n,r,l){return uE(n)||l.isEqual(_t.min())?P.resolve(null):this.fs.getDocuments(t,r).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,r,l)?P.resolve(null):(nl()<=jt.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),il(n)),this.Ds(t,h,n,yI(l,su)).next((m=>m)))}))}bs(t,n){let r=new Wt(g0(t));return n.forEach(((l,u)=>{Au(t,u)&&(r=r.add(u))})),r}Ss(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(t,n,r){return nl()<=jt.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",il(n)),this.fs.getDocumentsMatchingQuery(t,n,xn.min(),r)}Ds(t,n,r,l){return this.fs.getDocumentsMatchingQuery(t,r,l).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Mg="LocalStore",T2=3e8;class A2{constructor(t,n,r,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new he(At),this.Fs=new lr((u=>$s(u)),Tu),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(r)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function iA(a,t,n,r){return new A2(a,t,n,r)}async function rA(a,t){const n=St(a);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let g=xt();for(const y of l){h.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function S2(a,t){const n=St(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,T){const S=y.batch,R=S.keys();let q=P.resolve();return R.forEach(($=>{q=q.next((()=>T.getEntry(g,$))).next((W=>{const et=y.docVersions.get($);dt(et!==null,48541),W.version.compareTo(et)<0&&(S.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))}))})),q.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=xt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function sA(a){const t=St(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function b2(a,t){const n=St(a),r=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const m=[];t.targetChanges.forEach(((T,S)=>{const R=l.get(S);if(!R)return;m.push(n.li.removeMatchingKeys(u,T.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,T.addedDocuments,S))));let q=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?q=q.withResumeToken(Oe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,r)),l=l.insert(S,q),(function(W,et,pt){return W.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=T2?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(R,q,T)&&m.push(n.li.updateTargetData(u,q))}));let g=Vn(),y=xt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(I2(u,h,t.documentUpdates).next((T=>{g=T.Bs,y=T.Ls}))),!r.isEqual(_t.min())){const T=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(T)}return P.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=l,u)))}function I2(a,t,n){let r=xt(),l=xt();return n.forEach((u=>r=r.add(u))),t.getEntries(a,r).next((u=>{let h=Vn();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(_t.min())?(t.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),h=h.insert(m,g)):tt(Mg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:h,Ls:l}}))}function R2(a,t){const n=St(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Ks),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function w2(a,t){const n=St(a);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,t).next((u=>u?(l=u,P.resolve(l)):n.li.allocateTargetId(r).next((h=>(l=new nr(t,h,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(t,r.targetId)),r}))}async function eg(a,t,n){const r=St(a),l=r.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,l)))}catch(h){if(!ss(h))throw h;tt(Mg,`Failed to update sequence numbers for target ${t}: ${h}`)}r.vs=r.vs.remove(t),r.Fs.delete(l.target)}function jE(a,t,n){const r=St(a);let l=_t.min(),u=xt();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,T){const S=St(g),R=S.Fs.get(T);return R!==void 0?P.resolve(S.vs.get(R)):S.li.getTargetData(y,T)})(r,h,Qn(t)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(h,m.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(h,t,n?l:_t.min(),n?u:xt()))).next((m=>(D2(r,fR(t),m),{documents:m,ks:u})))))}function D2(a,t,n){let r=a.Ms.get(t)||_t.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),a.Ms.set(t,r)}class kE{constructor(){this.activeTargetIds=_R()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class aA{constructor(){this.vo=new kE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,r){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new kE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class C2{Mo(t){}shutdown(){}}const qE="ConnectivityMonitor";class FE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){tt(qE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){tt(qE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uh=null;function ng(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}const bm="RestConnection",V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class x2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===xh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(t,n,r,l,u){const h=ng(),m=this.Qo(t,n.toUriEncodedString());tt(bm,`Sending RPC '${t}' ${h}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,u);const{host:y}=new URL(m),T=lg(y);return this.zo(t,m,g,r,T).then((S=>(tt(bm,`Received RPC '${t}' ${h}: `,S),S)),(S=>{throw ts(bm,`RPC '${t}' ${h} failed with error: `,S,"url: ",m,"request:",r),S}))}jo(t,n,r,l,u,h){return this.Wo(t,n,r,l,u)}Go(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),r&&r.headers.forEach(((l,u)=>t[u]=l))}Qo(t,n){const r=V2[t];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class N2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const We="WebChannelConnection",qo=(a,t,n)=>{a.listen(t,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ol extends x2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ol.c_){const t=CT();qo(t,DT.STAT_EVENT,(n=>{n.stat===Om.PROXY?tt(We,"STAT_EVENT: detected buffering proxy"):n.stat===Om.NOPROXY&&tt(We,"STAT_EVENT: detected no buffering proxy")})),ol.c_=!0}}zo(t,n,r,l,u){const h=ng();return new Promise(((m,g)=>{const y=new RT;y.setWithCredentials(!0),y.listenOnce(wT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ch.NO_ERROR:const S=y.getResponseJson();tt(We,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(S)),m(S);break;case ch.TIMEOUT:tt(We,`RPC '${t}' ${h} timed out`),g(new rt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const R=y.getStatus();if(tt(We,`RPC '${t}' ${h} failed with status:`,R,"response text:",y.getResponseText()),R>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const $=q?.error;if($&&$.status&&$.message){const W=(function(pt){const gt=pt.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(gt)>=0?gt:Y.UNKNOWN})($.status);g(new rt(W,$.message))}else g(new rt(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new rt(Y.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:t,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{tt(We,`RPC '${t}' ${h} completed.`)}}));const T=JSON.stringify(l);tt(We,`RPC '${t}' ${h} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(t,n,r){const l=ng(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=u.join("");tt(We,`Creating RPC '${t}' stream ${l}: ${y}`,m);const T=h.createWebChannel(y,m);this.I_(T);let S=!1,R=!1;const q=new N2({Ho:$=>{R?tt(We,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(S||(tt(We,`Opening RPC '${t}' stream ${l} transport.`),T.open(),S=!0),tt(We,`RPC '${t}' stream ${l} sending:`,$),T.send($))},Jo:()=>T.close()});return qo(T,Fo.EventType.OPEN,(()=>{R||(tt(We,`RPC '${t}' stream ${l} transport opened.`),q.i_())})),qo(T,Fo.EventType.CLOSE,(()=>{R||(R=!0,tt(We,`RPC '${t}' stream ${l} transport closed`),q.o_(),this.E_(T))})),qo(T,Fo.EventType.ERROR,($=>{R||(R=!0,ts(We,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),q.o_(new rt(Y.UNAVAILABLE,"The operation could not be completed")))})),qo(T,Fo.EventType.MESSAGE,($=>{if(!R){const W=$.data[0];dt(!!W,16349);const et=W,pt=et?.error||et[0]?.error;if(pt){tt(We,`RPC '${t}' stream ${l} received error:`,pt);const gt=pt.status;let ot=(function(ct){const I=xe[ct];if(I!==void 0)return w0(I)})(gt),bt=pt.message;gt==="NOT_FOUND"&&bt.includes("database")&&bt.includes("does not exist")&&bt.includes(this.databaseId.database)&&ts(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ot===void 0&&(ot=Y.INTERNAL,bt="Unknown error status: "+gt+" with message "+pt.message),R=!0,q.o_(new rt(ot,bt)),T.close()}else tt(We,`RPC '${t}' stream ${l} received:`,W),q.__(W)}})),ol.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,r){super.Go(t,n,r),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return VT()}}function M2(a){return new ol(a)}function O2(){return typeof window<"u"?window:null}function Eh(){return typeof document<"u"?document:null}function lf(a){return new zR(a,!0)}ol.c_=!1;class lA{constructor(t,n,r=1e3,l=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&tt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const HE="PersistentStream";class oA{constructor(t,n,r,l,u,h,m,g){this.Ci=t,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ln(n.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new rt(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return tt(HE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(tt(HE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class z2 extends oA{constructor(t,n,r,l,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,h),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=LR(this.serializer,t),r=(function(u){if(!("targetChange"in u))return _t.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?_t.min():h.readTime?un(h.readTime):_t.min()})(t);return this.listener.J_(n,r)}Z_(t){const n={};n.database=Zm(this.serializer),n.addTarget=(function(u,h){let m;const g=h.target;if(m=Nh(g)?{documents:z0(u,g)}:{query:P0(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=V0(u,h.resumeToken);const y=Ym(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(_t.min())>0){m.readTime=Al(u,h.snapshotVersion.toTimestamp());const y=Ym(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const r=jR(this.serializer,t);r&&(n.labels=r),this.K_(n)}X_(t){const n={};n.database=Zm(this.serializer),n.removeTarget=t,this.K_(n)}}class P2 extends oA{constructor(t,n,r,l,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return dt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,dt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){dt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=BR(t.writeResults,t.commitTime),r=un(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=Zm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>zh(this.serializer,r)))};this.K_(n)}}class U2{}class L2 extends U2{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(t,Xm(n,r),l,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(Y.UNKNOWN,u.toString())}))}jo(t,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(t,Xm(n,r),l,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(Y.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function B2(a,t,n,r){return new L2(a,t,n,r)}class j2{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ln(n),this.aa=!1):tt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class k2{constructor(t,n,r,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{r.enqueueAndForget((async()=>{sa(this)&&(tt(na,"Restarting streams for network reachability change."),await(async function(g){const y=St(g);y.Ea.add(4),await bu(y),y.Va.set("Unknown"),y.Ea.delete(4),await of(y)})(this))}))})),this.Va=new j2(r,l)}}async function of(a){if(sa(a))for(const t of a.Ra)await t(!0)}async function bu(a){for(const t of a.Ra)await t(!1)}function uA(a,t){const n=St(a);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Ug(n)?Pg(n):Cl(n).O_()&&zg(n,t))}function Og(a,t){const n=St(a),r=Cl(n);n.Ia.delete(t),r.O_()&&cA(n,t),n.Ia.size===0&&(r.O_()?r.L_():sa(n)&&n.Va.set("Unknown"))}function zg(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Cl(a).Z_(t)}function cA(a,t){a.da.$e(t),Cl(a).X_(t)}function Pg(a){a.da=new xR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),Cl(a).start(),a.Va.ua()}function Ug(a){return sa(a)&&!Cl(a).x_()&&a.Ia.size>0}function sa(a){return St(a).Ea.size===0}function hA(a){a.da=void 0}async function q2(a){a.Va.set("Online")}async function F2(a){a.Ia.forEach(((t,n)=>{zg(a,t)}))}async function H2(a,t){hA(a),Ug(a)?(a.Va.ha(t),Pg(a)):a.Va.set("Unknown")}async function G2(a,t,n){if(a.Va.set("Online"),t instanceof C0&&t.state===2&&t.cause)try{await(async function(l,u){const h=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,h),l.Ia.delete(m),l.da.removeTarget(m))})(a,t)}catch(r){tt(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await jh(a,r)}else if(t instanceof _h?a.da.Xe(t):t instanceof D0?a.da.st(t):a.da.tt(t),!n.isEqual(_t.min()))try{const r=await sA(a.localStore);n.compareTo(r)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Oe.EMPTY_BYTE_STRING,T.snapshotVersion)),cA(u,g);const S=new nr(T.target,g,y,T.sequenceNumber);zg(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(a,n)}catch(r){tt(na,"Failed to raise snapshot:",r),await jh(a,r)}}async function jh(a,t,n){if(!ss(t))throw t;a.Ea.add(1),await bu(a),a.Va.set("Offline"),n||(n=()=>sA(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{tt(na,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await of(a)}))}function fA(a,t){return t().catch((n=>jh(a,n,t)))}async function Iu(a){const t=St(a),n=is(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ks;for(;K2(t);)try{const l=await R2(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,Q2(t,l)}catch(l){await jh(t,l)}dA(t)&&mA(t)}function K2(a){return sa(a)&&a.Ta.length<10}function Q2(a,t){a.Ta.push(t);const n=is(a);n.O_()&&n.Y_&&n.ea(t.mutations)}function dA(a){return sa(a)&&!is(a).x_()&&a.Ta.length>0}function mA(a){is(a).start()}async function Y2(a){is(a).ra()}async function X2(a){const t=is(a);for(const n of a.Ta)t.ea(n.mutations)}async function Z2(a,t,n){const r=a.Ta.shift(),l=Sg.from(r,t,n);await fA(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Iu(a)}async function J2(a,t){t&&is(a).Y_&&await(async function(r,l){if((function(h){return DR(h)&&h!==Y.ABORTED})(l.code)){const u=r.Ta.shift();is(r).B_(),await fA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Iu(r)}})(a,t),dA(a)&&mA(a)}async function GE(a,t){const n=St(a);n.asyncQueue.verifyOperationInProgress(),tt(na,"RemoteStore received new credentials");const r=sa(n);n.Ea.add(3),await bu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await of(n)}async function $2(a,t){const n=St(a);t?(n.Ea.delete(2),await of(n)):t||(n.Ea.add(2),await bu(n),n.Va.set("Unknown"))}function Cl(a){return a.ma||(a.ma=(function(n,r,l){const u=St(n);return u.sa(),new z2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Zo:q2.bind(null,a),Yo:F2.bind(null,a),t_:H2.bind(null,a),J_:G2.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),Ug(a)?Pg(a):a.Va.set("Unknown")):(await a.ma.stop(),hA(a))}))),a.ma}function is(a){return a.fa||(a.fa=(function(n,r,l){const u=St(n);return u.sa(),new P2(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Y2.bind(null,a),t_:J2.bind(null,a),ta:X2.bind(null,a),na:Z2.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await Iu(a)):(await a.fa.stop(),a.Ta.length>0&&(tt(na,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Lg{constructor(t,n,r,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,u){const h=Date.now()+r,m=new Lg(t,n,h,l,u);return m.start(r),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(a,t){if(ln("AsyncQueue",`${t}: ${a}`),ss(a))return new rt(Y.UNAVAILABLE,`${t}: ${a}`);throw a}class ul{static emptySet(t){return new ul(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||lt.comparator(n.key,r.key):(n,r)=>lt.comparator(n.key,r.key),this.keyedMap=Ho(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ul)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ul;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class KE{constructor(){this.ga=new he(lt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):ht(63341,{Vt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class Sl{constructor(t,n,r,l,u,h,m,g,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,l,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Sl(t,n,ul.emptySet(n),h,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class W2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class tw{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=St(n),u=l.queries;l.queries=QE(),u.forEach(((h,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new rt(Y.ABORTED,"Firestore shutting down"))}}function QE(){return new lr((a=>m0(a)),$h)}async function ew(a,t){const n=St(a);let r=3;const l=t.query;let u=n.queries.get(l);u?!u.Sa()&&t.Da()&&(r=2):(u=new W2,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(h){const m=Bg(h,`Initialization of query '${il(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&jg(n)}async function nw(a,t){const n=St(a),r=t.query;let l=3;const u=n.queries.get(r);if(u){const h=u.ba.indexOf(t);h>=0&&(u.ba.splice(h,1),u.ba.length===0?l=t.Da()?0:1:!u.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iw(a,t){const n=St(a);let r=!1;for(const l of t){const u=l.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(l)&&(r=!0);h.wa=l}}r&&jg(n)}function rw(a,t,n){const r=St(a),l=r.queries.get(t);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(t)}function jg(a){a.Ca.forEach((t=>{t.next()}))}var ig,YE;(YE=ig||(ig={})).Ma="default",YE.Cache="cache";class sw{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Sl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ig.Cache}}class gA{constructor(t){this.key=t}}class pA{constructor(t){this.key=t}}class aw{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xt(),this.mutatedKeys=xt(),this.eu=g0(t),this.tu=new ul(this.eu)}get nu(){return this.Za}ru(t,n){const r=n?n.iu:new KE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((T,S)=>{const R=l.get(T),q=Au(this.query,S)?S:null,$=!!R&&this.mutatedKeys.has(R.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let et=!1;R&&q?R.data.isEqual(q.data)?$!==W&&(r.track({type:3,doc:q}),et=!0):this.su(R,q)||(r.track({type:2,doc:q}),et=!0,(g&&this.eu(q,g)>0||y&&this.eu(q,y)<0)&&(m=!0)):!R&&q?(r.track({type:0,doc:q}),et=!0):R&&!q&&(r.track({type:1,doc:R}),et=!0,(g||y)&&(m=!0)),et&&(q?(h=h.add(q),u=W?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:h,iu:r,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((T,S)=>(function(q,$){const W=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Vt:et})}};return W(q)-W($)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const m=n&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,y=g!==this.Xa;return this.Xa=g,h.length!==0||y?{snapshot:new Sl(this.query,t.tu,u,h,t.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return t.forEach((r=>{this.Ya.has(r)||n.push(new pA(r))})),this.Ya.forEach((r=>{t.has(r)||n.push(new gA(r))})),n}cu(t){this.Za=t.ks,this.Ya=xt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const kg="SyncEngine";class lw{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class ow{constructor(t){this.key=t,this.hu=!1}}class uw{constructor(t,n,r,l,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new lr((m=>m0(m)),$h),this.Iu=new Map,this.Eu=new Set,this.Ru=new he(lt.comparator),this.Au=new Map,this.Vu=new Cg,this.du={},this.mu=new Map,this.fu=ea.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cw(a,t,n=!0){const r=AA(a);let l;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await yA(r,t,n,!0),l}async function hw(a,t){const n=AA(a);await yA(n,t,!0,!1)}async function yA(a,t,n,r){const l=await w2(a.localStore,Qn(t)),u=l.targetId,h=a.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await fw(a,t,u,h==="current",l.resumeToken)),a.isPrimaryClient&&n&&uA(a.remoteStore,l),m}async function fw(a,t,n,r,l){a.pu=(S,R,q)=>(async function(W,et,pt,gt){let ot=et.view.ru(pt);ot.Ss&&(ot=await jE(W.localStore,et.query,!1).then((({documents:I})=>et.view.ru(I,ot))));const bt=gt&&gt.targetChanges.get(et.targetId),It=gt&&gt.targetMismatches.get(et.targetId)!=null,ct=et.view.applyChanges(ot,W.isPrimaryClient,bt,It);return ZE(W,et.targetId,ct.au),ct.snapshot})(a,S,R,q);const u=await jE(a.localStore,t,!0),h=new aw(t,u.ks),m=h.ru(u.documents),g=Su.createSynthesizedTargetChangeForCurrentChange(n,r&&a.onlineState!=="Offline",l),y=h.applyChanges(m,a.isPrimaryClient,g);ZE(a,n,y.au);const T=new lw(t,n,h);return a.Tu.set(t,T),a.Iu.has(n)?a.Iu.get(n).push(t):a.Iu.set(n,[t]),y.snapshot}async function dw(a,t,n){const r=St(a),l=r.Tu.get(t),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((h=>!$h(h,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await eg(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Og(r.remoteStore,l.targetId),rg(r,l.targetId)})).catch(ra)):(rg(r,l.targetId),await eg(r.localStore,l.targetId,!0))}async function mw(a,t){const n=St(a),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Og(n.remoteStore,r.targetId))}async function gw(a,t,n){const r=SA(a);try{const l=await(function(h,m){const g=St(h),y=Jt.now(),T=m.reduce(((q,$)=>q.add($.key)),xt());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let $=Vn(),W=xt();return g.xs.getEntries(q,T).next((et=>{$=et,$.forEach(((pt,gt)=>{gt.isValidDocument()||(W=W.add(pt))}))})).next((()=>g.localDocuments.getOverlayedDocuments(q,$))).next((et=>{S=et;const pt=[];for(const gt of m){const ot=RR(gt,S.get(gt.key).overlayedDocument);ot!=null&&pt.push(new or(gt.key,ot,s0(ot.value.mapValue),on.exists(!0)))}return g.mutationQueue.addMutationBatch(q,y,pt,m)})).next((et=>{R=et;const pt=et.applyToLocalDocumentSet(S,W);return g.documentOverlayCache.saveOverlays(q,et.batchId,pt)}))})).then((()=>({batchId:R.batchId,changes:y0(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(h,m,g){let y=h.du[h.currentUser.toKey()];y||(y=new he(At)),y=y.insert(m,g),h.du[h.currentUser.toKey()]=y})(r,l.batchId,n),await Ru(r,l.changes),await Iu(r.remoteStore)}catch(l){const u=Bg(l,"Failed to persist write");n.reject(u)}}async function _A(a,t){const n=St(a);try{const r=await b2(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const h=n.Au.get(u);h&&(dt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?h.hu=!0:l.modifiedDocuments.size>0?dt(h.hu,14607):l.removedDocuments.size>0&&(dt(h.hu,42227),h.hu=!1))})),await Ru(n,r,t)}catch(r){await ra(r)}}function XE(a,t,n){const r=St(a);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&l.push(m.snapshot)})),(function(h,m){const g=St(h);g.onlineState=m;let y=!1;g.queries.forEach(((T,S)=>{for(const R of S.ba)R.va(m)&&(y=!0)})),y&&jg(g)})(r.eventManager,t),l.length&&r.Pu.J_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function pw(a,t,n){const r=St(a);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),u=l&&l.key;if(u){let h=new he(lt.comparator);h=h.insert(u,ge.newNoDocument(u,_t.min()));const m=xt().add(u),g=new nf(_t.min(),new Map,new he(At),h,m);await _A(r,g),r.Ru=r.Ru.remove(u),r.Au.delete(t),qg(r)}else await eg(r.localStore,t,!1).then((()=>rg(r,t,n))).catch(ra)}async function yw(a,t){const n=St(a),r=t.batch.batchId;try{const l=await S2(n.localStore,t);EA(n,r,null),vA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ru(n,l)}catch(l){await ra(l)}}async function _w(a,t,n){const r=St(a);try{const l=await(function(h,m){const g=St(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(dt(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);EA(r,t,n),vA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ru(r,l)}catch(l){await ra(l)}}function vA(a,t){(a.mu.get(t)||[]).forEach((n=>{n.resolve()})),a.mu.delete(t)}function EA(a,t,n){const r=St(a);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),r.du[r.currentUser.toKey()]=l}}function rg(a,t,n=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),n&&a.Pu.yu(r,n);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((r=>{a.Vu.containsKey(r)||TA(a,r)}))}function TA(a,t){a.Eu.delete(t.path.canonicalString());const n=a.Ru.get(t);n!==null&&(Og(a.remoteStore,n),a.Ru=a.Ru.remove(t),a.Au.delete(n),qg(a))}function ZE(a,t,n){for(const r of n)r instanceof gA?(a.Vu.addReference(r.key,t),vw(a,r)):r instanceof pA?(tt(kg,"Document no longer in limbo: "+r.key),a.Vu.removeReference(r.key,t),a.Vu.containsKey(r.key)||TA(a,r.key)):ht(19791,{wu:r})}function vw(a,t){const n=t.key,r=n.path.canonicalString();a.Ru.get(n)||a.Eu.has(r)||(tt(kg,"New document in limbo: "+n),a.Eu.add(r),qg(a))}function qg(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const n=new lt(Kt.fromString(t)),r=a.fu.next();a.Au.set(r,new ow(n)),a.Ru=a.Ru.insert(n,r),uA(a.remoteStore,new nr(Qn(Jh(n.path)),r,"TargetPurposeLimboResolution",Kn.ce))}}async function Ru(a,t,n){const r=St(a),l=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{h.push(r.pu(g,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=Ng.Es(g.targetId,y);u.push(T)}})))})),await Promise.all(h),r.Pu.J_(l),await(async function(g,y){const T=St(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>P.forEach(y,(R=>P.forEach(R.Ts,(q=>T.persistence.referenceDelegate.addReference(S,R.targetId,q))).next((()=>P.forEach(R.Is,(q=>T.persistence.referenceDelegate.removeReference(S,R.targetId,q)))))))))}catch(S){if(!ss(S))throw S;tt(Mg,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const q=T.vs.get(R),$=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion($);T.vs=T.vs.insert(R,W)}}})(r.localStore,u))}async function Ew(a,t){const n=St(a);if(!n.currentUser.isEqual(t)){tt(kg,"User change. New user:",t.toKey());const r=await rA(n.localStore,t);n.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new rt(Y.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ru(n,r.Ns)}}function Tw(a,t){const n=St(a),r=n.Au.get(t);if(r&&r.hu)return xt().add(r.key);{let l=xt();const u=n.Iu.get(t);if(!u)return l;for(const h of u){const m=n.Tu.get(h);l=l.unionWith(m.view.nu)}return l}}function AA(a){const t=St(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=_A.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pw.bind(null,t),t.Pu.J_=iw.bind(null,t.eventManager),t.Pu.yu=rw.bind(null,t.eventManager),t}function SA(a){const t=St(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_w.bind(null,t),t}class _u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=lf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return iA(this.persistence,new nA,t.initialUser,this.serializer)}Cu(t){return new Vg(af.Vi,this.serializer)}Du(t){return new aA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_u.provider={build:()=>new _u};class Aw extends _u{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){dt(this.persistence.referenceDelegate instanceof Bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new J0(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Vg((r=>Bh.Vi(r,n)),this.serializer)}}class Sw extends _u{constructor(t,n,r){super(),this.xu=t,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await SA(this.xu.syncEngine),await Iu(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return iA(this.persistence,new nA,t.initialUser,this.serializer)}Fu(t,n){const r=this.persistence.referenceDelegate.garbageCollector;return new J0(r,t.asyncQueue,n)}Mu(t,n){const r=new TI(n,this.persistence);return new EI(t.asyncQueue,r)}Cu(t){const n=v2(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new xg(this.synchronizeTabs,n,t.clientId,r,t.asyncQueue,O2(),Eh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new aA}}class kh{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ew.bind(null,this.syncEngine),await $2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tw})()}createDatastore(t){const n=lf(t.databaseInfo.databaseId),r=M2(t.databaseInfo);return B2(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,u,h,m){return new k2(r,l,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>XE(this.syncEngine,n,0)),(function(){return FE.v()?new FE:new C2})())}createSyncEngine(t,n){return(function(l,u,h,m,g,y,T){const S=new uw(l,u,h,m,g,y);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=St(n);tt(na,"RemoteStore shutting down."),r.Ea.add(5),await bu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kh.provider={build:()=>new kh};class bw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ln("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const rs="FirestoreClient";class Iw{constructor(t,n,r,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{tt(rs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(tt(rs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Bg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Im(a,t){a.asyncQueue.verifyOperationInProgress(),tt(rs,"Initializing OfflineComponentProvider");const n=a.configuration;await t.initialize(n);let r=n.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await rA(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function JE(a,t){a.asyncQueue.verifyOperationInProgress();const n=await Rw(a);tt(rs,"Initializing OnlineComponentProvider"),await t.initialize(n,a.configuration),a.setCredentialChangeListener((r=>GE(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>GE(t.remoteStore,l))),a._onlineComponents=t}async function Rw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){tt(rs,"Using user provided OfflineComponentProvider");try{await Im(a,a._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ts("Error using user provided cache. Falling back to memory cache: "+n),await Im(a,new _u)}}else tt(rs,"Using default OfflineComponentProvider"),await Im(a,new Aw(void 0));return a._offlineComponents}async function bA(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(tt(rs,"Using user provided OnlineComponentProvider"),await JE(a,a._uninitializedComponentsProvider._online)):(tt(rs,"Using default OnlineComponentProvider"),await JE(a,new kh))),a._onlineComponents}function ww(a){return bA(a).then((t=>t.syncEngine))}async function $E(a){const t=await bA(a),n=t.eventManager;return n.onListen=cw.bind(null,t.syncEngine),n.onUnlisten=dw.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=hw.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=mw.bind(null,t.syncEngine),n}function Dw(a,t,n,r){const l=new bw(r),u=new sw(t,l,n);return a.asyncQueue.enqueueAndForget((async()=>ew(await $E(a),u))),()=>{l.Nu(),a.asyncQueue.enqueueAndForget((async()=>nw(await $E(a),u)))}}function Cw(a,t){const n=new Jr;return a.asyncQueue.enqueueAndForget((async()=>gw(await ww(a),t,n))),n.promise}function IA(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Vw="ComponentProvider",WE=new Map;function xw(a,t,n,r,l){return new ZI(a,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,IA(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const RA="firestore.googleapis.com",tT=!0;class eT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RA,this.ssl=tT}else this.host=t.host,this.ssl=t.ssl??tT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Q0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<n2)throw new rt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uf{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aI;switch(r.type){case"firstParty":return new cI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=WE.get(n);r&&(tt(Vw,"Removing Datastore"),WE.delete(n),r.terminate())})(this),Promise.resolve()}}function Nw(a,t,n,r={}){a=ir(a,uf);const l=lg(t),u=a._getSettings(),h={...u,emulatorOptions:a._getEmulatorOptions()},m=`${t}:${n}`;l&&(PS(`https://${m}`),jS("Firestore",!0)),u.host!==RA&&u.host!==m&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:l,emulatorOptions:r};if(!bh(g,h)&&(a._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Ze.MOCK_USER;else{y=US(r.mockUserToken,a._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new rt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(S)}a._authCredentials=new lI(new NT(y,T))}}class aa{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new aa(this.firestore,t,this._query)}}class Me{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(vu(n,Me._jsonSchema))return new Me(t,r||null,new lt(Kt.fromString(n.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ne("string",Me._jsonSchemaVersion),referencePath:Ne("string")};class Wr extends aa{constructor(t,n,r){super(t,n,Jh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new lt(t))}withConverter(t){return new Wr(this.firestore,t,this._path)}}function tl(a,t,...n){if(a=zi(a),OT("collection","path",t),a instanceof uf){const r=Kt.fromString(t,...n);return Hv(r),new Wr(a,null,r)}{if(!(a instanceof Me||a instanceof Wr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Kt.fromString(t,...n));return Hv(r),new Wr(a.firestore,null,r)}}function Gr(a,t,...n){if(a=zi(a),arguments.length===1&&(t=cg.newId()),OT("doc","path",t),a instanceof uf){const r=Kt.fromString(t,...n);return Fv(r),new Me(a,null,new lt(r))}{if(!(a instanceof Me||a instanceof Wr))throw new rt(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Kt.fromString(t,...n));return Fv(r),new Me(a.firestore,a instanceof Wr?a.converter:null,new lt(r))}}const nT="AsyncQueue";class iT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lA(this,"async_queue_retry"),this._c=()=>{const r=Eh();r&&tt(nT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Eh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ss(t))throw t;tt(nT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ln("INTERNAL UNHANDLED ERROR: ",rT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Lg.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ht(47125,{Pc:rT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function rT(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class ia extends uf{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new iT,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new iT(t),this._firestoreClient=void 0,await t}}}function Mw(a,t){const n=typeof a=="object"?a:Kb(),r=typeof a=="string"?a:xh,l=kb(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=OS("firestore");u&&Nw(l,...u)}return l}function wA(a){if(a._terminated)throw new rt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||DA(a),a._firestoreClient}function DA(a){const t=a._freezeSettings(),n=xw(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new Iw(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(a._componentsProvider))}function Ow(a,t){ts("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=a._freezeSettings();return zw(a,kh.provider,{build:r=>new Sw(r,n.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function zw(a,t,n){if((a=ir(a,ia))._firestoreClient||a._terminated)throw new rt(Y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new rt(Y.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:t,_offline:n},DA(a)}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(Oe.fromBase64String(t))}catch(n){throw new rt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(Oe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vu(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ne("string",Gn._jsonSchemaVersion),bytes:Ne("string")};class Fg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Hg{constructor(t){this._methodName=t}}class Oi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(vu(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Ne("string",Oi._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};class oi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vu(t,oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new oi(t.vectorValues);throw new rt(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Ne("string",oi._jsonSchemaVersion),vectorValues:Ne("object")};const Pw=/^__.*__$/;class Uw{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new or(t,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(t,this.data,n,this.fieldTransforms)}}class CA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new or(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function VA(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{dataSource:a})}}class Gg{constructor(t,n,r,l,u,h){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Gg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(t),r}childContextForFieldPath(t){const n=this.path?.child(t),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return qh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(VA(this.dataSource)&&Pw.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Lw{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||lf(t)}createContext(t,n,r,l=!1){return new Gg({dataSource:t,methodName:n,targetDoc:r,path:fe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kg(a){const t=a._freezeSettings(),n=lf(a._databaseId);return new Lw(a._databaseId,!!t.ignoreUndefinedProperties,n)}function Bw(a,t,n,r,l,u={}){const h=a.createContext(u.merge||u.mergeFields?2:0,t,n,l);Qg("Data must be an object, but it was:",h,r);const m=xA(r,h);let g,y;if(u.merge)g=new _n(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const R=bl(t,S,n);if(!h.contains(R))throw new rt(Y.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);OA(T,R)||T.push(R)}g=new _n(T),y=h.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=h.fieldTransforms;return new Uw(new en(m),g,y)}class cf extends Hg{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof cf}}function jw(a,t,n,r){const l=a.createContext(1,t,n);Qg("Data must be an object, but it was:",l,r);const u=[],h=en.empty();as(r,((g,y)=>{const T=MA(t,g,n);y=zi(y);const S=l.childContextForFieldPath(T);if(y instanceof cf)u.push(T);else{const R=wu(y,S);R!=null&&(u.push(T),h.set(T,R))}}));const m=new _n(u);return new CA(h,m,l.fieldTransforms)}function kw(a,t,n,r,l,u){const h=a.createContext(1,t,n),m=[bl(t,r,n)],g=[l];if(u.length%2!=0)throw new rt(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(bl(t,u[R])),g.push(u[R+1]);const y=[],T=en.empty();for(let R=m.length-1;R>=0;--R)if(!OA(y,m[R])){const q=m[R];let $=g[R];$=zi($);const W=h.childContextForFieldPath(q);if($ instanceof cf)y.push(q);else{const et=wu($,W);et!=null&&(y.push(q),T.set(q,et))}}const S=new _n(y);return new CA(T,S,h.fieldTransforms)}function qw(a,t,n,r=!1){return wu(n,a.createContext(r?4:3,t))}function wu(a,t){if(NA(a=zi(a)))return Qg("Unsupported field value:",t,a),xA(a,t);if(a instanceof Hg)return(function(r,l){if(!VA(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(r,l){const u=[];let h=0;for(const m of r){let g=wu(m,l.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(a,t)}return(function(r,l){if((r=zi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Jt.fromDate(r);return{timestampValue:Al(l.serializer,u)}}if(r instanceof Jt){const u=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Al(l.serializer,u)}}if(r instanceof Oi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:V0(l.serializer,r._byteString)};if(r instanceof Me){const u=l.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw l.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof oi)return(function(h,m){const g=h instanceof oi?h.toArray():h;return{mapValue:{fields:{[_g]:{stringValue:vg},[pl]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return Tg(m.serializer,T)}))}}}}}})(r,l);if(k0(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Fh(r)}`)})(a,t)}function xA(a,t){const n={};return ZT(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):as(a,((r,l)=>{const u=wu(l,t.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function NA(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Jt||a instanceof Oi||a instanceof Gn||a instanceof Me||a instanceof Hg||a instanceof oi||k0(a))}function Qg(a,t,n){if(!NA(n)||!zT(n)){const r=Fh(n);throw r==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+r)}}function bl(a,t,n){if((t=zi(t))instanceof Fg)return t._internalPath;if(typeof t=="string")return MA(a,t);throw qh("Field path arguments must be of type string or ",a,!1,void 0,n)}const Fw=new RegExp("[~\\*/\\[\\]]");function MA(a,t,n){if(t.search(Fw)>=0)throw qh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new Fg(...t.split("."))._internalPath}catch{throw qh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function qh(a,t,n,r,l){const u=r&&!r.isEmpty(),h=l!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${r}`),h&&(g+=` in document ${l}`),g+=")"),new rt(Y.INVALID_ARGUMENT,m+a+g)}function OA(a,t){return a.some((n=>n.isEqual(t)))}class Hw{convertValue(t,n="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw ht(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return as(t,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(t){const n=t.fields?.[pl].arrayValue?.values?.map((r=>ce(r.doubleValue)));return new oi(n)}convertGeoPoint(t){return new Oi(ce(t.latitude),ce(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Xh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hu(t));default:return null}}convertTimestamp(t){const n=sr(t);return new Jt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Kt.fromString(t);dt(j0(r),9688,{name:t});const l=new Js(r.get(1),r.get(3)),u=new lt(r.popFirst(5));return l.isEqual(n)||ln(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class zA extends Hw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,n)}}const sT="@firebase/firestore",aT="4.11.0";function lT(a){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(a,["next","error","complete"])}class PA{constructor(t,n,r,l,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Gw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(bl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gw extends PA{data(){return super.data()}}function Kw(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yg{}class UA extends Yg{}function Qw(a,t,...n){let r=[];t instanceof Yg&&r.push(t),r=r.concat(n),(function(u){const h=u.filter((g=>g instanceof Zg)).length,m=u.filter((g=>g instanceof Xg)).length;if(h>1||h>0&&m>0)throw new rt(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)a=l._apply(a);return a}class Xg extends UA{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Xg(t,n,r)}_apply(t){const n=this._parse(t);return LA(t._query,n),new aa(t.firestore,t.converter,Km(t._query,n))}_parse(t){const n=Kg(t.firestore);return(function(u,h,m,g,y,T,S){let R;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){uT(S,T);const $=[];for(const W of S)$.push(oT(g,u,W));R={arrayValue:{values:$}}}else R=oT(g,u,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||uT(S,T),R=qw(m,h,S,T==="in"||T==="not-in");return Ut.create(y,T,R)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Zg extends Yg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Zg(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:$t.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let h=l;const m=u.getFlattenedFilters();for(const g of m)LA(h,g),h=Km(h,g)})(t._query,n),new aa(t.firestore,t.converter,Km(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jg extends UA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Jg(t,n)}_apply(t){const n=(function(l,u,h){if(l.startAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,h)})(t._query,this._field,this._direction);return new aa(t.firestore,t.converter,hR(t._query,n))}}function Yw(a,t="asc"){const n=t,r=bl("orderBy",a);return Jg._create(r,n)}function oT(a,t,n){if(typeof(n=zi(n))=="string"){if(n==="")throw new rt(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d0(t)&&n.indexOf("/")!==-1)throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Kt.fromString(n));if(!lt.isDocumentKey(r))throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return du(a,new lt(r))}if(n instanceof Me)return du(a,n._key);throw new rt(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function uT(a,t){if(!Array.isArray(a)||a.length===0)throw new rt(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function LA(a,t){const n=(function(l,u){for(const h of l)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Xw(a,t,n){let r;return r=a?a.toFirestore(t):t,r}class Qo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Xs extends PA{constructor(t,n,r,l,u,h){super(t,n,r,l,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(bl("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Ne("string",Xs._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class Th extends Xs{data(t={}){return super.data(t)}}class cl{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Qo(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Th(this._firestore,this._userDataWriter,r.key,r,new Qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let h=0;return l._snapshot.docChanges.map((m=>{const g=new Th(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Qo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Th(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Qo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:Zw(m.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=cl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Zw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:a})}}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:Ne("string",cl._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};function el(a,t,n,...r){a=ir(a,Me);const l=ir(a.firestore,ia),u=Kg(l);let h;return h=typeof(t=zi(t))=="string"||t instanceof Fg?kw(u,"updateDoc",a._key,t,n,r):jw(u,"updateDoc",a._key,t),$g(l,[h.toMutation(a._key,on.exists(!0))])}function Rm(a){return $g(ir(a.firestore,ia),[new ef(a._key,on.none())])}function wm(a,t){const n=ir(a.firestore,ia),r=Gr(a),l=Xw(a.converter,t),u=Kg(a.firestore);return $g(n,[Bw(u,"addDoc",r._key,l,a.converter!==null,{}).toMutation(r._key,on.exists(!1))]).then((()=>r))}function Dm(a,...t){a=zi(a);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||lT(t[r])||(n=t[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(lT(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let u,h,m;if(a instanceof Me)h=ir(a.firestore,ia),m=Jh(a._key.path),u={next:y=>{t[r]&&t[r](Jw(h,a,y))},error:t[r+1],complete:t[r+2]};else{const y=ir(a,aa);h=ir(y.firestore,ia),m=y._query;const T=new zA(h);u={next:S=>{t[r]&&t[r](new cl(h,T,y,S))},error:t[r+1],complete:t[r+2]},Kw(a._query)}const g=wA(h);return Dw(g,m,l,u)}function $g(a,t){const n=wA(a);return Cw(n,t)}function Jw(a,t,n){const r=n.docs.get(t._key),l=new zA(a);return new Xs(a,l,t._key,r,new Qo(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){sI(Gb),Rh(new iu("firestore",((r,{instanceIdentifier:l,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new ia(new oI(r.getProvider("auth-internal")),new hI(h,r.getProvider("app-check-internal")),JI(h,l),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ll(sT,aT,t),ll(sT,aT,"esm2020")})();const $w={apiKey:"AIzaSyA9cSj_-er_1k-R5p_UZk4vZmglSp5AIDw",authDomain:"mizentia-85f28.firebaseapp.com",projectId:"mizentia-85f28",storageBucket:"mizentia-85f28.firebasestorage.app",messagingSenderId:"260016702613",appId:"1:260016702613:web:96b9922d15420fe8a9079c"},Ww=AT($w),yn=Mw(Ww);Ow(yn).catch(a=>{a.code=="failed-precondition"?console.log("Persistence failed: Multiple tabs open"):a.code=="unimplemented"&&console.log("Persistence is not available in this browser")});const tD=()=>{const[a,t]=Xe.useState([]),[n,r]=Xe.useState([]),[l,u]=Xe.useState([]),[h,m]=Xe.useState("expense"),[g,y]=Xe.useState(""),[T,S]=Xe.useState(""),[R,q]=Xe.useState(""),[$,W]=Xe.useState(""),[et,pt]=Xe.useState(""),[gt,ot]=Xe.useState(!0),[bt,It]=Xe.useState(!1),[ct,I]=Xe.useState(null),[b,C]=Xe.useState(!1),[N,V]=Xe.useState(null),[z,w]=Xe.useState({incMonth:0,expMonth:0,incYear:0,expYear:0});Xe.useEffect(()=>{const k=Dm(tl(yn,"accounts"),Qt=>{const wt=Qt.docs.map(Te=>({id:Te.id,...Te.data()}));t(wt),!R&&wt.length>0&&q(wt[0].id)}),nt=Qw(tl(yn,"transactions"),Yw("dateIso","desc")),Et=Dm(nt,Qt=>{const wt=Qt.docs.map(Te=>({id:Te.id,...Te.data()}));r(wt),se(wt),ot(!1)}),Tt=Dm(tl(yn,"goals"),Qt=>{u(Qt.docs.map(wt=>({id:wt.id,...wt.data()})))});return()=>{k(),Et(),Tt()}},[R]);const se=k=>{const nt=new Date,Et=nt.getMonth(),Tt=nt.getFullYear();let Qt=0,wt=0,Te=0,vn=0;k.forEach(ze=>{const Yn=new Date(ze.dateIso);Yn.getFullYear()===Tt&&(ze.type==="income"&&(Te+=ze.amount),ze.type==="expense"&&(vn+=ze.amount),Yn.getMonth()===Et&&(ze.type==="income"&&(Qt+=ze.amount),ze.type==="expense"&&(wt+=ze.amount)))}),w({incMonth:Qt,expMonth:wt,incYear:Te,expYear:vn})},pe=a.reduce((k,nt)=>k+(nt.balance||0),0),K=async k=>{if(k.preventDefault(),!g||!R)return;const nt=parseFloat(g),Et=new Date,Tt=h==="transfer"&&$==="EXTERNAL",Qt={date:Et.toLocaleDateString(),dateIso:Et.toISOString(),type:h,amount:nt,description:T,person:et||"Self",accountId:R,toAccountId:h==="transfer"?$:null,isExternal:Tt};try{await wm(tl(yn,"transactions"),Qt);const wt=Gr(yn,"accounts",R),Te=a.find(vn=>vn.id===R);if(h==="expense")await el(wt,{balance:Te.balance-nt});else if(h==="income")await el(wt,{balance:Te.balance+nt});else if(h==="transfer"&&(await el(wt,{balance:Te.balance-nt}),$&&!Tt)){const vn=Gr(yn,"accounts",$),ze=a.find(Yn=>Yn.id===$);ze&&await el(vn,{balance:ze.balance+nt})}y(""),S(""),pt(""),h==="transfer"&&W("")}catch(wt){console.error("Error:",wt)}},st=async k=>{if(window.confirm("Delete this transaction? Balance won't revert automatically."))try{await Rm(Gr(yn,"transactions",k.id))}catch(nt){console.error(nt)}},mt=(k=null)=>{I(k?{...k}:{name:"",balance:"",type:"cash"}),It(!0)},Ot=({selected:k,onSelect:nt,includeExternal:Et=!1})=>G.jsxs("div",{className:"account-selector",children:[a.map(Tt=>G.jsxs("div",{className:`selector-item ${k===Tt.id?"selected":""}`,onClick:()=>nt(Tt.id),children:[G.jsx("span",{className:"type-dot",style:{background:Tt.type==="cash"?"#10b981":Tt.type==="bank"?"#3b82f6":"#ec4899",width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginBottom:"5px"}}),G.jsx("span",{className:"name",children:Tt.name}),G.jsxs("span",{className:"bal",children:["",Tt.balance.toLocaleString()]})]},Tt.id)),Et&&G.jsxs("div",{className:`selector-item ${k==="EXTERNAL"?"selected":""}`,onClick:()=>nt("EXTERNAL"),style:{borderStyle:"dashed",borderColor:"var(--warning)"},children:[G.jsx("span",{className:"name",style:{color:"var(--warning)"},children:"Other Person"}),G.jsx("span",{className:"bal",children:"External"})]}),G.jsxs("div",{className:"selector-item add-new",onClick:()=>mt(null),style:{borderStyle:"dashed",opacity:.7},children:[G.jsx("span",{style:{fontSize:"1.5rem",lineHeight:"1"},children:"+"}),G.jsx("span",{className:"name",children:"Add New"})]})]}),Ft=async k=>{k.preventDefault();try{const nt={name:ct.name,balance:parseFloat(ct.balance)||0,type:ct.type||"other"};ct.id?await el(Gr(yn,"accounts",ct.id),nt):await wm(tl(yn,"accounts"),nt),It(!1),I(null)}catch(nt){console.error(nt)}},M=async k=>{if(window.confirm("Are you sure? This will delete the account permanently."))try{await Rm(Gr(yn,"accounts",k)),It(!1)}catch(nt){console.error(nt)}},Z=async k=>{k.preventDefault();try{const nt={name:N.name,targetAmount:parseFloat(N.targetAmount),savedAmount:parseFloat(N.savedAmount)};N.id?await el(Gr(yn,"goals",N.id),nt):await wm(tl(yn,"goals"),nt),C(!1),V(null)}catch(nt){console.error(nt)}},at=async k=>{confirm("Delete Goal?")&&(await Rm(Gr(yn,"goals",k)),C(!1))};return gt?G.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#0f0c29",color:"#fff",fontSize:"1.5rem"},children:"Loading..."}):G.jsxs("div",{className:"app-container",children:[G.jsxs("header",{className:"header",children:[G.jsxs("div",{children:[G.jsx("h1",{children:"Finance Tracker"}),G.jsx("p",{style:{margin:0,opacity:.7},children:"Total Net Worth"})]}),G.jsx("div",{className:"total-balance",children:G.jsxs("h2",{children:[" ",pe.toLocaleString()]})})]}),G.jsxs("section",{className:"summary-grid",children:[G.jsxs("div",{className:"summary-card income",children:[G.jsx("span",{children:"Income (This Month)"}),G.jsxs("h3",{children:["+ ",z.incMonth.toLocaleString()]}),G.jsxs("small",{children:["Yearly: ",z.incYear.toLocaleString()]})]}),G.jsxs("div",{className:"summary-card expense",children:[G.jsx("span",{children:"Expense (This Month)"}),G.jsxs("h3",{children:["- ",z.expMonth.toLocaleString()]}),G.jsxs("small",{children:["Yearly: ",z.expYear.toLocaleString()]})]})]}),G.jsxs("main",{className:"dashboard-grid",children:[G.jsxs("section",{className:"card accounts-section",children:[G.jsxs("div",{className:"card-header",children:[G.jsx("h3",{children:"Accounts"}),G.jsx("button",{className:"btn-icon-add",onClick:()=>mt(null),title:"Add Account",children:"+"})]}),G.jsx("div",{className:"account-list",children:a.map(k=>G.jsxs("div",{className:"account-item",onClick:()=>mt(k),children:[G.jsx("div",{className:"acc-icon-wrapper",children:G.jsx("span",{className:`type-icon ${k.type}`})}),G.jsxs("div",{style:{flex:1,marginLeft:"15px"},children:[G.jsx("div",{className:"acc-name",children:k.name}),G.jsx("div",{className:"acc-type",style:{fontSize:"0.8em",opacity:.7},children:k.type})]}),G.jsxs("div",{className:"acc-bal",children:[" ",k.balance.toLocaleString()]})]},k.id))})]}),G.jsxs("section",{className:"card goals-section",children:[G.jsxs("div",{className:"card-header",children:[G.jsx("h3",{children:"Goals"}),G.jsx("button",{className:"btn-icon-add",onClick:()=>{V({name:"",targetAmount:"",savedAmount:0}),C(!0)},children:"+"})]}),G.jsx("div",{className:"goals-list",children:l.map(k=>{const nt=Math.min(100,Math.round(k.savedAmount/k.targetAmount*100)||0);return G.jsxs("div",{className:"goal-item",onClick:()=>{V(k),C(!0)},children:[G.jsxs("div",{className:"goal-header",children:[G.jsx("span",{children:k.name}),G.jsxs("span",{children:[nt,"%"]})]}),G.jsx("div",{className:"progress-bar",children:G.jsx("div",{className:"progress-fill",style:{width:`${nt}%`}})}),G.jsx("div",{className:"goal-details",children:G.jsxs("small",{children:["",k.savedAmount," / ",k.targetAmount]})})]},k.id)})})]}),G.jsxs("section",{className:"card form-section",children:[G.jsx("h3",{children:"New Transaction"}),G.jsxs("form",{onSubmit:K,children:[G.jsx("div",{className:"tabs",children:["expense","income","transfer"].map(k=>G.jsx("button",{type:"button",className:h===k?"active":"",onClick:()=>m(k),children:k.toUpperCase()},k))}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:"Amount"}),G.jsx("input",{type:"number",value:g,onChange:k=>y(k.target.value),placeholder:"0.00",autoFocus:!0})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:h==="income"?"Deposit To":"Pay From"}),G.jsx(Ot,{selected:R,onSelect:q})]}),h==="transfer"&&G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:"Transfer To"}),G.jsx(Ot,{selected:$,onSelect:W,includeExternal:!0})]}),G.jsxs("div",{className:"form-row",children:[G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:"Description (Why?)"}),G.jsx("input",{value:T,onChange:k=>S(k.target.value),placeholder:"e.g. Groceries"})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:h==="transfer"&&$==="EXTERNAL"?"Receiver Info":"Person (Who?)"}),G.jsx("input",{value:et,onChange:k=>pt(k.target.value),placeholder:h==="transfer"&&$==="EXTERNAL"?"Name / Phone No...":"Name..."})]})]}),G.jsx("button",{type:"submit",className:"btn-submit",children:h==="income"?"Add Income":h==="expense"?"Add Expense":"Transfer Money"})]})]}),G.jsxs("section",{className:"card history-section",children:[G.jsx("h3",{children:"Recent History"}),G.jsx("div",{className:"trx-list",children:n.map(k=>G.jsxs("div",{className:`trx-item ${k.type}`,children:[G.jsxs("div",{className:"trx-info",children:[G.jsx("span",{className:"trx-desc",children:k.description||k.type}),G.jsxs("div",{className:"trx-meta",children:[G.jsx("small",{children:k.date}),k.isExternal?G.jsxs("small",{style:{color:"var(--warning)"},children:["  To: ",k.person]}):G.jsxs("small",{children:["  ",k.person]})]}),G.jsxs("div",{className:"trx-badges",children:[G.jsx("span",{className:"badge-acc",children:a.find(nt=>nt.id===k.accountId)?.name}),k.type==="transfer"&&G.jsx("span",{children:""}),k.type==="transfer"&&G.jsx("span",{className:"badge-acc",children:k.toAccountId==="EXTERNAL"?"External":a.find(nt=>nt.id===k.toAccountId)?.name})]})]}),G.jsxs("div",{className:"trx-right",children:[G.jsxs("span",{className:"trx-amount",children:[k.type==="expense"||k.type==="transfer"?"-":k.type==="income"?"+":""," ",k.amount]}),G.jsx("button",{onClick:()=>st(k),className:"btn-del",children:""})]})]},k.id))})]})]}),bt&&ct&&G.jsx("div",{className:"modal-overlay",children:G.jsxs("div",{className:"modal-content",children:[G.jsx("h3",{children:ct.id?"Edit Account":"Add New Account"}),G.jsxs("form",{onSubmit:Ft,children:[G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:"Name"}),G.jsx("input",{value:ct.name,onChange:k=>I({...ct,name:k.target.value}),required:!0})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:"Type"}),G.jsxs("select",{value:ct.type,onChange:k=>I({...ct,type:k.target.value}),children:[G.jsx("option",{value:"cash",children:"Cash / Hand"}),G.jsx("option",{value:"bank",children:"Bank"}),G.jsx("option",{value:"mobile",children:"Mobile Banking (bKash/Nagad)"}),G.jsx("option",{value:"other",children:"Other"})]})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:"Balance"}),G.jsx("input",{type:"number",value:ct.balance,onChange:k=>I({...ct,balance:k.target.value})})]}),G.jsxs("div",{className:"modal-actions",children:[ct.id&&G.jsx("button",{type:"button",onClick:()=>M(ct.id),className:"btn-delete",children:"Delete"}),G.jsx("button",{type:"button",onClick:()=>It(!1),className:"btn-cancel",children:"Cancel"}),G.jsx("button",{type:"submit",className:"btn-save",children:"Save"})]})]})]})}),b&&N&&G.jsx("div",{className:"modal-overlay",children:G.jsxs("div",{className:"modal-content",children:[G.jsx("h3",{children:N.id?"Edit Goal":"New Goal"}),G.jsxs("form",{onSubmit:Z,children:[G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:"Goal Name"}),G.jsx("input",{value:N.name,onChange:k=>V({...N,name:k.target.value}),required:!0})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:"Target"}),G.jsx("input",{type:"number",value:N.targetAmount,onChange:k=>V({...N,targetAmount:k.target.value})})]}),G.jsxs("div",{className:"form-group",children:[G.jsx("label",{children:"Saved"}),G.jsx("input",{type:"number",value:N.savedAmount,onChange:k=>V({...N,savedAmount:k.target.value})})]}),G.jsxs("div",{className:"modal-actions",children:[N.id&&G.jsx("button",{type:"button",onClick:()=>at(N.id),className:"btn-delete",children:"Delete"}),G.jsx("button",{type:"button",onClick:()=>C(!1),className:"btn-cancel",children:"Cancel"}),G.jsx("button",{type:"submit",className:"btn-save",children:"Save"})]})]})]})})]})};bS.createRoot(document.getElementById("root")).render(G.jsx(Xe.StrictMode,{children:G.jsx(tD,{})}));

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Dd={exports:{}},El={};var P_;function Sb(){if(P_)return El;P_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var z_;function wb(){return z_||(z_=1,Dd.exports=Sb()),Dd.exports}var T=wb(),Nd={exports:{}},_t={};var B_;function Rb(){if(B_)return _t;B_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.iterator;function K(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,it={};function ht(D,F,nt){this.props=D,this.context=F,this.refs=it,this.updater=nt||W}ht.prototype.isReactComponent={},ht.prototype.setState=function(D,F){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,F,"setState")},ht.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Et(){}Et.prototype=ht.prototype;function mt(D,F,nt){this.props=D,this.context=F,this.refs=it,this.updater=nt||W}var Pt=mt.prototype=new Et;Pt.constructor=mt,et(Pt,ht.prototype),Pt.isPureReactComponent=!0;var Ft=Array.isArray;function Lt(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(D,F,nt){var at=nt.ref;return{$$typeof:r,type:D,key:F,ref:at!==void 0?at:null,props:nt}}function M(D,F){return C(D.type,F,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function L(D){var F={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return F[nt]})}var R=/\/+/g;function Wt(D,F){return typeof D=="object"&&D!==null&&D.key!=null?L(""+D.key):F.toString(36)}function he(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Lt,Lt):(D.status="pending",D.then(function(F){D.status==="pending"&&(D.status="fulfilled",D.value=F)},function(F){D.status==="pending"&&(D.status="rejected",D.reason=F)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function H(D,F,nt,at,gt){var At=typeof D;(At==="undefined"||At==="boolean")&&(D=null);var Ut=!1;if(D===null)Ut=!0;else switch(At){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(D.$$typeof){case r:case t:Ut=!0;break;case A:return Ut=D._init,H(Ut(D._payload),F,nt,at,gt)}}if(Ut)return gt=gt(D),Ut=at===""?"."+Wt(D,0):at,Ft(gt)?(nt="",Ut!=null&&(nt=Ut.replace(R,"$&/")+"/"),H(gt,F,nt,"",function(as){return as})):gt!=null&&(O(gt)&&(gt=M(gt,nt+(gt.key==null||D&&D.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Ut)),F.push(gt)),1;Ut=0;var De=at===""?".":at+":";if(Ft(D))for(var se=0;se<D.length;se++)at=D[se],At=De+Wt(at,se),Ut+=H(at,F,nt,At,gt);else if(se=K(D),typeof se=="function")for(D=se.call(D),se=0;!(at=D.next()).done;)at=at.value,At=De+Wt(at,se++),Ut+=H(at,F,nt,At,gt);else if(At==="object"){if(typeof D.then=="function")return H(he(D),F,nt,at,gt);throw F=String(D),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function Y(D,F,nt){if(D==null)return D;var at=[],gt=0;return H(D,at,"","",function(At){return F.call(nt,At,gt++)}),at}function $(D){if(D._status===-1){var F=D._result;F=F(),F.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=F)}if(D._status===1)return D._result.default;throw D._result}var wt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Vt={map:Y,forEach:function(D,F,nt){Y(D,function(){F.apply(this,arguments)},nt)},count:function(D){var F=0;return Y(D,function(){F++}),F},toArray:function(D){return Y(D,function(F){return F})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return _t.Activity=w,_t.Children=Vt,_t.Component=ht,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=mt,_t.StrictMode=s,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,_t.__COMPILER_RUNTIME={__proto__:null,c:function(D){return x.H.useMemoCache(D)}},_t.cache=function(D){return function(){return D.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(D,F,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var at=et({},D.props),gt=D.key;if(F!=null)for(At in F.key!==void 0&&(gt=""+F.key),F)!S.call(F,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&F.ref===void 0||(at[At]=F[At]);var At=arguments.length-2;if(At===1)at.children=nt;else if(1<At){for(var Ut=Array(At),De=0;De<At;De++)Ut[De]=arguments[De+2];at.children=Ut}return C(D.type,gt,at)},_t.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},_t.createElement=function(D,F,nt){var at,gt={},At=null;if(F!=null)for(at in F.key!==void 0&&(At=""+F.key),F)S.call(F,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(gt[at]=F[at]);var Ut=arguments.length-2;if(Ut===1)gt.children=nt;else if(1<Ut){for(var De=Array(Ut),se=0;se<Ut;se++)De[se]=arguments[se+2];gt.children=De}if(D&&D.defaultProps)for(at in Ut=D.defaultProps,Ut)gt[at]===void 0&&(gt[at]=Ut[at]);return C(D,At,gt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(D){return{$$typeof:g,render:D}},_t.isValidElement=O,_t.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:$}},_t.memo=function(D,F){return{$$typeof:y,type:D,compare:F===void 0?null:F}},_t.startTransition=function(D){var F=x.T,nt={};x.T=nt;try{var at=D(),gt=x.S;gt!==null&&gt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Lt,wt)}catch(At){wt(At)}finally{F!==null&&nt.types!==null&&(F.types=nt.types),x.T=F}},_t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},_t.use=function(D){return x.H.use(D)},_t.useActionState=function(D,F,nt){return x.H.useActionState(D,F,nt)},_t.useCallback=function(D,F){return x.H.useCallback(D,F)},_t.useContext=function(D){return x.H.useContext(D)},_t.useDebugValue=function(){},_t.useDeferredValue=function(D,F){return x.H.useDeferredValue(D,F)},_t.useEffect=function(D,F){return x.H.useEffect(D,F)},_t.useEffectEvent=function(D){return x.H.useEffectEvent(D)},_t.useId=function(){return x.H.useId()},_t.useImperativeHandle=function(D,F,nt){return x.H.useImperativeHandle(D,F,nt)},_t.useInsertionEffect=function(D,F){return x.H.useInsertionEffect(D,F)},_t.useLayoutEffect=function(D,F){return x.H.useLayoutEffect(D,F)},_t.useMemo=function(D,F){return x.H.useMemo(D,F)},_t.useOptimistic=function(D,F){return x.H.useOptimistic(D,F)},_t.useReducer=function(D,F,nt){return x.H.useReducer(D,F,nt)},_t.useRef=function(D){return x.H.useRef(D)},_t.useState=function(D){return x.H.useState(D)},_t.useSyncExternalStore=function(D,F,nt){return x.H.useSyncExternalStore(D,F,nt)},_t.useTransition=function(){return x.H.useTransition()},_t.version="19.2.4",_t}var q_;function Sm(){return q_||(q_=1,Nd.exports=Rb()),Nd.exports}var Ve=Sm(),Od={exports:{}},Tl={},Vd={exports:{}},Md={};var H_;function Ib(){return H_||(H_=1,(function(r){function t(H,Y){var $=H.length;H.push(Y);t:for(;0<$;){var wt=$-1>>>1,Vt=H[wt];if(0<l(Vt,Y))H[wt]=Y,H[$]=Vt,$=wt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var Y=H[0],$=H.pop();if($!==Y){H[0]=$;t:for(var wt=0,Vt=H.length,D=Vt>>>1;wt<D;){var F=2*(wt+1)-1,nt=H[F],at=F+1,gt=H[at];if(0>l(nt,$))at<Vt&&0>l(gt,nt)?(H[wt]=gt,H[at]=$,wt=at):(H[wt]=nt,H[F]=$,wt=F);else if(at<Vt&&0>l(gt,$))H[wt]=gt,H[at]=$,wt=at;else break t}}return Y}function l(H,Y){var $=H.sortIndex-Y.sortIndex;return $!==0?$:H.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],A=1,w=null,V=3,K=!1,W=!1,et=!1,it=!1,ht=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Pt(H){for(var Y=i(y);Y!==null;){if(Y.callback===null)s(y);else if(Y.startTime<=H)s(y),Y.sortIndex=Y.expirationTime,t(v,Y);else break;Y=i(y)}}function Ft(H){if(et=!1,Pt(H),!W)if(i(v)!==null)W=!0,Lt||(Lt=!0,L());else{var Y=i(y);Y!==null&&he(Ft,Y.startTime-H)}}var Lt=!1,x=-1,S=5,C=-1;function M(){return it?!0:!(r.unstable_now()-C<S)}function O(){if(it=!1,Lt){var H=r.unstable_now();C=H;var Y=!0;try{t:{W=!1,et&&(et=!1,Et(x),x=-1),K=!0;var $=V;try{e:{for(Pt(H),w=i(v);w!==null&&!(w.expirationTime>H&&M());){var wt=w.callback;if(typeof wt=="function"){w.callback=null,V=w.priorityLevel;var Vt=wt(w.expirationTime<=H);if(H=r.unstable_now(),typeof Vt=="function"){w.callback=Vt,Pt(H),Y=!0;break e}w===i(v)&&s(v),Pt(H)}else s(v);w=i(v)}if(w!==null)Y=!0;else{var D=i(y);D!==null&&he(Ft,D.startTime-H),Y=!1}}break t}finally{w=null,V=$,K=!1}Y=void 0}}finally{Y?L():Lt=!1}}}var L;if(typeof mt=="function")L=function(){mt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Wt=R.port2;R.port1.onmessage=O,L=function(){Wt.postMessage(null)}}else L=function(){ht(O,0)};function he(H,Y){x=ht(function(){H(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(H){switch(V){case 1:case 2:case 3:var Y=3;break;default:Y=V}var $=V;V=Y;try{return H()}finally{V=$}},r.unstable_requestPaint=function(){it=!0},r.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=V;V=H;try{return Y()}finally{V=$}},r.unstable_scheduleCallback=function(H,Y,$){var wt=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?wt+$:wt):$=wt,H){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=$+Vt,H={id:A++,callback:Y,priorityLevel:H,startTime:$,expirationTime:Vt,sortIndex:-1},$>wt?(H.sortIndex=$,t(y,H),i(v)===null&&H===i(y)&&(et?(Et(x),x=-1):et=!0,he(Ft,$-wt))):(H.sortIndex=Vt,t(v,H),W||K||(W=!0,Lt||(Lt=!0,L()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var Y=V;return function(){var $=V;V=Y;try{return H.apply(this,arguments)}finally{V=$}}}})(Md)),Md}var G_;function Cb(){return G_||(G_=1,Vd.exports=Ib()),Vd.exports}var kd={exports:{}},Xe={};var F_;function xb(){if(F_)return Xe;F_=1;var r=Sm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:v,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,A)},Xe.flushSync=function(v){var y=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=y,s.p=A,s.d.f()}},Xe.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(v,y))},Xe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Xe.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,w=g(A,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:K}):A==="script"&&s.d.X(v,{crossOrigin:w,integrity:V,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(v)},Xe.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=g(A,y.crossOrigin);s.d.L(v,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=g(y.as,y.crossOrigin);s.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(v)},Xe.requestFormReset=function(v){s.d.r(v)},Xe.unstable_batchedUpdates=function(v,y){return v(y)},Xe.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.4",Xe}var Q_;function Db(){if(Q_)return kd.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=xb(),kd.exports}var K_;function Nb(){if(K_)return Tl;K_=1;var r=Cb(),t=Sm(),i=Db();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),Ft=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ht:return"Profiler";case it:return"StrictMode";case Ft:return"Suspense";case Lt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case mt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:Wt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Wt(e(n))}catch{}}return null}var he=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},wt=[],Vt=-1;function D(e){return{current:e}}function F(e){0>Vt||(e.current=wt[Vt],wt[Vt]=null,Vt--)}function nt(e,n){Vt++,wt[Vt]=e.current,e.current=n}var at=D(null),gt=D(null),At=D(null),Ut=D(null);function De(e,n){switch(nt(At,n),nt(gt,e),nt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?l_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=l_(n),e=u_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(at),nt(at,e)}function se(){F(at),F(gt),F(At)}function as(e){e.memoizedState!==null&&nt(Ut,e);var n=at.current,a=u_(n,e.type);n!==a&&(nt(gt,e),nt(at,a))}function Js(e){gt.current===e&&(F(at),F(gt)),Ut.current===e&&(F(Ut),gl._currentValue=$)}var Zs,$s;function ii(e){if(Zs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Zs=n&&n[1]||"",$s=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+e+$s}var go=!1;function os(e,n){if(!e||go)return"";go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){z=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ii(a):""}function yo(e,n){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return os(e.type,!1);case 11:return os(e.type.render,!1);case 1:return os(e.type,!0);case 31:return ii("Activity");default:return""}}function _o(e){try{var n="",a=null;do n+=yo(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,sr=r.unstable_cancelCallback,Nh=r.unstable_shouldYield,tu=r.unstable_requestPaint,tn=r.unstable_now,ls=r.unstable_getCurrentPriorityLevel,vo=r.unstable_ImmediatePriority,Eo=r.unstable_UserBlockingPriority,ar=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,eu=r.unstable_IdlePriority,nu=r.log,iu=r.unstable_setDisableYieldValue,Pn=null,Pe=null;function An(e){if(typeof nu=="function"&&iu(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Pn,e)}catch{}}var fe=Math.clz32?Math.clz32:su,ru=Math.log,Ws=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(ru(e)/Ws|0)|0}var ri=256,us=262144,_e=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(p&=E,p!==0?h=si(p):a||(a=E&~e,a!==0&&(h=si(a))))):(E=o&~f,E!==0?h=si(E):p!==0?h=si(p):a||(a=o&~e,a!==0&&(h=si(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function oi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function cs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mh(e,n,a,o,h,f){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(a=p&~a;0<a;){var G=31-fe(a),X=1<<G;E[G]=0,I[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&hs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function hs(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function To(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-fe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function bo(e,n){var a=n&-n;return a=(a&42)!==0?1:fs(a),(a&(e.suspendedLanes|n))!==0?0:a}function fs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:O_(e.type))}function Bn(e,n){var a=Y.p;try{return Y.p=e,n()}finally{Y.p=a}}var qn=Math.random().toString(36).slice(2),ve="__reactFiber$"+qn,ke="__reactProps$"+qn,li="__reactContainer$"+qn,ta="__reactEvents$"+qn,kh="__reactListeners$"+qn,lu="__reactHandles$"+qn,uu="__reactResources$"+qn,ui="__reactMarker$"+qn;function ea(e){delete e[ve],delete e[ke],delete e[ta],delete e[kh],delete e[lu]}function ci(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[li]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=g_(e);e!==null;){if(a=e[ve])return a;e=g_(e)}return n}e=a,a=e.parentNode}return null}function Sn(e){if(e=e[ve]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function hi(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ui]=!0}var Ao=new Set,So={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(So[e]=n,e=0;e<n.length;e++)Ao.add(n[e])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},Io={};function cu(e){return ye.call(Io,e)?!0:ye.call(Ro,e)?!1:wo.test(e)?Io[e]=!0:(Ro[e]=!0,!1)}function na(e,n,a){if(cu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function mn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Te(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function or(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=or(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function ds(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=or(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ms=/[\n"\\]/g;function rn(e){return e.replace(ms,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,a,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?xo(e,p,Le(n)):a!=null?xo(e,p,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function hu(e,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qt(e)}function xo(e,n,a){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function lr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,a){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Le(a):""}function ur(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(he(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Le(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function sn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||du.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function No(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Do(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return cr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Oo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hr=null,pi=null;function ps(e){var n=Sn(e);if(n&&(e=n.stateNode)){var a=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(s(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ds(o)}break t;case"textarea":fu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&lr(e,!!a.multiple,n,!1)}}}var aa=!1;function fr(e,n,a){if(aa)return e(n,a);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(hr!==null||pi!==null)&&(oc(),hr&&(n=hr,e=pi,pi=hr=null,ps(n),e)))for(n=0;n<e.length;n++)ps(e[n])}}function Gn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Rn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){gs=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{gs=!1}var gi=null,Vo=null,ys=null;function Mo(){if(ys)return ys;var e,n=Vo,a=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var p=a-e;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return ys=h.slice(e,1<o?1-o:void 0)}function _s(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Fn(){return!1}function ze(e){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Fn,this.isPropagationStopped=Fn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=ze(Mi),dr=w({},Mi,{view:0,detail:0}),ko=ze(dr),mr,oa,_i,la=w({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(mr=e.screenX-_i.screenX,oa=e.screenY-_i.screenY):oa=mr=0,_i=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),Lo=ze(la),vs=w({},la,{dataTransfer:0}),pu=ze(vs),gu=w({},dr,{relatedTarget:0}),Es=ze(gu),Uo=w({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=ze(Uo),ua=w({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=ze(ua),vu=w({},Mi,{data:0}),vi=ze(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function pr(){return Au}var en=w({},dr,{key:function(e){if(e.key){var n=Eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=ze(en),wu=w({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=ze(wu),u=w({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),m=ze(u),_=w({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=ze(_),U=w({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(U),tt=w({},Mi,{newState:0,oldState:0}),Tt=ze(tt),de=[9,13,27,32],qt=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var In=Rn&&"TextEvent"in window&&!ae,Ei=Rn&&(!qt||ae&&8<ae&&11>=ae),Qn=" ",Kn=!1;function Ts(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function YT(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Kn?null:e;default:return null}}function XT(e,n){if(ha)return e==="compositionend"||!qt&&Ts(e,n)?(e=Mo(),ys=Vo=gi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!JT[e.type]:n==="textarea"}function Ep(e,n,a,o){hr?pi?pi.push(o):pi=[o]:hr=o,n=mc(n,"onChange"),0<n.length&&(a=new yi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var jo=null,Po=null;function ZT(e){n_(e,0)}function Ru(e){var n=dn(e);if(ds(n))return e}function Tp(e,n){if(e==="change")return n}var bp=!1;if(Rn){var Lh;if(Rn){var Uh="oninput"in document;if(!Uh){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Uh=typeof Ap.oninput=="function"}Lh=Uh}else Lh=!1;bp=Lh&&(!document.documentMode||9<document.documentMode)}function Sp(){jo&&(jo.detachEvent("onpropertychange",wp),Po=jo=null)}function wp(e){if(e.propertyName==="value"&&Ru(Po)){var n=[];Ep(n,Po,e,wn(e)),fr(ZT,n)}}function $T(e,n,a){e==="focusin"?(Sp(),jo=n,Po=a,jo.attachEvent("onpropertychange",wp)):e==="focusout"&&Sp()}function WT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Po)}function t1(e,n){if(e==="click")return Ru(n)}function e1(e,n){if(e==="input"||e==="change")return Ru(n)}function n1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:n1;function zo(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ye.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function Rp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ip(e,n){var a=Rp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Rp(a)}}function Cp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Cp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function xp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=mi(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var i1=Rn&&"documentMode"in document&&11>=document.documentMode,fa=null,Ph=null,Bo=null,zh=!1;function Dp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zh||fa==null||fa!==mi(o)||(o=fa,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&zo(Bo,o)||(Bo=o,o=mc(Ph,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=fa)))}function bs(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var da={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Bh={},Np={};Rn&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function As(e){if(Bh[e])return Bh[e];if(!da[e])return e;var n=da[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Np)return Bh[e]=n[a];return e}var Op=As("animationend"),Vp=As("animationiteration"),Mp=As("animationstart"),r1=As("transitionrun"),s1=As("transitionstart"),a1=As("transitioncancel"),kp=As("transitionend"),Lp=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Yn(e,n){Lp.set(e,n),fi(n,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ma=0,Hh=0;function Cu(){for(var e=ma,n=Hh=ma=0;n<e;){var a=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Up(a,h,f)}}function xu(e,n,a,o){Cn[ma++]=e,Cn[ma++]=n,Cn[ma++]=a,Cn[ma++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,a,o){return xu(e,n,a,o),Du(e)}function Ss(e,n){return xu(e,null,null,n),Du(e)}function Up(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Du(e){if(50<ul)throw ul=0,td=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function o1(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,a,o){return new o1(e,n,a,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var a=e.alternate;return a===null?(a=gn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,a,o,h,f){var p=0;if(o=e,typeof e=="function")Fh(e)&&(p=1);else if(typeof e=="string")p=fb(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,a,n,h),e.elementType=C,e.lanes=f,e;case et:return ws(a.children,h,f,n);case it:p=8,h|=24;break;case ht:return e=gn(12,a,n,h|2),e.elementType=ht,e.lanes=f,e;case Ft:return e=gn(13,a,n,h),e.elementType=Ft,e.lanes=f,e;case Lt:return e=gn(19,a,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:p=10;break t;case Et:p=9;break t;case Pt:p=11;break t;case x:p=14;break t;case S:p=16,o=null;break t}p=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=gn(p,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ws(e,n,a,o){return e=gn(7,e,o,n),e.lanes=a,e}function Qh(e,n,a){return e=gn(6,e,null,n),e.lanes=a,e}function Pp(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,a){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zp=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var a=zp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:_o(n)},zp.set(e,n),n)}return{value:e,source:n,stack:_o(n)}}var ga=[],ya=0,Ou=null,qo=0,Dn=[],Nn=0,gr=null,Ti=1,bi="";function Ui(e,n){ga[ya++]=qo,ga[ya++]=Ou,Ou=e,qo=n}function Bp(e,n,a){Dn[Nn++]=Ti,Dn[Nn++]=bi,Dn[Nn++]=gr,gr=e;var o=Ti;e=bi;var h=32-fe(o)-1;o&=~(1<<h),a+=1;var f=32-fe(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ti=1<<32-fe(n)+h|a<<h|o,bi=f+e}else Ti=1<<f|a<<h|o,bi=e}function Yh(e){e.return!==null&&(Ui(e,1),Bp(e,1,0))}function Xh(e){for(;e===Ou;)Ou=ga[--ya],ga[ya]=null,qo=ga[--ya],ga[ya]=null;for(;e===gr;)gr=Dn[--Nn],Dn[Nn]=null,bi=Dn[--Nn],Dn[Nn]=null,Ti=Dn[--Nn],Dn[Nn]=null}function qp(e,n){Dn[Nn++]=Ti,Dn[Nn++]=bi,Dn[Nn++]=gr,Ti=n.id,bi=n.overflow,gr=e}var Be=null,ne=null,Mt=!1,yr=null,On=!1,Jh=Error(s(519));function _r(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(xn(n,e)),Jh}function Hp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[ke]=o,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<hl.length;a++)It(hl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ur(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||a_(n.textContent,a)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||_r(e,!0)}function Gp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function _a(e){if(e!==Be)return!1;if(!Mt)return Gp(e),Mt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&ne&&_r(e),Gp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=p_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=p_(e)}else n===27?(n=ne,Or(e.type)?(e=Ed,Ed=null,ne=e):ne=n):ne=Be?Mn(e.stateNode.nextSibling):null;return!0}function Rs(){ne=Be=null,Mt=!1}function Zh(){var e=yr;return e!==null&&(un===null?un=e:un.push.apply(un,e),yr=null),e}function Ho(e){yr===null?yr=[e]:yr.push(e)}var $h=D(null),Is=null,ji=null;function vr(e,n,a){nt($h,n._currentValue),n._currentValue=a}function Pi(e){e._currentValue=$h.current,F($h)}function Wh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function tf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Wh(f.return,a,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Wh(p,a,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(s(387));if(p=p.memoizedProps,p!==null){var E=h.type;pn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(p=h.alternate,p===null)throw Error(s(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&tf(n,e,a,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Is=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Fp(Is,e)}function Mu(e,n){return Is===null&&Cs(e),Fp(e,n)}function Fp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(s(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return a}var l1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},u1=r.unstable_scheduleCallback,c1=r.unstable_NormalPriority,be={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new l1,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&u1(c1,function(){e.controller.abort()})}var Fo=null,nf=0,Ea=0,Ta=null;function h1(e,n){if(Fo===null){var a=Fo=[];nf=0,Ea=ad(),Ta={status:"pending",value:void 0,then:function(o){a.push(o)}}}return nf++,n.then(Qp,Qp),n}function Qp(){if(--nf===0&&Fo!==null){Ta!==null&&(Ta.status="fulfilled");var e=Fo;Fo=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function f1(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Kp=H.S;H.S=function(e,n){Dy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h1(e,n),Kp!==null&&Kp(e,n)};var xs=D(null);function rf(){var e=xs.current;return e!==null?e:te.pooledCache}function ku(e,n){n===null?nt(xs,xs.current):nt(xs,n.pool)}function Yp(){var e=rf();return e===null?null:{parent:be._currentValue,pool:e}}var ba=Error(s(460)),sf=Error(s(474)),Lu=Error(s(542)),Uu={then:function(){}};function Xp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$p(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$p(e),e}throw Ns=n,ba}}function Ds(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ns=a,ba):a}}var Ns=null;function Zp(){if(Ns===null)throw Error(s(459));var e=Ns;return Ns=null,e}function $p(e){if(e===ba||e===Lu)throw Error(s(483))}var Aa=null,Qo=0;function ju(e){var n=Qo;return Qo+=1,Aa===null&&(Aa=[]),Jp(Aa,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Wp(e){function n(k,N){if(e){var j=k.deletions;j===null?(k.deletions=[N],k.flags|=16):j.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Li(k,N),k.index=0,k.sibling=null,k}function f(k,N,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<N?(k.flags|=67108866,N):j):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,j,Q){return N===null||N.tag!==6?(N=Qh(j,k.mode,Q),N.return=k,N):(N=h(N,j),N.return=k,N)}function I(k,N,j,Q){var ut=j.type;return ut===et?G(k,N,j.props.children,Q,j.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Ds(ut)===N.type)?(N=h(N,j.props),Ko(N,j),N.return=k,N):(N=Nu(j.type,j.key,j.props,null,k.mode,Q),Ko(N,j),N.return=k,N)}function P(k,N,j,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=Kh(j,k.mode,Q),N.return=k,N):(N=h(N,j.children||[]),N.return=k,N)}function G(k,N,j,Q,ut){return N===null||N.tag!==7?(N=ws(j,k.mode,Q,ut),N.return=k,N):(N=h(N,j),N.return=k,N)}function X(k,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Qh(""+N,k.mode,j),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case K:return j=Nu(N.type,N.key,N.props,null,k.mode,j),Ko(j,N),j.return=k,j;case W:return N=Kh(N,k.mode,j),N.return=k,N;case S:return N=Ds(N),X(k,N,j)}if(he(N)||L(N))return N=ws(N,k.mode,j,null),N.return=k,N;if(typeof N.then=="function")return X(k,ju(N),j);if(N.$$typeof===mt)return X(k,Mu(k,N),j);Pu(k,N)}return null}function z(k,N,j,Q){var ut=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ut!==null?null:E(k,N,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case K:return j.key===ut?I(k,N,j,Q):null;case W:return j.key===ut?P(k,N,j,Q):null;case S:return j=Ds(j),z(k,N,j,Q)}if(he(j)||L(j))return ut!==null?null:G(k,N,j,Q,null);if(typeof j.then=="function")return z(k,N,ju(j),Q);if(j.$$typeof===mt)return z(k,N,Mu(k,j),Q);Pu(k,j)}return null}function q(k,N,j,Q,ut){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(j)||null,E(N,k,""+Q,ut);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return k=k.get(Q.key===null?j:Q.key)||null,I(N,k,Q,ut);case W:return k=k.get(Q.key===null?j:Q.key)||null,P(N,k,Q,ut);case S:return Q=Ds(Q),q(k,N,j,Q,ut)}if(he(Q)||L(Q))return k=k.get(j)||null,G(N,k,Q,ut,null);if(typeof Q.then=="function")return q(k,N,j,ju(Q),ut);if(Q.$$typeof===mt)return q(k,N,j,Mu(N,Q),ut);Pu(N,Q)}return null}function ot(k,N,j,Q){for(var ut=null,zt=null,lt=N,St=N=0,xt=null;lt!==null&&St<j.length;St++){lt.index>St?(xt=lt,lt=null):xt=lt.sibling;var Bt=z(k,lt,j[St],Q);if(Bt===null){lt===null&&(lt=xt);break}e&&lt&&Bt.alternate===null&&n(k,lt),N=f(Bt,N,St),zt===null?ut=Bt:zt.sibling=Bt,zt=Bt,lt=xt}if(St===j.length)return a(k,lt),Mt&&Ui(k,St),ut;if(lt===null){for(;St<j.length;St++)lt=X(k,j[St],Q),lt!==null&&(N=f(lt,N,St),zt===null?ut=lt:zt.sibling=lt,zt=lt);return Mt&&Ui(k,St),ut}for(lt=o(lt);St<j.length;St++)xt=q(lt,k,St,j[St],Q),xt!==null&&(e&&xt.alternate!==null&&lt.delete(xt.key===null?St:xt.key),N=f(xt,N,St),zt===null?ut=xt:zt.sibling=xt,zt=xt);return e&&lt.forEach(function(Ur){return n(k,Ur)}),Mt&&Ui(k,St),ut}function ft(k,N,j,Q){if(j==null)throw Error(s(151));for(var ut=null,zt=null,lt=N,St=N=0,xt=null,Bt=j.next();lt!==null&&!Bt.done;St++,Bt=j.next()){lt.index>St?(xt=lt,lt=null):xt=lt.sibling;var Ur=z(k,lt,Bt.value,Q);if(Ur===null){lt===null&&(lt=xt);break}e&&lt&&Ur.alternate===null&&n(k,lt),N=f(Ur,N,St),zt===null?ut=Ur:zt.sibling=Ur,zt=Ur,lt=xt}if(Bt.done)return a(k,lt),Mt&&Ui(k,St),ut;if(lt===null){for(;!Bt.done;St++,Bt=j.next())Bt=X(k,Bt.value,Q),Bt!==null&&(N=f(Bt,N,St),zt===null?ut=Bt:zt.sibling=Bt,zt=Bt);return Mt&&Ui(k,St),ut}for(lt=o(lt);!Bt.done;St++,Bt=j.next())Bt=q(lt,k,St,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&lt.delete(Bt.key===null?St:Bt.key),N=f(Bt,N,St),zt===null?ut=Bt:zt.sibling=Bt,zt=Bt);return e&&lt.forEach(function(Ab){return n(k,Ab)}),Mt&&Ui(k,St),ut}function $t(k,N,j,Q){if(typeof j=="object"&&j!==null&&j.type===et&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case K:t:{for(var ut=j.key;N!==null;){if(N.key===ut){if(ut=j.type,ut===et){if(N.tag===7){a(k,N.sibling),Q=h(N,j.props.children),Q.return=k,k=Q;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&Ds(ut)===N.type){a(k,N.sibling),Q=h(N,j.props),Ko(Q,j),Q.return=k,k=Q;break t}a(k,N);break}else n(k,N);N=N.sibling}j.type===et?(Q=ws(j.props.children,k.mode,Q,j.key),Q.return=k,k=Q):(Q=Nu(j.type,j.key,j.props,null,k.mode,Q),Ko(Q,j),Q.return=k,k=Q)}return p(k);case W:t:{for(ut=j.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){a(k,N.sibling),Q=h(N,j.children||[]),Q.return=k,k=Q;break t}else{a(k,N);break}else n(k,N);N=N.sibling}Q=Kh(j,k.mode,Q),Q.return=k,k=Q}return p(k);case S:return j=Ds(j),$t(k,N,j,Q)}if(he(j))return ot(k,N,j,Q);if(L(j)){if(ut=L(j),typeof ut!="function")throw Error(s(150));return j=ut.call(j),ft(k,N,j,Q)}if(typeof j.then=="function")return $t(k,N,ju(j),Q);if(j.$$typeof===mt)return $t(k,N,Mu(k,j),Q);Pu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(a(k,N.sibling),Q=h(N,j),Q.return=k,k=Q):(a(k,N),Q=Qh(j,k.mode,Q),Q.return=k,k=Q),p(k)):a(k,N)}return function(k,N,j,Q){try{Qo=0;var ut=$t(k,N,j,Q);return Aa=null,ut}catch(lt){if(lt===ba||lt===Lu)throw lt;var zt=gn(29,lt,null,k.mode);return zt.lanes=Q,zt.return=k,zt}}}var Os=Wp(!0),tg=Wp(!1),Er=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),Up(e,null,a),n}return xu(e,o,n,a),Du(e)}function Yo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,To(e,a)}}function lf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var uf=!1;function Xo(){if(uf){var e=Ta;if(e!==null)throw e}}function Jo(e,n,a,o){uf=!1;var h=e.updateQueue;Er=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,p===null?f=P:p.next=P,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;p=0,G=P=I=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Ct&z)===z:(o&z)===z){z!==0&&z===Ea&&(uf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,ft=E;z=n;var $t=a;switch(ft.tag){case 1:if(ot=ft.payload,typeof ot=="function"){X=ot.call($t,X,z);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ft.payload,z=typeof ot=="function"?ot.call($t,X,z):ot,z==null)break t;X=w({},X,z);break t;case 2:Er=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,I=X):G=G.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=X),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ir|=p,e.lanes=p,e.memoizedState=X}}function eg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function ng(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)eg(a[e],n)}var Sa=D(null),zu=D(0);function ig(e,n){e=Yi,nt(zu,e),nt(Sa,n),Yi=e|n.baseLanes}function cf(){nt(zu,Yi),nt(Sa,Sa.current)}function hf(){Yi=zu.current,F(Sa),F(zu)}var yn=D(null),Vn=null;function Ar(e){var n=e.alternate;nt(me,me.current&1),nt(yn,e),Vn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(Vn=e)}function ff(e){nt(me,me.current),nt(yn,e),Vn===null&&(Vn=e)}function rg(e){e.tag===22?(nt(me,me.current),nt(yn,e),Vn===null&&(Vn=e)):Sr()}function Sr(){nt(me,me.current),nt(yn,yn.current)}function _n(e){F(yn),Vn===e&&(Vn=null),F(me)}var me=D(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_d(a)||vd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,bt=null,Jt=null,Ae=null,qu=!1,wa=!1,Vs=!1,Hu=0,Zo=0,Ra=null,d1=0;function ue(){throw Error(s(321))}function df(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!pn(e[a],n[a]))return!1;return!0}function mf(e,n,a,o,h,f){return zi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Bg:xf,Vs=!1,f=a(o,h),Vs=!1,wa&&(f=ag(n,a,o,h)),sg(e),f}function sg(e){H.H=tl;var n=Jt!==null&&Jt.next!==null;if(zi=0,Ae=Jt=bt=null,qu=!1,Zo=0,Ra=null,n)throw Error(s(300));e===null||Se||(e=e.dependencies,e!==null&&Vu(e)&&(Se=!0))}function ag(e,n,a,o){bt=e;var h=0;do{if(wa&&(Ra=null),Zo=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=qg,f=n(a,o)}while(wa);return f}function m1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(bt.flags|=1024),n}function pf(){var e=Hu!==0;return Hu=0,e}function gf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function yf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}zi=0,Ae=Jt=bt=null,wa=!1,Zo=Hu=0,Ra=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if(Jt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ae===null?bt.memoizedState:Ae.next;if(n!==null)Ae=n,Jt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ae===null?bt.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Zo;return Zo+=1,Ra===null&&(Ra=[]),e=Jp(Ra,e,n),n=bt,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Bg:xf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===mt)return qe(e)}throw Error(s(438,String(e)))}function _f(e){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gu(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=M;return n.index++,a}function Bi(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=pe();return vf(n,Jt,e)}function vf(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,P=n,G=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Ct&X)===X:(zi&X)===X){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Ea&&(G=!0);else if((zi&z)===z){P=P.next,z===Ea&&(G=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=X,p=f):I=I.next=X,bt.lanes|=z,Ir|=z;X=P.action,Vs&&a(f,X),f=P.hasEagerState?P.eagerState:a(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,p=f):I=I.next=z,bt.lanes|=X,Ir|=X;P=P.next}while(P!==null&&P!==n);if(I===null?p=f:I.next=E,!pn(f,e.memoizedState)&&(Se=!0,G&&(a=Ta,a!==null)))throw a;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);pn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function og(e,n,a){var o=bt,h=pe(),f=Mt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var p=!pn((Jt||h).memoizedState,a);if(p&&(h.memoizedState=a,Se=!0),h=h.queue,Af(cg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},ug.bind(null,o,h,a,n),null),te===null)throw Error(s(349));f||(zi&127)!==0||lg(o,n,a)}return a}function lg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=Gu(),bt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ug(e,n,a,o){n.value=a,n.getSnapshot=o,hg(n)&&fg(e)}function cg(e,n,a){return a(function(){hg(n)&&fg(e)})}function hg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!pn(e,a)}catch{return!0}}function fg(e){var n=Ss(e,2);n!==null&&cn(n,e,2)}function Tf(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Vs){An(!0);try{a()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function dg(e,n,a,o){return e.baseState=a,vf(e,Jt,typeof o=="function"?o:Bi)}function p1(e,n,a,o,h){if(Xu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,mg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function mg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=a(h,o),I=H.S;I!==null&&I(p,E),pg(e,n,E)}catch(P){bf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=a(h,o),pg(e,n,f)}catch(P){bf(e,n,P)}}function pg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){gg(e,n,o)},function(o){return bf(e,n,o)}):gg(e,n,a)}function gg(e,n,a){n.status="fulfilled",n.value=a,yg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,mg(e,a)))}function bf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,yg(n),n=n.next;while(n!==o)}e.action=null}function yg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function _g(e,n){return n}function vg(e,n){if(Mt){var a=te.formState;if(a!==null){t:{var o=bt;if(Mt){if(ne){e:{for(var h=ne,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Mn(h.nextSibling),o=h.data==="F!";break t}}_r(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:n},a.queue=o,a=jg.bind(null,bt,o),o.dispatch=a,o=Tf(!1),f=Cf.bind(null,bt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=p1.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Eg(e){var n=pe();return Tg(n,Jt,e)}function Tg(e,n,a){if(n=vf(e,n,_g)[0],e=Qu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(p){throw p===ba?Lu:p}else o=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,Ia(9,{destroy:void 0},g1.bind(null,h,a),null)),[o,f,e]}function g1(e,n){e.action=n}function bg(e){var n=pe(),a=Jt;if(a!==null)return Tg(n,a,e);pe(),n=n.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ia(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Gu(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Ag(){return pe().memoizedState}function Ku(e,n,a,o){var h=nn();bt.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},a,o===void 0?null:o)}function Yu(e,n,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&df(o,Jt.memoizedState.deps)?h.memoizedState=Ia(n,f,a,o):(bt.flags|=e,h.memoizedState=Ia(1|n,f,a,o))}function Sg(e,n){Ku(8390656,8,e,n)}function Af(e,n){Yu(2048,8,e,n)}function y1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Gu(),bt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function wg(e){var n=pe().memoizedState;return y1({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Rg(e,n){return Yu(4,2,e,n)}function Ig(e,n){return Yu(4,4,e,n)}function Cg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function xg(e,n,a){a=a!=null?a.concat([e]):null,Yu(4,4,Cg.bind(null,n,e),a)}function Sf(){}function Dg(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&df(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Ng(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),Vs){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[o,n],o}function wf(e,n,a){return a===void 0||(zi&1073741824)!==0&&(Ct&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Oy(),bt.lanes|=e,Ir|=e,a)}function Og(e,n,a,o){return pn(a,n)?a:Sa.current!==null?(e=wf(e,a,o),pn(e,n)||(Se=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Ct&261930)===0?(Se=!0,e.memoizedState=a):(e=Oy(),bt.lanes|=e,Ir|=e,n)}function Vg(e,n,a,o,h){var f=Y.p;Y.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Cf(e,!1,n,a);try{var I=h(),P=H.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=f1(I,o);Wo(e,n,G,Tn(e))}else Wo(e,n,o,Tn(e))}catch(X){Wo(e,n,{then:function(){},status:"rejected",reason:X},Tn())}finally{Y.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function _1(){}function Rf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=Mg(e).queue;Vg(e,h,n,$,a===null?_1:function(){return kg(e),a(o)})}function Mg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:$},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function kg(e){var n=Mg(e);n.next===null&&(n=e.alternate.memoizedState),Wo(e,n.next.queue,{},Tn())}function If(){return qe(gl)}function Lg(){return pe().memoizedState}function Ug(){return pe().memoizedState}function v1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();e=Tr(a);var o=br(n,e,a);o!==null&&(cn(o,n,a),Yo(o,n,a)),n={cache:ef()},e.payload=n;return}n=n.return}}function E1(e,n,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Xu(e)?Pg(n,a):(a=Gh(e,n,a,o),a!==null&&(cn(a,e,o),zg(a,n,o)))}function jg(e,n,a){var o=Tn();Wo(e,n,a,o)}function Wo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Pg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,pn(E,p))return xu(e,n,h,0),te===null&&Cu(),!1}catch{}if(a=Gh(e,n,h,o),a!==null)return cn(a,e,o),zg(a,n,o),!0}return!1}function Cf(e,n,a,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(s(479))}else n=Gh(e,a,o,2),n!==null&&cn(n,e,2)}function Xu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Pg(e,n){wa=qu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function zg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,To(e,a)}}var tl={readContext:qe,use:Fu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};tl.useEffectEvent=ue;var Bg={readContext:qe,use:Fu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Sg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,Cg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(Vs){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(Vs){An(!0);try{a(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=E1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,a=jg.bind(null,bt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Sf,useDeferredValue:function(e,n){var a=nn();return wf(a,e,n)},useTransition:function(){var e=Tf(!1);return e=Vg.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=bt,h=nn();if(Mt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),te===null)throw Error(s(349));(Ct&127)!==0||lg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Sg(cg.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},ug.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=te.identifierPrefix;if(Mt){var a=bi,o=Ti;a=(o&~(1<<32-fe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=d1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:If,useFormState:vg,useActionState:vg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Cf.bind(null,bt,!0,a),a.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return nn().memoizedState=v1.bind(null,bt)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:qe,use:Fu,useCallback:Dg,useContext:qe,useEffect:Af,useImperativeHandle:xg,useInsertionEffect:Rg,useLayoutEffect:Ig,useMemo:Ng,useReducer:Qu,useRef:Ag,useState:function(){return Qu(Bi)},useDebugValue:Sf,useDeferredValue:function(e,n){var a=pe();return Og(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Qu(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:og,useId:Lg,useHostTransitionStatus:If,useFormState:Eg,useActionState:Eg,useOptimistic:function(e,n){var a=pe();return dg(a,Jt,e,n)},useMemoCache:_f,useCacheRefresh:Ug};xf.useEffectEvent=wg;var qg={readContext:qe,use:Fu,useCallback:Dg,useContext:qe,useEffect:Af,useImperativeHandle:xg,useInsertionEffect:Rg,useLayoutEffect:Ig,useMemo:Ng,useReducer:Ef,useRef:Ag,useState:function(){return Ef(Bi)},useDebugValue:Sf,useDeferredValue:function(e,n){var a=pe();return Jt===null?wf(a,e,n):Og(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Ef(Bi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:og,useId:Lg,useHostTransitionStatus:If,useFormState:bg,useActionState:bg,useOptimistic:function(e,n){var a=pe();return Jt!==null?dg(a,Jt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Ug};qg.useEffectEvent=wg;function Df(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:w({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=Tr(o);h.payload=n,a!=null&&(h.callback=a),n=br(e,h,o),n!==null&&(cn(n,e,o),Yo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Tn(),h=Tr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=br(e,h,o),n!==null&&(cn(n,e,o),Yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Tn(),o=Tr(a);o.tag=2,n!=null&&(o.callback=n),n=br(e,o,a),n!==null&&(cn(n,e,a),Yo(n,e,a))}};function Hg(e,n,a,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!zo(a,o)||!zo(h,f):!0}function Gg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function Ms(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Fg(e){Iu(e)}function Qg(e){console.error(e)}function Kg(e){Iu(e)}function Ju(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Yg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,a){return a=Tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(e,n)},a}function Xg(e){return e=Tr(e),e.tag=3,e}function Jg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Yg(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Yg(n,a,o),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function T1(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&va(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?lc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),id(e,o,h)),!1}throw Error(s(435,a.tag))}return id(e,o,h),lc(),!1}if(Mt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(e=Error(s(422),{cause:o}),Ho(xn(e,a)))):(o!==Jh&&(n=Error(s(423),{cause:o}),Ho(xn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,a),h=Of(e.stateNode,o,h),lf(e,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:o});if(f=xn(f,a),ll===null?ll=[f]:ll.push(f),ce!==4&&(ce=2),n===null)return!0;o=xn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Of(a.stateNode,o,e),lf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cr===null||!Cr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Xg(h),Jg(h,e,a,o),lf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(s(461)),Se=!1;function He(e,n,a,o){n.child=e===null?tg(n,null,a,o):Os(n,e.child,a,o)}function Zg(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Cs(n),o=mf(e,n,a,p,f,h),E=pf(),e!==null&&!Se?(gf(e,n,h),qi(e,n,h)):(Mt&&E&&Yh(n),n.flags|=1,He(e,n,o,h),n.child)}function $g(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Wg(e,n,f,o,h)):(e=Nu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(p,o)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function Wg(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,qi(e,n,h)}return Mf(e,n,a,o,h)}function ty(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ey(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?ig(n,f):cf(),rg(n);else return o=n.lanes=536870912,ey(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ku(n,f.cachePool),ig(n,f),Sr(),n.memoizedState=null):(e!==null&&ku(n,null),cf(),Sr());return He(e,n,h,a),n.child}function el(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ey(e,n,a,o,h){var f=rf();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&ku(n,null),cf(),rg(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function Zu(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ny(e,n,a){return Os(n,e.child,null,a),e=Zu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function b1(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Mt){if(o.mode==="hidden")return e=Zu(n,o),n.lanes=536870912,el(null,e);if(ff(n),(e=ne)?(e=m_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Pp(e),a.return=n,n.child=a,Be=n,ne=null)):e=null,e===null)throw _r(n);return n.lanes=536870912,null}return Zu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ny(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||va(e,n,a,!1),h=(a&e.childLanes)!==0,Se||h){if(o=te,o!==null&&(p=bo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ss(e,p),cn(o,e,p),Vf;lc(),n=ny(e,n,a)}else e=f.treeContext,ne=Mn(p.nextSibling),Be=n,Mt=!0,yr=null,On=!1,e!==null&&qp(n,e),n=Zu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Mf(e,n,a,o,h){return Cs(n),a=mf(e,n,a,o,void 0,h),o=pf(),e!==null&&!Se?(gf(e,n,h),qi(e,n,h)):(Mt&&o&&Yh(n),n.flags|=1,He(e,n,a,h),n.child)}function iy(e,n,a,o,h,f){return Cs(n),n.updateQueue=null,a=ag(n,o,a,h),sg(e),o=pf(),e!==null&&!Se?(gf(e,n,f),qi(e,n,f)):(Mt&&o&&Yh(n),n.flags|=1,He(e,n,a,f),n.child)}function ry(e,n,a,o,h){if(Cs(n),n.stateNode===null){var f=pa,p=a.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?qe(p):pa,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Df(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Ms(a,E);f.props=I;var P=f.context,G=a.contextType;p=pa,typeof G=="object"&&G!==null&&(p=qe(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Gg(n,f,o,p),Er=!1;var z=n.memoizedState;f.state=z,Jo(n,o,f,h),Xo(),P=n.memoizedState,E||z!==P||Er?(typeof X=="function"&&(Df(n,a,X,o),P=n.memoizedState),(I=Er||Hg(n,a,I,o,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),p=n.memoizedProps,G=Ms(a,p),f.props=G,X=n.pendingProps,z=f.context,P=a.contextType,I=pa,typeof P=="object"&&P!==null&&(I=qe(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==I)&&Gg(n,f,o,I),Er=!1,z=n.memoizedState,f.state=z,Jo(n,o,f,h),Xo();var q=n.memoizedState;p!==X||z!==q||Er||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(Df(n,a,E,o),q=n.memoizedState),(G=Er||Hg(n,a,G,o,z,q,I)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Os(n,e.child,null,h),n.child=Os(n,null,a,h)):He(e,n,a,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function sy(e,n,a,o){return Rs(),n.flags|=256,He(e,n,a,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:Yp()}}function Uf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=En),e}function ay(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?Ar(n):Sr(),(e=ne)?(e=m_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Pp(e),a.return=n,n.child=a,Be=n,ne=null)):e=null,e===null)throw _r(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Sr(),h=n.mode,E=Wu({mode:"hidden",children:E},h),o=ws(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Lf(a),o.childLanes=Uf(e,p,a),n.memoizedState=kf,el(null,o)):(Ar(n),jf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ar(n),n.flags&=-257,n=Pf(e,n,a)):n.memoizedState!==null?(Sr(),n.child=e.child,n.flags|=128,n=null):(Sr(),E=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),E=ws(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Os(n,e.child,null,a),o=n.child,o.memoizedState=Lf(a),o.childLanes=Uf(e,p,a),n.memoizedState=kf,n=el(null,o));else if(Ar(n),vd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(s(419)),o.stack="",o.digest=p,Ho({value:o,source:null,stack:null}),n=Pf(e,n,a)}else if(Se||va(e,n,a,!1),p=(a&e.childLanes)!==0,Se||p){if(p=te,p!==null&&(o=bo(p,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ss(e,o),cn(p,e,o),Vf;_d(E)||lc(),n=Pf(e,n,a)}else _d(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=Mn(E.nextSibling),Be=n,Mt=!0,yr=null,On=!1,e!==null&&qp(n,e),n=jf(n,o.children),n.flags|=4096);return n}return h?(Sr(),E=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=Li(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=Li(P,E):(E=ws(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,el(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Lf(a):(h=E.cachePool,h!==null?(I=be._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Yp(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Uf(e,p,a),n.memoizedState=kf,el(e.child,o)):(Ar(n),a=e.child,e=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a,n.memoizedState=null,a)}function jf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Pf(e,n,a){return Os(n,e.child,null,a),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function oy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,a)}function zf(e,n,a,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function ly(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(me,p),He(e,n,o,a),o=Mt?qo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oy(e,a,n);else if(e.tag===19)oy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),zf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}zf(n,!0,a,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ir|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Li(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Li(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function A1(e,n,a){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),vr(n,be,e.memoizedState.cache),Rs();break;case 27:case 5:as(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:vr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ay(e,n,a):(Ar(n),e=qi(e,n,a),e!==null?e.sibling:null);Ar(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return ly(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(me,me.current),o)break;return null;case 22:return n.lanes=0,ty(e,n,a,n.pendingProps);case 24:vr(n,be,e.memoizedState.cache)}return qi(e,n,a)}function uy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Bf(e,a)&&(n.flags&128)===0)return Se=!1,A1(e,n,a);Se=(e.flags&131072)!==0}else Se=!1,Mt&&(n.flags&1048576)!==0&&Bp(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ds(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=Ms(e,o),n.tag=1,n=ry(null,n,e,o,a)):(n.tag=0,n=Mf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Pt){n.tag=11,n=Zg(null,n,e,o,a);break t}else if(h===x){n.tag=14,n=$g(null,n,e,o,a);break t}}throw n=Wt(e)||e,Error(s(306,n,""))}}return n;case 0:return Mf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ms(o,n.pendingProps),ry(e,n,o,h,a);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Jo(n,o,null,a);var p=n.memoizedState;if(o=p.cache,vr(n,be,o),o!==f.cache&&tf(n,[be],a,!0),Xo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(e,n,o,a);break t}else if(o!==h){h=xn(Error(s(424)),n),Ho(h),n=sy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Mn(e.firstChild),Be=n,Mt=!0,yr=null,On=!0,a=tg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Rs(),o===h){n=qi(e,n,a);break t}He(e,n,o,a)}n=n.child}return n;case 26:return $u(e,n),e===null?(a=E_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Mt||(a=n.type,e=n.pendingProps,o=pc(At.current).createElement(a),o[ve]=n,o[ke]=e,Ge(o,a,e),Ee(o),n.stateNode=o):n.memoizedState=E_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return as(n),e===null&&Mt&&(o=n.stateNode=y_(n.type,n.pendingProps,At.current),Be=n,On=!0,h=ne,Or(n.type)?(Ed=h,ne=Mn(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,a),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=ne)&&(o=W1(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Be=n,ne=Mn(o.firstChild),On=!1,h=!0):h=!1),h||_r(n)),as(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,m1,null,null,a),gl._currentValue=h),$u(e,n),He(e,n,o,a),n.child;case 6:return e===null&&Mt&&((e=a=ne)&&(a=tb(a,n.pendingProps,On),a!==null?(n.stateNode=a,Be=n,ne=null,e=!0):e=!1),e||_r(n)),null;case 13:return ay(e,n,a);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Os(n,null,o,a):He(e,n,o,a),n.child;case 11:return Zg(e,n,n.type,n.pendingProps,a);case 7:return He(e,n,n.pendingProps,a),n.child;case 8:return He(e,n,n.pendingProps.children,a),n.child;case 12:return He(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,vr(n,n.type,o.value),He(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Cs(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,a),n.child;case 14:return $g(e,n,n.type,n.pendingProps,a);case 15:return Wg(e,n,n.type,n.pendingProps,a);case 19:return ly(e,n,a);case 31:return b1(e,n,a);case 22:return ty(e,n,a,n.pendingProps);case 24:return Cs(n),o=qe(be),e===null?(h=rf(),h===null&&(h=te,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},af(n),vr(n,be,h)):((e.lanes&a)!==0&&(of(e,n),Jo(n,null,null,a),Xo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vr(n,be,o)):(o=f.cache,vr(n,be,o),o!==h.cache&&tf(n,[be],a,!0))),He(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hi(e){e.flags|=4}function qf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ly())e.flags|=8192;else throw Ns=Uu,sf}else e.flags&=-16777217}function cy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!w_(n))if(Ly())e.flags|=8192;else throw Ns=Uu,sf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,Na|=n)}function nl(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function S1(e,n,a){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(be),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_a(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(ie(n),cy(n,f)):(ie(n),qf(n,h,null,o,a))):f?f!==e.memoizedState?(Hi(n),ie(n),cy(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Hi(n),ie(n),qf(n,h,e,o,a)),null;case 27:if(Js(n),a=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=at.current,_a(n)?Hp(n):(e=y_(h,o,a),n.stateNode=e,Hi(n))}return ie(n),null;case 5:if(Js(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(f=at.current,_a(n))Hp(n);else{var p=pc(At.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[ke]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Hi(n)}}return ie(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=At.current,_a(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||a_(e.nodeValue,a)),e||_r(n,!0)}else e=pc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ie(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else a=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),tc(n,n.updateQueue),ie(n),null);case 4:return se(),e===null&&cd(n.stateNode.containerInfo),ie(n),null;case 10:return Pi(n.type),ie(n),null;case 19:if(F(me),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,nl(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)jp(a,e),a=a.sibling;return nt(me,me.current&1|2),Mt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>sc&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Mt)return ie(n),null}else 2*tn()-o.renderingStartTime>sc&&a!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=me.current,nt(me,h?a&1|2:a&1),Mt&&Ui(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return _n(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&tc(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&F(xs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Pi(be),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function w1(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(be),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Js(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));Rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return F(me),null;case 4:return se(),null;case 10:return Pi(n.type),null;case 22:case 23:return _n(n),hf(),e!==null&&F(xs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(be),null;case 25:return null;default:return null}}function hy(e,n){switch(Xh(n),n.tag){case 3:Pi(be),se();break;case 26:case 27:case 5:Js(n);break;case 4:se();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:F(me);break;case 10:Pi(n.type);break;case 22:case 23:_n(n),hf(),e!==null&&F(xs);break;case 24:Pi(be)}}function il(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function wr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=a,P=E;try{P()}catch(G){Yt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Yt(n,n.return,G)}}function fy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{ng(n,a)}catch(o){Yt(e,e.return,o)}}}function dy(e,n,a){a.props=Ms(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Yt(e,n,o)}}function rl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Yt(e,n,h)}}function Ai(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function my(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Hf(e,n,a){try{var o=e.stateNode;K1(o,e.type,a,n),o[ke]=n}catch(h){Yt(e,e.return,h)}}function py(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Or(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,a),e=e.sibling;e!==null;)Ff(e,n,a),e=e.sibling}function ec(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Or(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ec(e,n,a),e=e.sibling;e!==null;)ec(e,n,a),e=e.sibling}function gy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,a),n[ve]=e,n[ke]=a}catch(f){Yt(e,e.return,f)}}var Gi=!1,we=!1,Qf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function R1(e,n){if(e=e.containerInfo,dd=bc,e=xp(e),jh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var p=0,E=-1,I=-1,P=0,G=0,X=e,z=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(I=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===e)break e;if(z===a&&++P===h&&(E=p),z===f&&++G===o&&(I=p),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:e,selectionRange:a},bc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ot=Ms(a.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){Yt(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)yd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function _y(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),o&4&&il(5,a);break;case 1:if(Qi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(a,a.return,p)}else{var h=Ms(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(a,a.return,p)}}o&64&&fy(a),o&512&&rl(a,a.return);break;case 3:if(Qi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ng(e,n)}catch(p){Yt(a,a.return,p)}}break;case 27:n===null&&o&4&&gy(a);case 26:case 5:Qi(e,a),n===null&&o&4&&my(a),o&512&&rl(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),o&4&&Ty(e,a);break;case 13:Qi(e,a),o&4&&by(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=k1.bind(null,a),eb(e,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||we,h=Gi;var f=we;Gi=o,(we=n)&&!f?Ki(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Gi=h,we=f}break;case 30:break;default:Qi(e,a)}}function vy(e){var n=e.alternate;n!==null&&(e.alternate=null,vy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Fi(e,n,a){for(a=a.child;a!==null;)Ey(e,n,a),a=a.sibling}function Ey(e,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Pn,a)}catch{}switch(a.tag){case 26:we||Ai(a,n),Fi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||Ai(a,n);var o=oe,h=an;Or(a.type)&&(oe=a.stateNode,an=!1),Fi(e,n,a),dl(a.stateNode),oe=o,an=h;break;case 5:we||Ai(a,n);case 6:if(o=oe,h=an,oe=null,Fi(e,n,a),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{oe.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:oe!==null&&(an?(e=oe,f_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Pa(e)):f_(oe,a.stateNode));break;case 4:o=oe,h=an,oe=a.stateNode.containerInfo,an=!0,Fi(e,n,a),oe=o,an=h;break;case 0:case 11:case 14:case 15:wr(2,a,n),we||wr(4,a,n),Fi(e,n,a);break;case 1:we||(Ai(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&dy(a,n,o)),Fi(e,n,a);break;case 21:Fi(e,n,a);break;case 22:we=(o=we)||a.memoizedState!==null,Fi(e,n,a),we=o;break;default:Fi(e,n,a)}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(a){Yt(n,n.return,a)}}}function by(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(a){Yt(n,n.return,a)}}function I1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new yy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new yy),n;default:throw Error(s(435,e.tag))}}function nc(e,n){var a=I1(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=L1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Or(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(s(160));Ey(f,p,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ay(n,e),n=n.sibling}var Xn=null;function Ay(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(wr(3,e,e.return),il(3,e),wr(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(we||a===null||Ai(a,a.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(on(n,e),ln(e),o&512&&(we||a===null||Ai(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,a),f[ve]=e,Ee(f),o=f;break t;case"link":var p=A_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;case"meta":if(p=A_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else S_(h,e.type,e.stateNode);else e.stateNode=b_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?S_(h,e.type,e.stateNode):b_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,a.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(we||a===null||Ai(a,a.return)),a!==null&&o&4&&Hf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(we||a===null||Ai(a,a.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ot){Yt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ot){Yt(e,e.return,ot)}}break;case 3:if(_c=null,h=Xn,Xn=gc(n.containerInfo),on(n,e),Xn=h,ln(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(ot){Yt(e,e.return,ot)}Qf&&(Qf=!1,Sy(e));break;case 4:o=Xn,Xn=gc(e.stateNode.containerInfo),on(n,e),ln(e),Xn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,P=Gi,G=we;if(Gi=P||h,we=G||I,on(n,e),we=G,Gi=P,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Gi||we||ks(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var X=I.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Yt(I,I.return,ot)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ot){Yt(I,I.return,ot)}}}else if(n.tag===18){if(a===null){I=n;try{var q=I.stateNode;h?d_(q,!0):d_(I.stateNode,!1)}catch(ot){Yt(I,I.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,nc(e,a))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(py(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Gf(e);ec(e,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(sn(p,""),a.flags&=-33);var E=Gf(e);ec(e,E,p);break;case 3:case 4:var I=a.stateNode.containerInfo,P=Gf(e);Ff(e,P,I);break;default:throw Error(s(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(e,n.alternate,n),n=n.sibling}function ks(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wr(4,n,n.return),ks(n);break;case 1:Ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&dy(n,n.return,a),ks(n);break;case 27:dl(n.stateNode);case 26:case 5:Ai(n,n.return),ks(n);break;case 22:n.memoizedState===null&&ks(n);break;case 30:ks(n);break;default:ks(n)}e=e.sibling}}function Ki(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),il(4,f);break;case 1:if(Ki(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Yt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)eg(I[h],E)}catch(P){Yt(o,o.return,P)}}a&&p&64&&fy(f),rl(f,f.return);break;case 27:gy(f);case 26:case 5:Ki(h,f,a),a&&o===null&&p&4&&my(f),rl(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&p&4&&Ty(h,f);break;case 13:Ki(h,f,a),a&&p&4&&by(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),rl(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Kf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function Jn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(e,n,a,o),n=n.sibling}function wy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,a,o),h&2048&&il(9,n);break;case 1:Jn(e,n,a,o);break;case 3:Jn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){Jn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Jn(e,n,a,o);break;case 31:Jn(e,n,a,o);break;case 13:Jn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(e,n,a,o):sl(e,n):f._visibility&2?Jn(e,n,a,o):(f._visibility|=2,Ca(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:Jn(e,n,a,o),h&2048&&Yf(n.alternate,n);break;default:Jn(e,n,a,o)}}function Ca(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=a,I=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ca(f,p,E,I,h),il(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ca(f,p,E,I,h):sl(f,p):(G._visibility|=2,Ca(f,p,E,I,h)),h&&P&2048&&Kf(p.alternate,p);break;case 24:Ca(f,p,E,I,h),h&&P&2048&&Yf(p.alternate,p);break;default:Ca(f,p,E,I,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:sl(a,o),h&2048&&Kf(o.alternate,o);break;case 24:sl(a,o),h&2048&&Yf(o.alternate,o);break;default:sl(a,o)}n=n.sibling}}var al=8192;function xa(e,n,a){if(e.subtreeFlags&al)for(e=e.child;e!==null;)Ry(e,n,a),e=e.sibling}function Ry(e,n,a){switch(e.tag){case 26:xa(e,n,a),e.flags&al&&e.memoizedState!==null&&db(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,a);break;case 3:case 4:var o=Xn;Xn=gc(e.stateNode.containerInfo),xa(e,n,a),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,xa(e,n,a),al=o):xa(e,n,a));break;default:xa(e,n,a)}}function Iy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,xy(o,e)}Iy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cy(e),e=e.sibling}function Cy(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&wr(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):ol(e);break;default:ol(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ue=o,xy(o,e)}Iy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wr(8,n,n.return),ic(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function xy(e,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:wr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ue=o;else t:for(a=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(vy(o),o===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var C1={getCacheForType:function(e){var n=qe(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return qe(be).controller.signal}},x1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Rt=null,Ct=0,Kt=0,vn=null,Rr=!1,Da=!1,Xf=!1,Yi=0,ce=0,Ir=0,Ls=0,Jf=0,En=0,Na=0,ll=null,un=null,Zf=!1,rc=0,Dy=0,sc=1/0,ac=null,Cr=null,Oe=0,xr=null,Oa=null,Xi=0,$f=0,Wf=null,Ny=null,ul=0,td=null;function Tn(){return(Ht&2)!==0&&Ct!==0?Ct&-Ct:H.T!==null?ad():ou()}function Oy(){if(En===0)if((Ct&536870912)===0||Mt){var e=us;us<<=1,(us&3932160)===0&&(us=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Dr(e,Ct,En,!1)),cs(e,a),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Ls|=a),ce===4&&Dr(e,Ct,En,!1)),Si(e))}function Vy(e,n,a){if((Ht&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?O1(e,n):nd(e,n,!0),f=o;do{if(h===0){Da&&!o&&Dr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!D1(a)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=ll;var I=E.current.memoizedState.isDehydrated;if(I&&(Va(E,p).flags|=256),p=nd(E,p,!1),p!==2){if(Xf&&!I){E.errorRecoveryDisabledLanes|=f,Ls|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),Dr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Dr(o,n,En,!Rr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=rc+300-tn(),10<h)){if(Dr(o,n,En,!Rr),ai(o,0,!0)!==0)break t;Xi=n,o.timeoutHandle=c_(My.bind(null,o,a,un,ac,Zf,n,En,Ls,Na,Rr,f,"Throttled",-0,0),h);break t}My(o,a,un,ac,Zf,n,En,Ls,Na,Rr,f,null,-0,0)}}break}while(!0);Si(e)}function My(e,n,a,o,h,f,p,E,I,P,G,X,z,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Ry(n,f,X);var ot=(f&62914560)===f?rc-tn():(f&4194048)===f?Dy-tn():0;if(ot=mb(X,ot),ot!==null){Xi=f,e.cancelPendingCommit=ot(qy.bind(null,e,n,f,a,o,h,p,E,I,G,X,null,z,q)),Dr(e,f,p,!P);return}}qy(e,n,f,a,o,h,p,E,I)}function D1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(e,n,a,o){n&=~Jf,n&=~Ls,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&hs(e,a,n)}function oc(){return(Ht&6)===0?(cl(0),!1):!0}function ed(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,ji=Is=null,yf(e),Aa=null,Qo=0,e=Rt;for(;e!==null;)hy(e.alternate,e),e=e.return;Rt=null}}function Va(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,J1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xi=0,ed(),te=e,Rt=a=Li(e.current,null),Ct=n,Kt=0,vn=null,Rr=!1,Da=zn(e,n),Xf=!1,Na=En=Jf=Ls=Ir=ce=0,un=ll=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Yi=n,Cu(),a}function ky(e,n){bt=null,H.H=tl,n===ba||n===Lu?(n=Zp(),Kt=3):n===sf?(n=Zp(),Kt=4):Kt=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Rt===null&&(ce=1,Ju(e,xn(n,e.current)))}function Ly(){var e=yn.current;return e===null?!0:(Ct&4194048)===Ct?Vn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?e===Vn:!1}function Uy(){var e=H.H;return H.H=tl,e===null?tl:e}function jy(){var e=H.A;return H.A=C1,e}function lc(){ce=4,Rr||(Ct&4194048)!==Ct&&yn.current!==null||(Da=!0),(Ir&134217727)===0&&(Ls&134217727)===0||te===null||Dr(te,Ct,En,!1)}function nd(e,n,a){var o=Ht;Ht|=2;var h=Uy(),f=jy();(te!==e||Ct!==n)&&(ac=null,Va(e,n)),n=!1;var p=ce;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,I=vn;switch(Kt){case 8:ed(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var P=Kt;if(Kt=0,vn=null,Ma(e,E,I,P),a&&Da){p=0;break t}break;default:P=Kt,Kt=0,vn=null,Ma(e,E,I,P)}}N1(),p=ce;break}catch(G){ky(e,G)}while(!0);return n&&e.shellSuspendCounter++,ji=Is=null,Ht=o,H.H=h,H.A=f,Rt===null&&(te=null,Ct=0,Cu()),p}function N1(){for(;Rt!==null;)Py(Rt)}function O1(e,n){var a=Ht;Ht|=2;var o=Uy(),h=jy();te!==e||Ct!==n?(ac=null,sc=tn()+500,Va(e,n)):Da=zn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,Ma(e,n,f,1);break;case 2:case 9:if(Xp(f)){Kt=0,vn=null,zy(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Si(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Xp(f)?(Kt=0,vn=null,zy(n)):(Kt=0,vn=null,Ma(e,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(p?w_(p):E.stateNode.complete){Kt=0,vn=null;var I=E.sibling;if(I!==null)Rt=I;else{var P=E.return;P!==null?(Rt=P,uc(P)):Rt=null}break e}}Kt=0,vn=null,Ma(e,n,f,5);break;case 6:Kt=0,vn=null,Ma(e,n,f,6);break;case 8:ed(),ce=6;break t;default:throw Error(s(462))}}V1();break}catch(G){ky(e,G)}while(!0);return ji=Is=null,H.H=o,H.A=h,Ht=a,Rt!==null?0:(te=null,Ct=0,Cu(),ce)}function V1(){for(;Rt!==null&&!Nh();)Py(Rt)}function Py(e){var n=uy(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?uc(e):Rt=n}function zy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=iy(a,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=iy(a,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:yf(n);default:hy(a,n),n=Rt=jp(n,Yi),n=uy(a,n,Yi)}e.memoizedProps=e.pendingProps,n===null?uc(e):Rt=n}function Ma(e,n,a,o){ji=Is=null,yf(n),Aa=null,Qo=0;var h=n.return;try{if(T1(e,h,n,a,Ct)){ce=1,Ju(e,xn(a,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,Ju(e,xn(a,e.current)),Rt=null;return}n.flags&32768?(Mt||o===1?e=!0:Da||(Ct&536870912)!==0?e=!1:(Rr=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),By(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){By(n,Rr);return}e=n.return;var a=S1(n.alternate,n,Yi);if(a!==null){Rt=a;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function By(e,n){do{var a=w1(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);ce=6,Rt=null}function qy(e,n,a,o,h,f,p,E,I){e.cancelPendingCommit=null;do cc();while(Oe!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Hh,Mh(e,a,f,p,E,I),e===te&&(Rt=te=null,Ct=0),Oa=n,xr=e,Xi=a,$f=f,Wf=h,Ny=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,U1(ar,function(){return Ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=Y.p,Y.p=2,p=Ht,Ht|=4;try{R1(e,n,a)}finally{Ht=p,Y.p=h,H.T=o}}Oe=1,Hy(),Gy(),Fy()}}function Hy(){if(Oe===1){Oe=0;var e=xr,n=Oa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=Y.p;Y.p=2;var h=Ht;Ht|=4;try{Ay(n,e);var f=md,p=xp(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Cp(E.ownerDocument.documentElement,E)){if(I!==null&&jh(E)){var P=I.start,G=I.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),ot=E.textContent.length,ft=Math.min(I.start,ot),$t=I.end===void 0?ft:Math.min(I.end,ot);!q.extend&&ft>$t&&(p=$t,$t=ft,ft=p);var k=Ip(E,ft),N=Ip(E,$t);if(k&&N&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var j=X.createRange();j.setStart(k.node,k.offset),q.removeAllRanges(),ft>$t?(q.addRange(j),q.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),q.addRange(j))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}bc=!!dd,md=dd=null}finally{Ht=h,Y.p=o,H.T=a}}e.current=n,Oe=2}}function Gy(){if(Oe===2){Oe=0;var e=xr,n=Oa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=Y.p;Y.p=2;var h=Ht;Ht|=4;try{_y(e,n.alternate,n)}finally{Ht=h,Y.p=o,H.T=a}}Oe=3}}function Fy(){if(Oe===4||Oe===3){Oe=0,tu();var e=xr,n=Oa,a=Xi,o=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Oa=xr=null,Qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cr=null),Oi(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=Y.p,Y.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,Y.p=h}}(Xi&3)!==0&&cc(),Si(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===td?ul++:(ul=0,td=e):ul=0,cl(0)}}function Qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function cc(){return Hy(),Gy(),Fy(),Ky()}function Ky(){if(Oe!==5)return!1;var e=xr,n=$f;$f=0;var a=Oi(Xi),o=H.T,h=Y.p;try{Y.p=32>a?32:a,H.T=null,a=Wf,Wf=null;var f=xr,p=Xi;if(Oe=0,Oa=xr=null,Xi=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Cy(f.current),wy(f,f.current,p,a),Ht=E,cl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{Y.p=h,H.T=o,Qy(e,n)}}function Yy(e,n,a){n=xn(a,n),n=Of(e.stateNode,n,2),e=br(e,n,2),e!==null&&(cs(e,2),Si(e))}function Yt(e,n,a){if(e.tag===3)Yy(e,e,a);else for(;n!==null;){if(n.tag===3){Yy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cr===null||!Cr.has(o))){e=xn(a,e),a=Xg(2),o=br(n,a,2),o!==null&&(Jg(a,o,n,e),cs(o,2),Si(o));break}}n=n.return}}function id(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new x1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Xf=!0,h.add(a),e=M1.bind(null,e,n,a),n.then(e,e))}function M1(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Ct&a)===a&&(ce===4||ce===3&&(Ct&62914560)===Ct&&300>tn()-rc?(Ht&2)===0&&Va(e,0):Jf|=a,Na===Ct&&(Na=0)),Si(e)}function Xy(e,n){n===0&&(n=au()),e=Ss(e,n),e!==null&&(cs(e,n),Si(e))}function k1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Xy(e,a)}function L1(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Xy(e,a)}function U1(e,n){return Ne(e,n)}var hc=null,ka=null,rd=!1,fc=!1,sd=!1,Nr=0;function Si(e){e!==ka&&e.next===null&&(ka===null?hc=ka=e:ka=ka.next=e),fc=!0,rd||(rd=!0,P1())}function cl(e,n){if(!sd&&fc){sd=!0;do for(var a=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Wy(o,f))}else f=Ct,f=ai(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,Wy(o,f));o=o.next}while(a);sd=!1}}function j1(){Jy()}function Jy(){fc=rd=!1;var e=0;Nr!==0&&X1()&&(e=Nr);for(var n=tn(),a=null,o=hc;o!==null;){var h=o.next,f=Zy(o,n);f===0?(o.next=null,a===null?hc=h:a.next=h,h===null&&(ka=a)):(a=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}Oe!==0&&Oe!==5||cl(e),Nr!==0&&(Nr=0)}function Zy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-fe(f),E=1<<p,I=h[p];I===-1?((E&a)===0||(E&o)!==0)&&(h[p]=Vh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,a=Ct,a=ai(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&sr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&sr(o),Oi(a)){case 2:case 8:a=Eo;break;case 32:a=ar;break;case 268435456:a=eu;break;default:a=ar}return o=$y.bind(null,e),a=Ne(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&sr(o),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(cc()&&e.callbackNode!==a)return null;var o=Ct;return o=ai(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Vy(e,o,n),Zy(e,tn()),e.callbackNode!=null&&e.callbackNode===a?$y.bind(null,e):null)}function Wy(e,n){if(cc())return null;Vy(e,n,!0)}function P1(){Z1(function(){(Ht&6)!==0?Ne(vo,j1):Jy()})}function ad(){if(Nr===0){var e=Ea;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Nr=e}return Nr}function t_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function e_(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function z1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=t_((h[ke]||null).action),p=o.submitter;p&&(n=(n=p[ke]||null)?t_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new yi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nr!==0){var I=p?e_(h,p):new FormData(h);Rf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?e_(h,p):new FormData(h),Rf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],B1=ld.toLowerCase(),q1=ld[0].toUpperCase()+ld.slice(1);Yn(B1,"on"+q1)}Yn(Op,"onAnimationEnd"),Yn(Vp,"onAnimationIteration"),Yn(Mp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(r1,"onTransitionRun"),Yn(s1,"onTransitionStart"),Yn(a1,"onTransitionCancel"),Yn(kp,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function n_(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Iu(G)}h.currentTarget=null,f=I}}}}function It(e,n){var a=n[ta];a===void 0&&(a=n[ta]=new Set);var o=e+"__bubble";a.has(o)||(i_(n,e,2,!1),a.add(o))}function ud(e,n,a){var o=0;n&&(o|=4),i_(a,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[dc]){e[dc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(H1.has(a)||ud(a,!1,e),ud(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,ud("selectionchange",!1,n))}}function i_(e,n,a,o){switch(O_(n)){case 2:var h=yb;break;case 8:h=_b;break;default:h=wd}a=h.bind(null,n,a,e),h=void 0,!gs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function hd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ci(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}E=E.parentNode}}o=o.return}fr(function(){var P=f,G=wn(a),X=[];t:{var z=Lp.get(e);if(z!==void 0){var q=yi,ot=e;switch(e){case"keypress":if(_s(a)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":ot="focus",q=Es;break;case"focusout":ot="blur",q=Es;break;case"beforeblur":case"afterblur":q=Es;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Op:case Vp:case Mp:q=yu;break;case kp:q=b;break;case"scroll":case"scrollend":q=ko;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ki;break;case"toggle":case"beforetoggle":q=Tt}var ft=(n&4)!==0,$t=!ft&&(e==="scroll"||e==="scrollend"),k=ft?z!==null?z+"Capture":null:z;ft=[];for(var N=P,j;N!==null;){var Q=N;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||k===null||(Q=Gn(N,k),Q!=null&&ft.push(fl(N,Q,j))),$t)break;N=N.return}0<ft.length&&(z=new q(z,ot,null,a,G),X.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Oo&&(ot=a.relatedTarget||a.fromElement)&&(ci(ot)||ot[li]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=P,ot=ot?ci(ot):null,ot!==null&&($t=c(ot),ft=ot.tag,ot!==$t||ft!==5&&ft!==27&&ft!==6)&&(ot=null)):(q=null,ot=P),q!==ot)){if(ft=Lo,Q="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ft=ki,Q="onPointerLeave",k="onPointerEnter",N="pointer"),$t=q==null?z:dn(q),j=ot==null?z:dn(ot),z=new ft(Q,N+"leave",q,a,G),z.target=$t,z.relatedTarget=j,Q=null,ci(G)===P&&(ft=new ft(k,N+"enter",ot,a,G),ft.target=j,ft.relatedTarget=$t,Q=ft),$t=Q,q&&ot)e:{for(ft=G1,k=q,N=ot,j=0,Q=k;Q;Q=ft(Q))j++;Q=0;for(var ut=N;ut;ut=ft(ut))Q++;for(;0<j-Q;)k=ft(k),j--;for(;0<Q-j;)N=ft(N),Q--;for(;j--;){if(k===N||N!==null&&k===N.alternate){ft=k;break e}k=ft(k),N=ft(N)}ft=null}else ft=null;q!==null&&r_(X,z,q,ft,!1),ot!==null&&$t!==null&&r_(X,$t,ot,ft,!0)}}t:{if(z=P?dn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var zt=Tp;else if(vp(z))if(bp)zt=e1;else{zt=WT;var lt=$T}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ra(P.elementType)&&(zt=Tp):zt=t1;if(zt&&(zt=zt(e,P))){Ep(X,zt,a,G);break t}lt&&lt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&xo(z,"number",z.value)}switch(lt=P?dn(P):window,e){case"focusin":(vp(lt)||lt.contentEditable==="true")&&(fa=lt,Ph=P,Bo=null);break;case"focusout":Bo=Ph=fa=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Dp(X,a,G);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":Dp(X,a,G)}var St;if(qt)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else ha?Ts(e,a)&&(xt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xt="onCompositionStart");xt&&(Ei&&a.locale!=="ko"&&(ha||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&ha&&(St=Mo()):(gi=G,Vo="value"in gi?gi.value:gi.textContent,ha=!0)),lt=mc(P,xt),0<lt.length&&(xt=new vi(xt,e,null,a,G),X.push({event:xt,listeners:lt}),St?xt.data=St:(St=ca(a),St!==null&&(xt.data=St)))),(St=In?YT(e,a):XT(e,a))&&(xt=mc(P,"onBeforeInput"),0<xt.length&&(lt=new vi("onBeforeInput","beforeinput",null,a,G),X.push({event:lt,listeners:xt}),lt.data=St)),z1(X,e,P,a,G)}n_(X,n)})}function fl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function mc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,a),h!=null&&o.unshift(fl(e,h,f)),h=Gn(e,n),h!=null&&o.push(fl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function G1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r_(e,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=Gn(a,f),P!=null&&p.unshift(fl(a,P,I))):h||(P=Gn(a,f),P!=null&&p.push(fl(a,P,I)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var F1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function s_(e){return(typeof e=="string"?e:""+e).replace(F1,`
`).replace(Q1,"")}function a_(e,n){return n=s_(n),s_(e)===n}function Zt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":It("beforetoggle",e),It("toggle",e),na(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,na(e,a,o))}}function fd(e,n,a,o,h,f){switch(a){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):na(e,a,o)}}}function Ge(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,f,p,a,null)}}h&&Zt(e,n,"srcSet",a.srcSet,a,null),o&&Zt(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var E=f=p=h=null,I=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Zt(e,n,o,G,a,null)}}hu(e,f,E,I,P,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Zt(e,n,h,E,a,null)}n=f,a=p,e.multiple=!!o,n!=null?lr(e,!!o,n,!1):a!=null&&lr(e,!!o,a,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,n,p,E,a,null)}ur(e,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,I,o,a,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<hl.length;o++)It(hl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(e,n,P,o,a,null)}return;default:if(ra(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&fd(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,n,E,o,a,null))}function K1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,P=null,G=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,X)}}for(var z in o){var q=o[z];if(X=a[z],o.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==X&&Zt(e,n,z,q,o,X)}}ia(e,p,E,I,P,G,f,h);return;case"select":q=p=E=z=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&Zt(e,n,h,f,o,I)}n=E,a=p,o=q,z!=null?lr(e,!!a,z,!1):!!o!=!!a&&(n!=null?lr(e,!!a,n,!0):lr(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(e,n,p,h,o,f)}fu(e,z,q);return;case"option":for(var ot in a)z=a[ot],a.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:Zt(e,n,ot,null,o,z));for(I in o)z=o[I],q=a[I],o.hasOwnProperty(I)&&z!==q&&(z!=null||q!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,I,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Zt(e,n,ft,null,o,z);for(P in o)if(z=o[P],q=a[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Zt(e,n,P,z,o,q)}return;default:if(ra(n)){for(var $t in a)z=a[$t],a.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&fd(e,n,$t,void 0,o,z);for(G in o)z=o[G],q=a[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||fd(e,n,G,z,o,q);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Zt(e,n,k,null,o,z);for(X in o)z=o[X],q=a[X],!o.hasOwnProperty(X)||z===q||z==null&&q==null||Zt(e,n,X,z,o,q)}function o_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&o_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],P=I.startTime;if(P>E)break;var G=I.transferSize,X=I.initiatorType;G&&o_(X)&&(I=I.responseEnd,p+=G*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function l_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function X1(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(e){return h_.resolve(null).then(e).catch($1)}:c_;function $1(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function f_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Pa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")dl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,dl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&dl(e.ownerDocument.body);a=h}while(a);Pa(n)}function d_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function W1(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function tb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Mn(e.nextSibling),e===null))return null;return e}function m_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function p_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Mn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function g_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function y_(e,n,a){switch(n=pc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function dl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var kn=new Map,__=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=Y.d;Y.d={f:nb,r:ib,D:rb,C:sb,L:ab,m:ob,X:ub,S:lb,M:cb};function nb(){var e=Ji.f(),n=oc();return e||n}function ib(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?kg(n):Ji.r(e)}var La=typeof document>"u"?null:document;function v_(e,n,a){var o=La;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),__.has(h)||(__.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function rb(e){Ji.D(e),v_("dns-prefetch",e,null)}function sb(e,n){Ji.C(e,n),v_("preconnect",e,n)}function ab(e,n,a){Ji.L(e,n,a);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=ja(e)}kn.has(f)||(e=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(pl(f))||(n=o.createElement("link"),Ge(n,"link",e),Ee(n),o.head.appendChild(n)))}}function ob(e,n){Ji.m(e,n);var a=La;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!kn.has(f)&&(e=w({rel:"modulepreload",href:e},n),kn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(f)))return}o=a.createElement("link"),Ge(o,"link",e),Ee(o),a.head.appendChild(o)}}}function lb(e,n,a){Ji.S(e,n,a);var o=La;if(o&&e){var h=hi(o).hoistableStyles,f=Ua(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ml(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},a),(a=kn.get(f))&&Td(e,a);var I=p=o.createElement("link");Ee(I),Ge(I,"link",e),I._p=new Promise(function(P,G){I.onload=P,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function ub(e,n){Ji.X(e,n);var a=La;if(a&&e){var o=hi(a).hoistableScripts,h=ja(e),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(e=w({src:e,async:!0},n),(n=kn.get(h))&&bd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cb(e,n){Ji.M(e,n);var a=La;if(a&&e){var o=hi(a).hoistableScripts,h=ja(e),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&bd(e,n),f=a.createElement("script"),Ee(f),Ge(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function E_(e,n,a,o){var h=(h=At.current)?gc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ua(a.href),a=hi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ua(a.href);var f=hi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ml(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(e,a),f||hb(h,e,a,p.state))),n&&o===null)throw Error(s(528,""));return p}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(a),a=hi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ua(e){return'href="'+rn(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function T_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function hb(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",a),Ee(n),e.head.appendChild(n))}function ja(e){return'[src="'+rn(e)+'"]'}function pl(e){return"script[async]"+e}function b_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),Ge(o,"style",h),yc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ua(a.href);var f=e.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=T_(a),(h=kn.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ge(f,"link",o),n.state.loading|=4,yc(f,a.precedence,e),n.instance=f;case"script":return f=ja(a.src),(h=e.querySelector(pl(f)))?(n.instance=h,Ee(h),h):(o=a,(h=kn.get(f))&&(o=w({},a),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,a.precedence,e));return n.instance}function yc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function A_(e,n,a){if(_c===null){var o=new Map,h=_c=new Map;h.set(a,o)}else h=_c,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function S_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function fb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function db(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ua(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ee(f);return}f=n.ownerDocument||n,o=T_(o),(h=kn.get(h))&&Td(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Ge(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=vc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ad=0;function mb(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*Y1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,n.forEach(pb,e),Ec=null,vc.call(e))}function pb(e,n){if(!(n.state.loading&4)){var a=Ec.get(e);if(a)var o=a.get(null);else{a=new Map,Ec.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function gb(e,n,a,o,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function R_(e,n,a,o,h,f,p,E,I,P,G,X){return e=new gb(e,n,a,p,I,P,G,X,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},af(f),e}function I_(e){return e?(e=pa,e):pa}function C_(e,n,a,o,h,f){h=I_(h),o.context===null?o.context=h:o.pendingContext=h,o=Tr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=br(e,o,n),a!==null&&(cn(a,e,n),Yo(a,e,n))}function x_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Sd(e,n){x_(e,n),(e=e.alternate)&&x_(e,n)}function D_(e){if(e.tag===13||e.tag===31){var n=Ss(e,67108864);n!==null&&cn(n,e,67108864),Sd(e,67108864)}}function N_(e){if(e.tag===13||e.tag===31){var n=Tn();n=fs(n);var a=Ss(e,n);a!==null&&cn(a,e,n),Sd(e,n)}}var bc=!0;function yb(e,n,a,o){var h=H.T;H.T=null;var f=Y.p;try{Y.p=2,wd(e,n,a,o)}finally{Y.p=f,H.T=h}}function _b(e,n,a,o){var h=H.T;H.T=null;var f=Y.p;try{Y.p=8,wd(e,n,a,o)}finally{Y.p=f,H.T=h}}function wd(e,n,a,o){if(bc){var h=Rd(o);if(h===null)hd(e,n,o,Ac,a),V_(e,o);else if(Eb(h,e,n,a,o))o.stopPropagation();else if(V_(e,o),n&4&&-1<vb.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=si(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-fe(p);E.entanglements[1]|=I,p&=~I}Si(f),(Ht&6)===0&&(sc=tn()+500,cl(0))}}break;case 31:case 13:E=Ss(f,2),E!==null&&cn(E,f,2),oc(),Sd(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,a)}}function Rd(e){return e=wn(e),Id(e)}var Ac=null;function Id(e){if(Ac=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=g(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function O_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case vo:return 2;case Eo:return 8;case ar:case Oh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Cd=!1,Vr=null,Mr=null,kr=null,yl=new Map,_l=new Map,Lr=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(e,n){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&D_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Eb(e,n,a,o,h){switch(n){case"focusin":return Vr=vl(Vr,e,n,a,o,h),!0;case"dragenter":return Mr=vl(Mr,e,n,a,o,h),!0;case"mouseover":return kr=vl(kr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,e,n,a,o,h)),!0}return!1}function M_(e){var n=ci(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){N_(a)});return}}else if(n===31){if(n=g(a),n!==null){e.blockedOn=n,Bn(e.priority,function(){N_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Rd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Oo=o,a.target.dispatchEvent(o),Oo=null}else return n=Sn(a),n!==null&&D_(n),e.blockedOn=a,!1;n.shift()}return!0}function k_(e,n,a){Sc(e)&&a.delete(n)}function Tb(){Cd=!1,Vr!==null&&Sc(Vr)&&(Vr=null),Mr!==null&&Sc(Mr)&&(Mr=null),kr!==null&&Sc(kr)&&(kr=null),yl.forEach(k_),_l.forEach(k_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tb)))}var Rc=null;function L_(e){Rc!==e&&(Rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Id(o||a)===null)continue;break}var f=Sn(a);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Pa(e){function n(I){return wc(I,e)}Vr!==null&&wc(Vr,e),Mr!==null&&wc(Mr,e),kr!==null&&wc(kr,e),yl.forEach(n),_l.forEach(n);for(var a=0;a<Lr.length;a++){var o=Lr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)M_(a),a.blockedOn===null&&Lr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[ke]||null;if(typeof f=="function")p||L_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Id(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),L_(a)}}}function U_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Ic.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Tn();C_(a,o,e,n,null,null)},Ic.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;C_(e.current,2,null,e,null,null),oc(),n[li]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Lr.length&&n!==0&&n<Lr[a].priority;a++);Lr.splice(a,0,e),a===0&&M_(e)}};var j_=t.version;if(j_!=="19.2.4")throw Error(s(527,j_,"19.2.4"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var bb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Pn=Cc.inject(bb),Pe=Cc}catch{}}return Tl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Fg,f=Qg,p=Kg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=R_(e,1,!1,null,null,a,o,null,h,f,p,U_),e[li]=n.current,cd(e),new xd(n)},Tl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Fg,p=Qg,E=Kg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=R_(e,1,!0,n,a??null,o,h,I,f,p,E,U_),n.context=I_(null),a=n.current,o=Tn(),o=fs(o),h=Tr(o),h.callback=null,br(a,h,o),a=o,n.current.lanes=a,cs(n,a),Si(n),e[li]=n.current,cd(e),new Ic(n)},Tl.version="19.2.4",Tl}var Y_;function Ob(){if(Y_)return Od.exports;Y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=Nb(),Od.exports}var Vb=Ob();const Mb=()=>{};var X_={};const w0=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},kb=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(v>>10)),t[s++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,A=c>>2,w=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,K=y&63;v||(K=64,d||(V=64)),s.push(i[A],i[w],i[V],i[K])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(w0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):kb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||w==null)throw new Lb;const V=c<<2|g>>4;if(s.push(V),y!==64){const K=g<<4&240|y>>2;if(s.push(K),w!==64){const W=y<<6&192|w;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ub=function(r){const t=w0(r);return R0.encodeByteArray(t,!0)},Kc=function(r){return Ub(r).replace(/\./g,"")},I0=function(r){try{return R0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pb=()=>jb().__FIREBASE_DEFAULTS__,zb=()=>{if(typeof process>"u"||typeof X_>"u")return;const r=X_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Bb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&I0(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return Mb()||Pb()||zb()||Bb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C0=r=>hh()?.emulatorHosts?.[r],qb=r=>{const t=C0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},x0=()=>hh()?.config,D0=r=>hh()?.[`_${r}`];class Hb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(r){return(await fetch(r,{credentials:"include"})).ok}function Gb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const Il={};function Fb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function Qb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let J_=!1;function O0(r,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Il[r]===t||Il[r]||J_)return;Il[r]=t;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=Fb().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,K){V.setAttribute("width","24"),V.setAttribute("id",K),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{J_=!0,d()},V}function A(V,K){V.setAttribute("id",K),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function w(){const V=Qb(s),K=i("text"),W=document.getElementById(K)||document.createElement("span"),et=i("learnmore"),it=document.getElementById(et)||document.createElement("a"),ht=i("preprendIcon"),Et=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const mt=V.element;g(mt),A(it,et);const Pt=y();v(Et,ht),mt.append(Et,W,it,Pt),document.body.appendChild(mt)}c?(W.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function Yb(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $b(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Wb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function eA(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const nA="FirebaseError";class rr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=nA,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?iA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new rr(l,g,s)}}function iA(r,t){return r.replace(rA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const rA=/\{\$([^}]+)}/g;function sA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function qs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(Z_(c)&&Z_(d)){if(!qs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function Z_(r){return r!==null&&typeof r=="object"}function Gl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function aA(r,t){const i=new oA(r,t);return i.subscribe.bind(i)}class oA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");lA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}function Ke(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Us="[DEFAULT]";class uA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new Hb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hA(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cA(r){return r===Us?void 0:r}function hA(r){return r.instantiationMode==="EAGER"}class fA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new uA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const dA={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},mA=Dt.INFO,pA={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},gA=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=pA[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wm{constructor(t){this.name=t,this._logLevel=mA,this._logHandler=gA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const yA=(r,t)=>t.some(i=>r instanceof i);let $_,W_;function _A(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vA(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,Wd=new WeakMap,M0=new WeakMap,Ud=new WeakMap,Rm=new WeakMap;function EA(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Gr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&V0.set(i,r)}).catch(()=>{}),Rm.set(t,r),t}function TA(r){if(Wd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Wd.set(r,t)}let tm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Wd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||M0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function bA(r){tm=r(tm)}function AA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(jd(this),t,...i);return M0.set(s,t.sort?t.sort():[t]),Gr(s)}:vA().includes(r)?function(...t){return r.apply(jd(this),t),Gr(V0.get(this))}:function(...t){return Gr(r.apply(jd(this),t))}}function SA(r){return typeof r=="function"?AA(r):(r instanceof IDBTransaction&&TA(r),yA(r,_A())?new Proxy(r,tm):r)}function Gr(r){if(r instanceof IDBRequest)return EA(r);if(Ud.has(r))return Ud.get(r);const t=SA(r);return t!==r&&(Ud.set(r,t),Rm.set(t,r)),t}const jd=r=>Rm.get(r);function wA(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Gr(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Gr(d.result),v.oldVersion,v.newVersion,Gr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const RA=["get","getKey","getAll","getAllKeys","count"],IA=["put","add","delete","clear"],Pd=new Map;function tv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=IA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||RA.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return Pd.set(t,c),c}bA(r=>({...r,get:(t,i,s)=>tv(t,i)||r.get(t,i,s),has:(t,i)=>!!tv(t,i)||r.has(t,i)}));class CA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function xA(r){return r.getComponent()?.type==="VERSION"}const em="@firebase/app",ev="0.14.7";const Wi=new wm("@firebase/app"),DA="@firebase/app-compat",NA="@firebase/analytics-compat",OA="@firebase/analytics",VA="@firebase/app-check-compat",MA="@firebase/app-check",kA="@firebase/auth",LA="@firebase/auth-compat",UA="@firebase/database",jA="@firebase/data-connect",PA="@firebase/database-compat",zA="@firebase/functions",BA="@firebase/functions-compat",qA="@firebase/installations",HA="@firebase/installations-compat",GA="@firebase/messaging",FA="@firebase/messaging-compat",QA="@firebase/performance",KA="@firebase/performance-compat",YA="@firebase/remote-config",XA="@firebase/remote-config-compat",JA="@firebase/storage",ZA="@firebase/storage-compat",$A="@firebase/firestore",WA="@firebase/ai",tS="@firebase/firestore-compat",eS="firebase",nS="12.8.0";const nm="[DEFAULT]",iS={[em]:"fire-core",[DA]:"fire-core-compat",[OA]:"fire-analytics",[NA]:"fire-analytics-compat",[MA]:"fire-app-check",[VA]:"fire-app-check-compat",[kA]:"fire-auth",[LA]:"fire-auth-compat",[UA]:"fire-rtdb",[jA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[zA]:"fire-fn",[BA]:"fire-fn-compat",[qA]:"fire-iid",[HA]:"fire-iid-compat",[GA]:"fire-fcm",[FA]:"fire-fcm-compat",[QA]:"fire-perf",[KA]:"fire-perf-compat",[YA]:"fire-rc",[XA]:"fire-rc-compat",[JA]:"fire-gcs",[ZA]:"fire-gcs-compat",[$A]:"fire-fst",[tS]:"fire-fst-compat",[WA]:"fire-vertex","fire-js":"fire-js",[eS]:"fire-js-all"};const Yc=new Map,rS=new Map,im=new Map;function nv(r,t){try{r.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function $a(r){const t=r.name;if(im.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;im.set(t,r);for(const i of Yc.values())nv(i,r);for(const i of rS.values())nv(i,r);return!0}function Im(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}const sS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Hl("app","Firebase",sS);class aS{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const lo=nS;function k0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:nm,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Fr.create("bad-app-name",{appName:String(l)});if(i||(i=x0()),!i)throw Fr.create("no-options");const c=Yc.get(l);if(c){if(qs(i,c.options)&&qs(s,c.config))return c;throw Fr.create("duplicate-app",{appName:l})}const d=new fA(l);for(const v of im.values())d.addComponent(v);const g=new aS(i,s,d);return Yc.set(l,g),g}function L0(r=nm){const t=Yc.get(r);if(!t&&r===nm&&x0())return k0();if(!t)throw Fr.create("no-app",{appName:r});return t}function Qr(r,t,i){let s=iS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}$a(new Hs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const oS="firebase-heartbeat-database",lS=1,Vl="firebase-heartbeat-store";let zd=null;function U0(){return zd||(zd=wA(oS,lS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function uS(r){try{const i=(await U0()).transaction(Vl),s=await i.objectStore(Vl).get(j0(r));return await i.done,s}catch(t){if(t instanceof rr)Wi.warn(t.message);else{const i=Fr.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function iv(r,t){try{const s=(await U0()).transaction(Vl,"readwrite");await s.objectStore(Vl).put(t,j0(r)),await s.done}catch(i){if(i instanceof rr)Wi.warn(i.message);else{const s=Fr.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(s.message)}}}function j0(r){return`${r.name}!${r.options.appId}`}const cS=1024,hS=30;class fS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hS){const l=pS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rv(),{heartbeatsToSend:i,unsentEntries:s}=dS(this._heartbeatsCache.heartbeats),l=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function rv(){return new Date().toISOString().substring(0,10)}function dS(r,t=cS){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),sv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class mS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?eA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function sv(r){return Kc(JSON.stringify({version:2,heartbeats:r})).length}function pS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}function gS(r){$a(new Hs("platform-logger",t=>new CA(t),"PRIVATE")),$a(new Hs("heartbeat",t=>new fS(t),"PRIVATE")),Qr(em,ev,r),Qr(em,ev,"esm2020"),Qr("fire-js","")}gS("");var yS="firebase",_S="12.8.0";Qr(yS,_S,"app");var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kr,P0;(function(){var r;function t(x,S){function C(){}C.prototype=S.prototype,x.F=S.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(M,O,L){for(var R=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)R[Wt-2]=arguments[Wt];return S.prototype[O].apply(M,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,S,C){C||(C=0);const M=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)M[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=x.g[0],C=x.g[1],O=x.g[2];let L=x.g[3],R;R=S+(L^C&(O^L))+M[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=L+(O^S&(C^O))+M[1]+3905402710&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(C^L&(S^C))+M[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=C+(S^O&(L^S))+M[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=S+(L^C&(O^L))+M[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=L+(O^S&(C^O))+M[5]+1200080426&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(C^L&(S^C))+M[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=C+(S^O&(L^S))+M[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=S+(L^C&(O^L))+M[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=L+(O^S&(C^O))+M[9]+2336552879&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(C^L&(S^C))+M[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=C+(S^O&(L^S))+M[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=S+(L^C&(O^L))+M[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=L+(O^S&(C^O))+M[13]+4254626195&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(C^L&(S^C))+M[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=C+(S^O&(L^S))+M[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=S+(O^L&(C^O))+M[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=L+(C^O&(S^C))+M[6]+3225465664&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^C&(L^S))+M[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=C+(L^S&(O^L))+M[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=S+(O^L&(C^O))+M[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=L+(C^O&(S^C))+M[10]+38016083&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^C&(L^S))+M[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=C+(L^S&(O^L))+M[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=S+(O^L&(C^O))+M[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=L+(C^O&(S^C))+M[14]+3275163606&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^C&(L^S))+M[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=C+(L^S&(O^L))+M[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=S+(O^L&(C^O))+M[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=L+(C^O&(S^C))+M[2]+4243563512&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^C&(L^S))+M[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=C+(L^S&(O^L))+M[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=S+(C^O^L)+M[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=L+(S^C^O)+M[8]+2272392833&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^C)+M[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=C+(O^L^S)+M[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=S+(C^O^L)+M[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=L+(S^C^O)+M[4]+1272893353&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^C)+M[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=C+(O^L^S)+M[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=S+(C^O^L)+M[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=L+(S^C^O)+M[0]+3936430074&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^C)+M[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=C+(O^L^S)+M[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=S+(C^O^L)+M[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=L+(S^C^O)+M[12]+3873151461&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^C)+M[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=C+(O^L^S)+M[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=S+(O^(C|~L))+M[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=L+(C^(S|~O))+M[7]+1126891415&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~C))+M[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=C+(L^(O|~S))+M[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=S+(O^(C|~L))+M[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=L+(C^(S|~O))+M[3]+2399980690&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~C))+M[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=C+(L^(O|~S))+M[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=S+(O^(C|~L))+M[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=L+(C^(S|~O))+M[15]+4264355552&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~C))+M[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=C+(L^(O|~S))+M[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=S+(O^(C|~L))+M[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=L+(C^(S|~O))+M[11]+3174756917&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~C))+M[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=C+(L^(O|~S))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.v=function(x,S){S===void 0&&(S=x.length);const C=S-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<S;){if(O==0)for(;L<=C;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<S;)if(M[O++]=x.charCodeAt(L++),O==this.blockSize){l(this,M),O=0;break}}else for(;L<S;)if(M[O++]=x[L++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=S},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)x[S++]=this.g[C]>>>M&255;return x};function c(x,S){var C=g;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=S(x)}function d(x,S){this.h=S;const C=[];let M=!0;for(let O=x.length-1;O>=0;O--){const L=x[O]|0;M&&L==S||(C[O]=L,M=!1)}this.g=C}var g={};function v(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return it(y(-x));const S=[];let C=1;for(let M=0;x>=C;M++)S[M]=x/C|0,C*=4294967296;return new d(S,0)}function A(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return it(A(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let M=w;for(let L=0;L<x.length;L+=8){var O=Math.min(8,x.length-L);const R=parseInt(x.substring(L,L+O),S);O<8?(O=y(Math.pow(S,O)),M=M.j(O).add(y(R))):(M=M.j(C),M=M.add(y(R)))}return M}var w=v(0),V=v(1),K=v(16777216);r=d.prototype,r.m=function(){if(et(this))return-it(this).m();let x=0,S=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);x+=(M>=0?M:4294967296+M)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(W(this))return"0";if(et(this))return"-"+it(this).toString(x);const S=y(Math.pow(x,6));var C=this;let M="";for(;;){const O=Pt(C,S).g;C=ht(C,O.j(S));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=O,W(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function W(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function et(x){return x.h==-1}r.l=function(x){return x=ht(this,x),et(x)?-1:W(x)?0:1};function it(x){const S=x.g.length,C=[];for(let M=0;M<S;M++)C[M]=~x.g[M];return new d(C,~x.h).add(V)}r.abs=function(){return et(this)?it(this):this},r.add=function(x){const S=Math.max(this.g.length,x.g.length),C=[];let M=0;for(let O=0;O<=S;O++){let L=M+(this.i(O)&65535)+(x.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);M=R>>>16,L&=65535,R&=65535,C[O]=R<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ht(x,S){return x.add(it(S))}r.j=function(x){if(W(this)||W(x))return w;if(et(this))return et(x)?it(this).j(it(x)):it(it(this).j(x));if(et(x))return it(this.j(it(x)));if(this.l(K)<0&&x.l(K)<0)return y(this.m()*x.m());const S=this.g.length+x.g.length,C=[];for(var M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<x.g.length;O++){const L=this.i(M)>>>16,R=this.i(M)&65535,Wt=x.i(O)>>>16,he=x.i(O)&65535;C[2*M+2*O]+=R*he,Et(C,2*M+2*O),C[2*M+2*O+1]+=L*he,Et(C,2*M+2*O+1),C[2*M+2*O+1]+=R*Wt,Et(C,2*M+2*O+1),C[2*M+2*O+2]+=L*Wt,Et(C,2*M+2*O+2)}for(x=0;x<S;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=S;x<2*S;x++)C[x]=0;return new d(C,0)};function Et(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function mt(x,S){this.g=x,this.h=S}function Pt(x,S){if(W(S))throw Error("division by zero");if(W(x))return new mt(w,w);if(et(x))return S=Pt(it(x),S),new mt(it(S.g),it(S.h));if(et(S))return S=Pt(x,it(S)),new mt(it(S.g),S.h);if(x.g.length>30){if(et(x)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var C=V,M=S;M.l(x)<=0;)C=Ft(C),M=Ft(M);var O=Lt(C,1),L=Lt(M,1);for(M=Lt(M,2),C=Lt(C,2);!W(M);){var R=L.add(M);R.l(x)<=0&&(O=O.add(C),L=R),M=Lt(M,1),C=Lt(C,1)}return S=ht(x,O.j(S)),new mt(O,S)}for(O=w;x.l(S)>=0;){for(C=Math.max(1,Math.floor(x.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(C),R=L.j(S);et(R)||R.l(x)>0;)C-=M,L=y(C),R=L.j(S);W(L)&&(L=V),O=O.add(L),x=ht(x,R)}return new mt(O,x)}r.B=function(x){return Pt(this,x).h},r.and=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)&x.i(M);return new d(C,this.h&x.h)},r.or=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)|x.i(M);return new d(C,this.h|x.h)},r.xor=function(x){const S=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<S;M++)C[M]=this.i(M)^x.i(M);return new d(C,this.h^x.h)};function Ft(x){const S=x.g.length+1,C=[];for(let M=0;M<S;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new d(C,x.h)}function Lt(x,S){const C=S>>5;S%=32;const M=x.g.length-C,O=[];for(let L=0;L<M;L++)O[L]=S>0?x.i(L+C)>>>S|x.i(L+C+1)<<32-S:x.i(L+C);return new d(O,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,P0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Kr=d}).apply(typeof av<"u"?av:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var z0,Al,B0,Uc,rm,q0,H0,G0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in _))break t;_=_[U]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&_.push([b,m[b]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[U].apply(b,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const B=U.length||0;u.length=_+B;for(let tt=0;tt<B;tt++)u[_+tt]=U[tt]}else u.push(U)}}class et{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,_){const b=mt.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new et(()=>new Pt,u=>u.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,Lt=!1,x=new Et,S=()=>{const u=Promise.resolve(void 0);Ft=()=>{u.then(C)}};function C(){for(var u;u=ht();){try{u.h.call(u.g)}catch(_){it(_)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Wt,O),Wt.prototype.init=function(u,m){const _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),H=0;function Y(u,m,_,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=U,this.key=++H,this.da=this.fa=!1}function $(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function wt(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function Vt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function D(u){const m={};for(const _ in u)m[_]=u[_];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)u[_]=b[_];for(let B=0;B<F.length;B++)_=F[B],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,_,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=At(u,m,b,U);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new Y(m,this.src,B,!!b,U),m.fa=_,u.push(m)),m};function gt(u,m){const _=m.type;if(_ in u.g){var b=u.g[_],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&($(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function At(u,m,_,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==b)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),De={};function se(u,m,_,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],_,b,U);return null}return _=_o(_),u&&u[he]?u.J(m,_,g(b)?!!b.capture:!1,U):as(u,m,_,!1,b,U)}function as(u,m,_,b,U,B){if(!m)throw Error("Invalid event type");const tt=g(U)?!!U.capture:!!U;let Tt=os(u);if(Tt||(u[Ut]=Tt=new at(u)),_=Tt.add(m,_,b,tt,B),_.proxy)return _;if(b=Js(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)L||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(ii(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Js(){function u(_){return m.call(u.src,u.listener,_)}const m=go;return u}function Zs(u,m,_,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Zs(u,m[B],_,b,U);else b=g(b)?!!b.capture:!!b,_=_o(_),u&&u[he]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=At(m,_,b,U),_>-1&&($(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=os(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,_,b,U)),(_=u>-1?m[u]:null)&&$s(_))}function $s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])gt(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(ii(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=os(m))?(gt(_,u),_.h==0&&(_.src=null,m[Ut]=null)):$(u)}}}function ii(u){return u in De?De[u]:De[u]="on"+u}function go(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const _=u.listener,b=u.ha||u.src;u.fa&&$s(u),u=_.call(b,m)}return u}function os(u){return u=u[Ut],u instanceof at?u:null}var yo="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(u){return typeof u=="function"?u:(u[yo]||(u[yo]=function(m){return u.handleEvent(m)}),u[yo])}function ye(){M.call(this),this.i=new at(this),this.M=this,this.G=null}w(ye,M),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,_,b){Zs(this,u,m,_,b)};function Ne(u,m){var _,b=u.G;if(b)for(_=[];b;b=b.G)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(b,u),nt(m,U)}U=!0;let B,tt;if(_)for(tt=_.length-1;tt>=0;tt--)B=m.g=_[tt],U=sr(B,b,!0,m)&&U;if(B=m.g=u,U=sr(B,b,!0,m)&&U,U=sr(B,b,!1,m)&&U,_)for(tt=0;tt<_.length;tt++)B=m.g=_[tt],U=sr(B,b,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let b=0;b<_.length;b++)$(_[b]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},ye.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function sr(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==_){const Tt=tt.listener,de=tt.ha||tt.src;tt.fa&&gt(u.i,tt),U=Tt.call(de,b)!==!1&&U}}return U&&!b.defaultPrevented}function Nh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function tu(u){u.g=Nh(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(u){M.call(this),this.h=u,this.g={}}w(ls,M);var vo=[];function Eo(u){wt(u.g,function(m,_){this.g.hasOwnProperty(_)&&$s(m)},u),u.g={}}ls.prototype.N=function(){ls.Z.N.call(this),Eo(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=d.JSON.stringify,Oh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){O.call(this,"d")}w(Pe,O);function An(){O.call(this,"c")}w(An,O);var fe={},ru=null;function Ws(){return ru=ru||new ye}fe.Ia="serverreachability";function su(u){O.call(this,fe.Ia,u)}w(su,O);function ri(u){const m=Ws();Ne(m,new su(m))}fe.STAT_EVENT="statevent";function us(u,m){O.call(this,fe.STAT_EVENT,u),this.stat=m}w(us,O);function _e(u){const m=Ws();Ne(m,new us(m,u))}fe.Ja="timingevent";function si(u,m){O.call(this,fe.Ja,u),this.size=m}w(si,O);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Vh(u,m,_,b,U,B){u.info(function(){if(u.g)if(B){var tt="",Tt=B.split("&");for(let qt=0;qt<Tt.length;qt++){var de=Tt[qt].split("=");if(de.length>1){const ae=de[0];de=de[1];const In=ae.split("_");tt=In.length>=2&&In[1]=="type"?tt+(ae+"="+de+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+_+`
`+tt})}function au(u,m,_,b,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+_+`
`+B+" "+tt})}function oi(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,_)+(b?" "+b:"")})}function cs(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return ar(B)}catch{return m}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function fs(){}w(fs,nu),fs.prototype.g=function(){return new XMLHttpRequest},bo=new fs;function Oi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Bn(u,m,_,b){this.j=u,this.i=m,this.l=_,this.S=b||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var ve={},ke={};function li(u,m,_){u.M=1,u.A=ds(Te(m)),u.u=_,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),ui(u),u.B=Te(u.A);var _=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ra(_.i,"t",b),u.C=0,_=u.j.L,u.h=new qn,u.g=bu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(vo[0]=U.toString()),U=vo);for(let B=0;B<U.length;B++){const tt=se(_,U[B],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Fn(this.g),de=this.g.ya(),qt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||de==7||(de==8||qt<=0?ri(3):ri(2)),ci(this);var m=this.g.ca();this.X=m;var _=kh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(u=B)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),Sn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<_.length;)if(ae=uu(this,_),ae==ke){Tt==4&&(this.m=4,_e(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),oi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,ae,null),hi(this,ae);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||_.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),Sn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Uo(tt),tt.P=!0,_e(11))}}else oi(this.i,this.l,_,null),hi(this,_);Tt==4&&dn(this),this.o&&!this.K&&(Tt==4?_u(this.j,this):(this.o=!1,ui(this)))}else Mi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),Sn(this)}}}catch{}};function kh(u){if(!lu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const b=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?ke:(_=Number(m.substring(_,b)),isNaN(_)?ve:(b+=1,b+_>m.length?ke:(m=m.slice(b,b+_),u.C=b+_,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function ui(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cs(this.i,this.B),this.M!=2&&(ri(),_e(17)),dn(this),this.m=2,Sn(this)):ea(this,this.T-u)};function Sn(u){u.j.I==0||u.K||_u(u.j,u)}function dn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||di(_.h,u))){if(!u.L&&di(_.h,u)&&_.I==3){try{var b=_.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ua(_),mr(_);else break t;Es(_),_e(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ai(y(_.Va,_),6e3));fi(_.h)<=1&&_.ta&&(_.ta=void 0)}else vi(_,11)}else if((u.L||_.g==u)&&ua(_),!R(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let qt=U[m];const ae=qt[0];if(!(ae<=_.K))if(_.K=ae,qt=qt[1],_.I==2)if(qt[0]=="c"){_.M=qt[1],_.ba=qt[2];const In=qt[3];In!=null&&(_.ka=In,_.j.info("VER="+_.ka));const Ei=qt[4];Ei!=null&&(_.za=Ei,_.j.info("SVER="+_.za));const Qn=qt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(b=1.5*Qn,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Kn=u.g;if(Kn){const Ts=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var B=b.h;B.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(wo(B,B.h),B.h=null))}if(b.G){const ca=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(b.wa=ca,Qt(b.J,b.G,ca))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var tt=u;if(b.na=Tu(b,b.L?b.ba:null,b.W),tt.L){Ro(b.h,tt);var Tt=tt,de=b.O;de&&(Tt.H=de),Tt.D&&(ci(Tt),ui(Tt)),b.g=tt}else gu(b);_.i.length>0&&_i(_)}else qt[0]!="stop"&&qt[0]!="close"||vi(_,7);else _.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?vi(_,7):ko(_):qt[0]!="noop"&&_.l&&_.l.qa(qt),_.A=0)}}ri(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function Ao(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function Ro(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return K(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const b=u[_].indexOf("=");let U,B=null;b>=0?(U=u[_].substring(0,b),B=u[_].substring(b+1)):U=u[_],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,or(this,u.u),this.h=u.h,Co(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),or(this,m[4]),this.h=mi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ms(m,ia,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ms(m,ia,!0),"@"),u.push(Oi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ms(_,_.charAt(0)=="/"?xo:hu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ms(_,fu)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let _=!!u.j;_?Le(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var b=u.h;if(_)or(m,u.u);else if(_=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const Tt=U[tt++];Tt=="."?b&&tt==U.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&tt==U.length&&B.push("")):(B.push(Tt),b=!0)}b=B.join("/")}else b=U}return _?m.h=b:_=u.i.toString()!=="",_?Co(m,mu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Te(u){return new mn(u)}function Le(u,m,_){u.j=_?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function or(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,_){m instanceof ur?(u.i=m,sa(u.i,u.l)):(_||(m=ms(m,lr)),u.i=new ur(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function ds(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ms(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,hu=/[#\?:]/g,xo=/[#\?]/g,lr=/[#\?@]/g,fu=/#/g;function ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=ur.prototype,r.add=function(u,m){sn(this),this.i=null,u=cr(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function du(u,m){sn(u),m=cr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return sn(u),m=cr(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(_,b){_.forEach(function(U){u.call(m,U,b,this)},this)},this)};function No(u,m){sn(u);let _=[];if(typeof m=="string")Do(u,m)&&(_=_.concat(u.g.get(cr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return sn(this),this.i=null,u=cr(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,_){du(u,m),_.length>0&&(u.i=null,u.g.set(cr(u,m),K(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var _=m[b];const U=Oi(_);_=No(this,_);for(let B=0;B<_.length;B++){let tt=U;_[B]!==""&&(tt+="="+Oi(_[B])),u.push(tt)}}return this.i=u.join("&")};function mu(u){const m=new ur;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(_,b){const U=b.toLowerCase();b!=U&&(du(this,b),ra(this,U,_))},u)),u.j=m}function Hn(u,m){const _=new zn;if(d.Image){const b=new Image;b.onload=A(wn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=A(wn,_,"TestLoadImage: error",!1,m,b),b.onabort=A(wn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(wn,_,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Oo(u,m){const _=new zn,b=new AbortController,U=setTimeout(()=>{b.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function hr(){this.g=new eu}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(pi,nu),pi.prototype.g=function(){return new ps(this.i,this.h)};function ps(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ps,ye),r=ps.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fr(this):Gn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fr(this))},r.Na=function(u){this.g&&(this.response=u,fr(this))},r.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return wt(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function gs(u,m,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Rn(_),typeof u=="string"?_!=null&&Oi(_):Qt(u,m,_))}function Xt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Xt,ye);var gi=/^https?$/i,Vo=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ys(this,B);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())_.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of _)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ys(this,B)}};function ys(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Vi(u)}function Mo(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},r.Xa=function(){_s(this)};function _s(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var b;if(b=B===0){let tt=String(u.D).match(cu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),b=!gi.test(tt?tt.toLowerCase():"")}_=b}if(_)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Mo(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ne(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var _=ou(u[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[U]||[];m[U]=B,B.push(_)}Vt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function dr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(u&&u.concurrentRequestLimit),this.Ba=new hr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=dr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,b){_e(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=Tu(this,null,this.W),_i(this)};function ko(u){if(oa(u),u.I==3){var m=u.V++,_=Te(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),vs(u,_),m=new Bn(u,u.j,m),m.M=2,m.A=ds(Te(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Eu(u)}function mr(u){u.g&&(Uo(u),u.g.cancel(),u.g=null)}function oa(u){mr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ft||S(),Lt||(Ft(),Lt=!0),x.add(m,u),u.D=0}}function la(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=pu(this,U,m),_=Te(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),vs(this,_),B&&(this.R?m="headers="+Oi(Rn(B))+"&"+m:this.u&&gs(_,this.u,B)),wo(this.h,U),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),U.U=!0,li(U,_,null)):li(U,_,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||So(this.h)||Lo(this))};function Lo(u,m){var _;m?_=m.l:_=u.V++;const b=Te(u.J);Qt(b,"SID",u.M),Qt(b,"RID",_),Qt(b,"AID",u.K),vs(u,b),u.u&&u.o&&gs(b,u.u,u.o),_=new Bn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,_),li(_,b,m)}function vs(u,m){u.H&&wt(u.H,function(_,b){Qt(m,b,_)}),u.l&&wt({},function(_,b){Qt(m,b,_)})}function pu(u,m,_){_=Math.min(u.i.length,_);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let Tt=-1;for(;;){const de=["count="+_];Tt==-1?_>0?(Tt=U[0].g,de.push("ofs="+Tt)):Tt=0:de.push("ofs="+Tt);let qt=!0;for(let ae=0;ae<_;ae++){var B=U[ae].g;const In=U[ae].map;if(B-=Tt,B<0)Tt=Math.max(0,U[ae].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var tt=In instanceof Map?In:Object.entries(In);for(const[Ei,Qn]of tt){let Kn=Qn;g(Qn)&&(Kn=ar(Qn)),de.push(B+Ei+"="+encodeURIComponent(Kn))}}catch(Ei){throw de.push(B+"type="+encodeURIComponent("_badmap")),Ei}}catch{b&&b(In)}}if(qt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ft||S(),Lt||(Ft(),Lt=!0),x.add(m,u),u.A=0}}function Es(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),vu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),mr(this),yu(this))};function Uo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),vs(u,m),u.u&&u.o&&gs(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=ds(Te(m)),_.u=null,_.R=!0,ta(_,u)}r.Va=function(){this.C!=null&&(this.C=null,mr(this),Es(this),_e(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var _=null;if(u.g==m){ua(u),Uo(u),u.g=null;var b=2}else if(di(u.h,m))_=m.G,Ro(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=Ws(),Ne(b,new si(b,_)),_i(u)}else gu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&la(u,m)||b==2&&Es(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function vu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),b=u.Ua;const U=!b;b=new mn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(b,"https"),ds(b),U?Hn(b.toString(),_):Oo(b.toString(),_)}else _e(2);u.I=0,u.l&&u.l.pa(m),Eu(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,_){var b=_ instanceof mn?Te(_):new mn(_);if(b.g!="")m&&(b.g=m+"."+b.g),or(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new mn(null);b&&Le(B,b),m&&(B.g=m),U&&or(B,U),_&&(B.h=_),b=B}return _=u.G,m=u.wa,_&&m&&Qt(b,_,m),Qt(b,"VER",u.ka),vs(u,b),b}function bu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new pi({ab:_})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function pr(){}pr.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ye.call(this),this.g=new dr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}w(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){ko(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=ar(u),u=_);m.i.push(new Ee(m.Ya++,u)),m.I==3&&_i(m)},en.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,en.Z.N.call(this)};function Su(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Su,Pe);function wu(){An.call(this),this.status=1}w(wu,An);function ki(u){this.g=u}w(ki,Au),ki.prototype.ra=function(){Ne(this.g,"a")},ki.prototype.qa=function(u){Ne(this.g,new Su(u))},ki.prototype.pa=function(u){Ne(this.g,new wu)},ki.prototype.oa=function(){Ne(this.g,"b")},pr.prototype.createWebChannel=pr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,G0=function(){return new pr},H0=function(){return Ws()},q0=fe,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Uc=hs,To.COMPLETE="complete",B0=To,iu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Al=iu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,z0=Xt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let uo="12.8.0";function vS(r){uo=r}const Gs=new wm("@firebase/firestore");function Ba(){return Gs.logLevel}function st(r,...t){if(Gs.logLevel<=Dt.DEBUG){const i=t.map(Cm);Gs.debug(`Firestore (${uo}): ${r}`,...i)}}function tr(r,...t){if(Gs.logLevel<=Dt.ERROR){const i=t.map(Cm);Gs.error(`Firestore (${uo}): ${r}`,...i)}}function Wa(r,...t){if(Gs.logLevel<=Dt.WARN){const i=t.map(Cm);Gs.warn(`Firestore (${uo}): ${r}`,...i)}}function Cm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function dt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,F0(r,s,i)}function F0(r,t,i){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw tr(s),new Error(s)}function Gt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||F0(t,l,s)}function vt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends rr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Q0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ES{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class TS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class bS{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let s=this.i;const l=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let c=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new Q0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class AS{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class SS{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new AS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ov(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=RS(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function sm(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Bd(l)===Bd(c)?Nt(l,c):Bd(l)?1:-1}return Nt(r.length,t.length)}const IS=55296,CS=57343;function Bd(r){const t=r.charCodeAt(0);return t>=IS&&t<=CS}function to(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}const lv="__name__";class wi{constructor(t,i,s){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&dt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=wi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const s=wi.isNumericId(t),l=wi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?wi.extractNumericId(t).compare(wi.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kr.fromString(t.substring(4,t.length-2))}}class ee extends wi{construct(t,i,s){return new ee(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const xS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends wi{construct(t,i,s){return new Qe(t,i,s)}static isValidIdentifier(t){return xS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lv}static keyField(){return new Qe([lv])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new rt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new rt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ee.fromString(t))}static fromName(t){return new ct(ee.fromString(t).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ee(t.slice()))}}function K0(r,t,i){if(!i)throw new rt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function DS(r,t,i,s){if(t===!0&&s===!0)throw new rt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function uv(r){if(!ct.isDocumentKey(r))throw new rt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cv(r){if(ct.isDocumentKey(r))throw new rt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Y0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function Yr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fh(r);throw new rt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fl(r,t){if(!Y0(r))throw new rt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new rt(J.INVALID_ARGUMENT,i);return!0}const hv=-62135596800,fv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*fv);return new re(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<hv)throw new rt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-hv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ce("string",re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new re(0,0))}static max(){return new yt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function NS(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new Zr(l,ct.empty(),t)}function OS(r){return new Zr(r.readTime,r.key,Ml)}class Zr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Zr(yt.min(),ct.empty(),Ml)}static max(){return new Zr(yt.max(),ct.empty(),Ml)}}function VS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}const MS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==MS)throw r;st("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,s)=>{i(t)}))}static reject(t){return new Z(((i,s)=>{s(t)}))}static waitFor(t){return new Z(((i,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>s(v)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const s of t)i=i.next((l=>l?Z.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new Z(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((A=>{d[y]=A,++g,g===c&&s(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function LS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(r){return r.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const Dm=-1;function mh(r){return r==null}function Xc(r){return r===0&&1/r==-1/0}function US(r){return typeof r=="number"&&Number.isInteger(r)&&!Xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const X0="";function jS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=dv(t)),t=PS(r.get(i),t);return dv(t)}function PS(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case X0:i+="";break;default:i+=c}}return i}function dv(r){return r+X0+""}function mv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function rs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function J0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Fe(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(t){return new pv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class pv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new Me(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Z0("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const zS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const i=zS.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Wr(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const $0="server_timestamp",W0="__type__",tE="__previous_value__",eE="__local_write_time__";function Nm(r){return(r?.mapValue?.fields||{})[W0]?.stringValue===$0}function ph(r){const t=r.mapValue.fields[tE];return Nm(t)?ph(t):t}function kl(r){const t=$r(r.mapValue.fields[eE].timestampValue);return new re(t.seconds,t.nanos)}class BS{constructor(t,i,s,l,c,d,g,v,y,A,w){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=w}}const Jc="(default)";class Ll{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}function qS(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new rt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(r.options.projectId,t)}const nE="__type__",HS="__max__",Nc={mapValue:{}},iE="__vector__",Zc="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nm(r)?4:FS(r)?9007199254740991:GS(r)?10:11:dt(28295,{value:r})}function Ni(r,t){if(r===t)return!0;const i=ts(r);if(i!==ts(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return kl(r).isEqual(kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$r(l.timestampValue),g=$r(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Wr(l.bytesValue).isEqual(Wr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Xc(d)===Xc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return to(r.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(mv(d)!==mv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Ni(d[v],g[v])))return!1;return!0})(r,t);default:return dt(52216,{left:r})}}function Ul(r,t){return(r.values||[]).find((i=>Ni(i,t)))!==void 0}function eo(r,t){if(r===t)return 0;const i=ts(r),s=ts(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),v=ge(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return gv(r.timestampValue,t.timestampValue);case 4:return gv(kl(r),kl(t));case 5:return sm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Wr(c),v=Wr(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const A=Nt(g[y],v[y]);if(A!==0)return A}return Nt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Nt(ge(c.latitude),ge(d.latitude));return g!==0?g:Nt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return yv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[Zc]?.arrayValue,A=v[Zc]?.arrayValue,w=Nt(y?.values?.length||0,A?.values?.length||0);return w!==0?w:yv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let w=0;w<v.length&&w<A.length;++w){const V=sm(v[w],A[w]);if(V!==0)return V;const K=eo(g[v[w]],y[A[w]]);if(K!==0)return K}return Nt(v.length,A.length)})(r.mapValue,t.mapValue);default:throw dt(23264,{he:i})}}function gv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=$r(r),s=$r(t),l=Nt(i.seconds,s.seconds);return l!==0?l:Nt(i.nanos,s.nanos)}function yv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=eo(i[l],s[l]);if(c)return c}return Nt(i.length,s.length)}function no(r){return am(r)}function am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=$r(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Wr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=am(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${am(i.fields[d])}`;return l+"}"})(r.mapValue):dt(61005,{value:r})}function jc(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(r);return t?16+jc(t):16;case 5:return 2*r.stringValue.length;case 6:return Wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+jc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return rs(s.fields,((c,d)=>{l+=c.length+jc(d)})),l})(r.mapValue);default:throw dt(13486,{value:r})}}function _v(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function om(r){return!!r&&"integerValue"in r}function Om(r){return!!r&&"arrayValue"in r}function vv(r){return!!r&&"nullValue"in r}function Ev(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pc(r){return!!r&&"mapValue"in r}function GS(r){return(r?.mapValue?.fields||{})[nE]?.stringValue===iE}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return rs(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Cl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(r.arrayValue.values[i]);return t}return{...r}}function FS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===HS}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Pc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=Qe.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=Cl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){rs(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new fn(Cl(this.value))}}function rE(r){const t=[];return rs(r.fields,((i,s)=>{const l=new Qe([i]);if(Pc(s)){const c=rE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new bn(t)}class $e{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,yt.min(),yt.min(),yt.min(),fn.empty(),0)}static newFoundDocument(t,i,s,l){return new $e(t,1,i,yt.min(),s,l,0)}static newNoDocument(t,i){return new $e(t,2,i,yt.min(),yt.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,yt.min(),yt.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function Tv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=eo(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function bv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],t.position[i]))return!1;return!0}class jl{constructor(t,i="asc"){this.field=t,this.dir=i}}function QS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class sE{}class Ie extends sE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new YS(t,i,s):i==="array-contains"?new ZS(t,s):i==="in"?new $S(t,s):i==="not-in"?new WS(t,s):i==="array-contains-any"?new tw(t,s):new Ie(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new XS(t,s):new JS(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&ts(this.value)===ts(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends sE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ni(t,i)}matches(t){return aE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aE(r){return r.op==="and"}function oE(r){return KS(r)&&aE(r)}function KS(r){for(const t of r.filters)if(t instanceof ni)return!1;return!0}function lm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+no(r.value);if(oE(r))return r.filters.map((t=>lm(t))).join(",");{const t=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${t})`}}function lE(r,t){return r instanceof Ie?(function(s,l){return l instanceof Ie&&s.op===l.op&&s.field.isEqual(l.field)&&Ni(s.value,l.value)})(r,t):r instanceof ni?(function(s,l){return l instanceof ni&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&lE(d,l.filters[g])),!0):!1})(r,t):void dt(19439)}function uE(r){return r instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(r):r instanceof ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(uE).join(" ,")+"}"})(r):"Filter"}class YS extends Ie{constructor(t,i,s){super(t,i,s),this.key=ct.fromName(s.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class XS extends Ie{constructor(t,i){super(t,"in",i),this.keys=cE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class JS extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=cE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function cE(r,t){return(t.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class ZS extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Om(i)&&Ul(i.arrayValue,this.value)}}class $S extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class WS extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class tw extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Om(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Ul(this.value.arrayValue,s)))}}class ew{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Av(r,t=null,i=[],s=[],l=null,c=null,d=null){return new ew(r,t,i,s,l,c,d)}function Vm(r){const t=vt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>lm(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>no(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>no(s))).join(",")),t.Te=i}return t.Te}function Mm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!QS(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!lE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!bv(r.startAt,t.startAt)&&bv(r.endAt,t.endAt)}function um(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class fo{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function nw(r,t,i,s,l,c,d,g){return new fo(r,t,i,s,l,c,d,g)}function km(r){return new fo(r)}function Sv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iw(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function hE(r){return r.collectionGroup!==null}function xl(r){const t=vt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new jl(c,s))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new jl(Qe.keyField(),s))}return t.Ie}function Ri(r){const t=vt(r);return t.Ee||(t.Ee=rw(t,xl(r))),t.Ee}function rw(r,t){if(r.limitType==="F")return Av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new jl(l.field,c)}));const i=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function cm(r,t){const i=r.filters.concat([t]);return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function sw(r,t){const i=r.explicitOrderBy.concat([t]);return new fo(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function hm(r,t,i){return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return Mm(Ri(r),Ri(t))&&r.limitType===t.limitType}function fE(r){return`${Vm(Ri(r))}|lt:${r.limitType}`}function qa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>uE(l))).join(", ")}]`),mh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${s})`})(Ri(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of xl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,v){const y=Tv(d,g,v);return d.inclusive?y<=0:y<0})(s.startAt,xl(s),l)||s.endAt&&!(function(d,g,v){const y=Tv(d,g,v);return d.inclusive?y>=0:y>0})(s.endAt,xl(s),l))})(r,t)}function aw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dE(r){return(t,i)=>{let s=!1;for(const l of xl(r)){const c=ow(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function ow(r,t,i){const s=r.field.isKeyField()?ct.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?eo(v,y):dt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:r.dir})}}class Ks{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){rs(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}const lw=new le(ct.comparator);function er(){return lw}const mE=new le(ct.comparator);function Sl(...r){let t=mE;for(const i of r)t=t.insert(i.key,i);return t}function pE(r){let t=mE;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ps(){return Dl()}function gE(){return Dl()}function Dl(){return new Ks((r=>r.toString()),((r,t)=>r.isEqual(t)))}const uw=new le(ct.comparator),cw=new Me(ct.comparator);function Ot(...r){let t=cw;for(const i of r)t=t.add(i);return t}const hw=new Me(Nt);function fw(){return hw}function Lm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function yE(r){return{integerValue:""+r}}function dw(r,t){return US(t)?yE(t):Lm(r,t)}class _h{constructor(){this._=void 0}}function mw(r,t,i){return r instanceof Pl?(function(l,c){const d={fields:{[W0]:{stringValue:$0},[eE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Nm(c)&&(c=ph(c)),c&&(d.fields[tE]=c),{mapValue:d}})(i,t):r instanceof zl?vE(r,t):r instanceof Bl?EE(r,t):(function(l,c){const d=_E(l,c),g=wv(d)+wv(l.Ae);return om(d)&&om(l.Ae)?yE(g):Lm(l.serializer,g)})(r,t)}function pw(r,t,i){return r instanceof zl?vE(r,t):r instanceof Bl?EE(r,t):i}function _E(r,t){return r instanceof Wc?(function(s){return om(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Pl extends _h{}class zl extends _h{constructor(t){super(),this.elements=t}}function vE(r,t){const i=TE(t);for(const s of r.elements)i.some((l=>Ni(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Bl extends _h{constructor(t){super(),this.elements=t}}function EE(r,t){let i=TE(t);for(const s of r.elements)i=i.filter((l=>!Ni(l,s)));return{arrayValue:{values:i}}}class Wc extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function wv(r){return ge(r.integerValue||r.doubleValue)}function TE(r){return Om(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class gw{constructor(t,i){this.field=t,this.transform=i}}function yw(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof zl&&l instanceof zl||s instanceof Bl&&l instanceof Bl?to(s.elements,l.elements,Ni):s instanceof Wc&&l instanceof Wc?Ni(s.Ae,l.Ae):s instanceof Pl&&l instanceof Pl})(r.transform,t.transform)}class _w{constructor(t,i){this.version=t,this.transformResults=i}}class ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function bE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Um(r.key,ti.none()):new Ql(r.key,r.data,ti.none());{const i=r.data,s=fn.empty();let l=new Me(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new ss(r.key,s,new bn(l.toArray()),ti.none())}}function vw(r,t,i){r instanceof Ql?(function(l,c,d){const g=l.value.clone(),v=Iv(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof ss?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Iv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(AE(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(r,t,i,s){return r instanceof Ql?(function(c,d,g,v){if(!zc(c.precondition,d))return g;const y=c.value.clone(),A=Cv(c.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,s):r instanceof ss?(function(c,d,g,v){if(!zc(c.precondition,d))return g;const y=Cv(c.fieldTransforms,v,d),A=d.data;return A.setAll(AE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,s):(function(c,d,g){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function Ew(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=_E(s.transform,l||null);c!=null&&(i===null&&(i=fn.empty()),i.set(s.field,c))}return i||null}function Rv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&to(s,l,((c,d)=>yw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ql extends vh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ss extends vh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function AE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function Iv(r,t,i){const s=new Map;Gt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,pw(d,g,i[l]))}return s}function Cv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,mw(c,d,t))}return s}class Um extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&vw(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Nl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Nl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=gE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=bE(d,g);v!==null&&s.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((i,s)=>Rv(i,s)))&&to(this.baseMutations,t.baseMutations,((i,s)=>Rv(i,s)))}}class jm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){Gt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return uw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new jm(t,i,s,l)}}class Aw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Sw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,jt;function ww(r){switch(r){case J.OK:return dt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function SE(r){if(r===void 0)return tr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return dt(39323,{code:r})}}(jt=Re||(Re={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function Rw(){return new TextEncoder}const Iw=new Kr([4294967295,4294967295],0);function xv(r){const t=Rw().encode(r),i=new P0;return i.update(t),new Uint8Array(i.digest())}function Dv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Kr([i,s],0),new Kr([l,c],0)]}class Pm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Kr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Kr.fromNumber(s)));return l.compare(Iw)===1&&(l=new Kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=xv(t),[s,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=xv(t),[s,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Eh(yt.min(),l,new le(Nt),er(),Ot())}}class Kl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Kl(s,i,Ot(),Ot(),Ot())}}class Bc{constructor(t,i,s,l){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=l}}class wE{constructor(t,i){this.targetId=t,this.Ce=i}}class RE{constructor(t,i,s=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Nv{constructor(){this.ve=0,this.Fe=Ov(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:dt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=Ov()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Cw{constructor(t){this.Ge=t,this.ze=new Map,this.je=er(),this.He=Oc(),this.Je=Oc(),this.Ze=new le(Nt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(um(c))if(s===0){const d=new ct(c.path);this.et(i,d,$e.newNoDocument(d,yt.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Wr(s).toUint8Array()}catch(v){if(v instanceof Z0)return Wa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Pm(d,l,c)}catch(v){return Wa(v instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&um(g.target)){const v=new ct(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,$e.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=Ot();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ze,this.je,s);return this.je=er(),this.He=Oc(),this.Je=Oc(),this.Ze=new le(Nt),l}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Nv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(Nt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(Nt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Nv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new le(ct.comparator)}function Ov(){return new le(ct.comparator)}const xw={asc:"ASCENDING",desc:"DESCENDING"},Dw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nw={and:"AND",or:"OR"};class Ow{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function fm(r,t){return r.useProto3Json||mh(t)?t:{value:t}}function th(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Vw(r,t){return th(r,t.toTimestamp())}function Ii(r){return Gt(!!r,49232),yt.fromTimestamp((function(i){const s=$r(i);return new re(s.seconds,s.nanos)})(r))}function zm(r,t){return dm(r,t).canonicalString()}function dm(r,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function CE(r){const t=ee.fromString(r);return Gt(VE(t),10190,{key:t.toString()}),t}function mm(r,t){return zm(r.databaseId,t.path)}function qd(r,t){const i=CE(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(DE(i))}function xE(r,t){return zm(r.databaseId,t)}function Mw(r){const t=CE(r);return t.length===4?ee.emptyPath():DE(t)}function pm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DE(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Vv(r,t,i){return{name:mm(r,t),fields:i.value.mapValue.fields}}function kw(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:dt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Ye.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ye.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:SE(y.code);return new rt(A,y.message||"")})(d);i=new RE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=qd(r,s.document.name),c=Ii(s.document.updateTime),d=s.document.createTime?Ii(s.document.createTime):yt.min(),g=new fn({mapValue:{fields:s.document.fields}}),v=$e.newFoundDocument(l,c,d,g),y=s.targetIds||[],A=s.removedTargetIds||[];i=new Bc(y,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=qd(r,s.document),c=s.readTime?Ii(s.readTime):yt.min(),d=$e.newNoDocument(l,c),g=s.removedTargetIds||[];i=new Bc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=qd(r,s.document),c=s.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Sw(l,c),g=s.targetId;i=new wE(g,d)}}return i}function Lw(r,t){let i;if(t instanceof Ql)i={update:Vv(r,t.key,t.value)};else if(t instanceof Um)i={delete:mm(r,t.key)};else if(t instanceof ss)i={update:Vv(r,t.key,t.data),updateMask:Fw(t.fieldMask)};else{if(!(t instanceof Tw))return dt(16599,{dt:t.type});i={verify:mm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw dt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Vw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt(27497)})(r,t.precondition)),i}function Uw(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ii(l.updateTime):Ii(c);return d.isEqual(yt.min())&&(d=Ii(c)),new _w(d,l.transformResults||[])})(i,t)))):[]}function jw(r,t){return{documents:[xE(r,t.path)]}}function Pw(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=xE(r,l);const c=(function(y){if(y.length!==0)return OE(ni.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(V){return{field:Ha(V.field),direction:qw(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=fm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function zw(r){let t=Mw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Gt(s===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const V=NE(w);return V instanceof ni&&oE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(W){return new jl(Ga(W.field),(function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let V;return V=typeof w=="object"?w.value:w,mh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(w){const V=!!w.before,K=w.values||[];return new $c(K,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const V=!w.before,K=w.values||[];return new $c(K,V)})(i.endAt)),nw(t,l,d,c,g,"F",v,y)}function Bw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function NE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ga(i.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ie.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ni.create(i.compositeFilter.filters.map((s=>NE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(r):dt(30097,{filter:r})}function qw(r){return xw[r]}function Hw(r){return Dw[r]}function Gw(r){return Nw[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function Ga(r){return Qe.fromServerFormat(r.fieldPath)}function OE(r){return r instanceof Ie?(function(i){if(i.op==="=="){if(Ev(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(vv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ev(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(vv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:Hw(i.op),value:i.value}}})(r):r instanceof ni?(function(i){const s=i.getFilters().map((l=>OE(l)));return s.length===1?s[0]:{compositeFilter:{op:Gw(i.op),filters:s}}})(r):dt(54877,{filter:r})}function Fw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function VE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function ME(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Hr{constructor(t,i,s,l,c=yt.min(),d=yt.min(),g=Ye.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Qw{constructor(t){this.yt=t}}function Kw(r){const t=zw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hm(t,t.limit,"L"):t}class Yw{constructor(){this.Sn=new Xw}addToCollectionParentIndex(t,i){return this.Sn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(Zr.min())}updateCollectionGroup(t,i,s){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class Xw{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Me(ee.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Me(ee.comparator)).toArray()}}const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(kE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class io{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new io(0)}static ar(){return new io(-1)}}const kv="LruGarbageCollector",Jw=1048576;function Lv([r,t],[i,s]){const l=Nt(r,i);return l===0?Nt(t,s):l}class Zw{constructor(t){this.Pr=t,this.buffer=new Me(Lv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Lv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $w{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){st(kv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?st(kv,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Ar(3e5)}))}}class Ww{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(dh.ce);const s=new Zw(i);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Mv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,l,c,d,g,v,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(s=w,g=Date.now(),this.removeTargets(t,s,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(t,s)))).next((w=>(y=Date.now(),Ba()<=Dt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function t2(r,t){return new Ww(r,t)}class e2{constructor(){this.changes=new Ks((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class n2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class i2{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&Nl(s.mutation,l,bn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Ps();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=Sl();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ps();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,l){let c=er();const d=Dl(),g=(function(){return Dl()})();return i.forEach(((v,y)=>{const A=s.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof ss)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Nl(A.mutation,y,A.mutation.getFieldMask(),re.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new n2(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=Dl();let l=new le(((d,g)=>d-g)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=s.get(v)||bn.empty();A=g.applyToLocalView(y,A),s.set(v,A);const w=(l.get(g.batchId)||Ot()).add(v);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,A=v.value,w=gE();A.forEach((V=>{if(!c.has(V)){const K=bE(i.get(V),s.get(V));K!==null&&w.set(V,K),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return iw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):hE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):Z.resolve(Ps());let g=Ml,v=c;return d.next((y=>Z.forEach(y,((A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{v=v.insert(A,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Ot()))).next((A=>({batchId:g,changes:pE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next((s=>{let l=Sl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(v=>{const y=(function(w,V){return new fo(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((A=>{A.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))}));let g=Sl();return d.forEach(((v,y)=>{const A=c.get(v);A!==void 0&&Nl(A.mutation,y,bn.empty(),re.now()),yh(i,y)&&(g=g.insert(v,y))})),g}))}}class r2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return Z.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ii(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:Kw(l.bundledQuery),readTime:Ii(l.readTime)}})(i)),Z.resolve()}}class s2{constructor(){this.overlays=new le(ct.comparator),this.Lr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ps();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.bt(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Z.resolve()}getOverlaysForCollection(t,i,s){const l=Ps(),c=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>s&&l.set(v.getKey(),v)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new le(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let A=c.get(y.largestBatchId);A===null&&(A=Ps(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Ps(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return Z.resolve(g)}bt(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Aw(i,s));let c=this.Lr.get(i);c===void 0&&(c=Ot(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class a2{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Bm{constructor(){this.kr=new Me(je.Kr),this.qr=new Me(je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new je(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new je(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new ct(new ee([])),s=new je(i,t),l=new je(i,t+1),c=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ct(new ee([])),s=new je(i,t),l=new je(i,t+1);let c=Ot();return this.qr.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new je(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class je{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ct.comparator(t.key,i.key)||Nt(t.Hr,i.Hr)}static Ur(t,i){return Nt(t.Hr,i.Hr)||ct.comparator(t.key,i.key)}}class o2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(je.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bw(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new je(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Xr(s),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Dm:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Me(Nt);return i.forEach((l=>{const c=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{s=s.add(g.Hr)}))})),Z.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ct.isDocumentKey(c)||(c=c.child(""));const d=new je(new ct(c),0);let g=new Me(Nt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Hr)),!0)}),d),Z.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Z.forEach(i.mutations,(l=>{const c=new je(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new je(i,0),l=this.Jr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class l2{constructor(t){this.ti=t,this.docs=(function(){return new le(ct.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let s=er();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=er();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||VS(OS(A),s)<=0||(l.has(A.key)||yh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,s,l){dt(9500)}ni(t,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new u2(this)}getSize(t){return Z.resolve(this.size)}}class u2 extends e2{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),Z.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class c2{constructor(t){this.persistence=t,this.ri=new Ks((i=>Vm(i)),Mm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new Bm,this.targetCount=0,this.oi=io._r()}forEachTarget(t,i){return this.ri.forEach(((s,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),Z.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new io(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.lr(i),Z.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return Z.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),Z.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return Z.resolve(s)}containsKey(t,i){return Z.resolve(this.si.containsKey(i))}}class LE{constructor(t,i){this._i={},this.overlays={},this.ai=new dh(0),this.ui=!1,this.ui=!0,this.ci=new a2,this.referenceDelegate=t(this),this.li=new c2(this),this.indexManager=new Yw,this.remoteDocumentCache=(function(l){return new l2(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Qw(i),this.Pi=new r2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new s2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new o2(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){st("MemoryPersistence","Starting transaction:",t);const l=new h2(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return Z.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class h2 extends kS{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Bm,this.Ai=null}static Vi(t){return new qm(t)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),Z.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(s=>{const l=ct.fromPath(s);return this.mi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.fi=new Ks((s=>jS(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=t2(this,i)}static Vi(t,i){return new eh(t,i)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return Z.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(s++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),Z.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}wr(t,i,s){return Z.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Hm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=l}static Es(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,i.fromCache,s,l)}}class f2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class d2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Wb()?8:LS(We())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new f2;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,s,l){return s.documentReadCount<this.Vs?(Ba()<=Dt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(Ba()<=Dt.DEBUG&&st("QueryEngine","Query:",qa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Ba()<=Dt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):Z.resolve())}gs(t,i){if(Sv(i))return Z.resolve(null);let s=Ri(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=hm(i,null,"F"),s=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((v=>{const y=this.bs(i,g);return this.Ss(i,y,d,v.readTime)?this.gs(t,hm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,s,l){return Sv(i)||l.isEqual(yt.min())?Z.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,l)?Z.resolve(null):(Ba()<=Dt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.Ds(t,d,i,NS(l,Ml)).next((g=>g)))}))}bs(t,i){let s=new Me(dE(t));return i.forEach(((l,c)=>{yh(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,s){return Ba()<=Dt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",qa(i)),this.fs.getDocumentsMatchingQuery(t,i,Zr.min(),s)}Ds(t,i,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",m2=3e8;class p2{constructor(t,i,s,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(Nt),this.Fs=new Ks((c=>Vm(c)),Mm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new i2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function g2(r,t,i,s){return new p2(r,t,i,s)}async function UE(r,t){const i=vt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let v=Ot();for(const y of l){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function y2(r,t){const i=vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,A){const w=y.batch,V=w.keys();let K=Z.resolve();return V.forEach((W=>{K=K.next((()=>A.getEntry(v,W))).next((et=>{const it=y.docVersions.get(W);Gt(it!==null,48541),et.version.compareTo(it)<0&&(w.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),A.addEntry(et)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(v,w)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let v=Ot();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function jE(r){const t=vt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function _2(r,t){const i=vt(r),s=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((A,w)=>{const V=l.get(w);if(!V)return;g.push(i.li.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,w))));let K=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?K=K.withResumeToken(Ye.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,s)),l=l.insert(w,K),(function(et,it,ht){return et.resumeToken.approximateByteSize()===0||it.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=m2?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(V,K,A)&&g.push(i.li.updateTargetData(c,K))}));let v=er(),y=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(v2(c,d,t.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!s.isEqual(yt.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(A)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function v2(r,t,i){let s=Ot(),l=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=er();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(yt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):st(Gm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function E2(r,t){const i=vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Dm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function T2(r,t){const i=vt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.li.getTargetData(s,t).next((c=>c?(l=c,Z.resolve(l)):i.li.allocateTargetId(s).next((d=>(l=new Hr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function gm(r,t,i){const s=vt(r),l=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;st(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function Uv(r,t,i){const s=vt(r);let l=yt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const w=vt(v),V=w.Fs.get(A);return V!==void 0?Z.resolve(w.vs.get(V)):w.li.getTargetData(y,A)})(s,d,Ri(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Ot()))).next((g=>(b2(s,aw(t),g),{documents:g,ks:c})))))}function b2(r,t,i){let s=r.Ms.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(t,s)}class jv{constructor(){this.activeTargetIds=fw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class A2{constructor(){this.vo=new jv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new jv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class S2{Mo(t){}shutdown(){}}const Pv="ConnectivityMonitor";class zv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){st(Pv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){st(Pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function ym(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Hd="RestConnection",w2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class R2{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===Jc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,i,s,l,c){const d=ym(),g=this.Qo(t,i.toUriEncodedString());st(Hd,`Sending RPC '${t}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(g),A=oo(y);return this.zo(t,g,v,s,A).then((w=>(st(Hd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Wa(Hd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",s),w}))}jo(t,i,s,l,c,d){return this.Wo(t,i,s,l,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const s=w2[t];let l=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class I2{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Je="WebChannelConnection",bl=(r,t,i)=>{r.listen(t,(s=>{try{i(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Qa extends R2{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Qa.c_){const t=H0();bl(t,q0.STAT_EVENT,(i=>{i.stat===rm.PROXY?st(Je,"STAT_EVENT: detected buffering proxy"):i.stat===rm.NOPROXY&&st(Je,"STAT_EVENT: detected no buffering proxy")})),Qa.c_=!0}}zo(t,i,s,l,c){const d=ym();return new Promise(((g,v)=>{const y=new z0;y.setWithCredentials(!0),y.listenOnce(B0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Uc.NO_ERROR:const w=y.getResponseJson();st(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Uc.TIMEOUT:st(Je,`RPC '${t}' ${d} timed out`),v(new rt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const V=y.getStatus();if(st(Je,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const et=(function(ht){const Et=ht.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Et)>=0?Et:J.UNKNOWN})(W.status);v(new rt(et,W.message))}else v(new rt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new rt(J.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Je,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);st(Je,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,s,15)}))}T_(t,i,s){const l=ym(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const y=c.join("");st(Je,`Creating RPC '${t}' stream ${l}: ${y}`,g);const A=d.createWebChannel(y,g);this.I_(A);let w=!1,V=!1;const K=new I2({Ho:W=>{V?st(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(w||(st(Je,`Opening RPC '${t}' stream ${l} transport.`),A.open(),w=!0),st(Je,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Jo:()=>A.close()});return bl(A,Al.EventType.OPEN,(()=>{V||(st(Je,`RPC '${t}' stream ${l} transport opened.`),K.i_())})),bl(A,Al.EventType.CLOSE,(()=>{V||(V=!0,st(Je,`RPC '${t}' stream ${l} transport closed`),K.o_(),this.E_(A))})),bl(A,Al.EventType.ERROR,(W=>{V||(V=!0,Wa(Je,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),K.o_(new rt(J.UNAVAILABLE,"The operation could not be completed")))})),bl(A,Al.EventType.MESSAGE,(W=>{if(!V){const et=W.data[0];Gt(!!et,16349);const it=et,ht=it?.error||it[0]?.error;if(ht){st(Je,`RPC '${t}' stream ${l} received error:`,ht);const Et=ht.status;let mt=(function(Lt){const x=Re[Lt];if(x!==void 0)return SE(x)})(Et),Pt=ht.message;mt===void 0&&(mt=J.INTERNAL,Pt="Unknown error status: "+Et+" with message "+ht.message),V=!0,K.o_(new rt(mt,Pt)),A.close()}else st(Je,`RPC '${t}' stream ${l} received:`,et),K.__(et)}})),Qa.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return G0()}}function C2(r){return new Qa(r)}function Gd(){return typeof document<"u"?document:null}function Th(r){return new Ow(r,!0)}Qa.c_=!1;class PE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Bv="PersistentStream";class zE{constructor(t,i,s,l,c,d,g,v){this.Ci=t,this.b_=s,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(tr(i.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new rt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(st(Bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class x2 extends zE{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=kw(this.serializer,t),s=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ii(d.readTime):yt.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=um(v)?{documents:jw(c,v)}:{query:Pw(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=IE(c,d.resumeToken);const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=th(c,d.snapshotVersion.toTimestamp());const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const s=Bw(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.K_(i)}}class D2 extends zE{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Uw(t.writeResults,t.commitTime),s=Ii(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=pm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>Lw(this.serializer,s)))};this.K_(i)}}class N2{}class O2 extends N2{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,dm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(J.UNKNOWN,c.toString())}))}jo(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,dm(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function V2(r,t,i,s){return new O2(r,t,i,s)}class M2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fs="RemoteStore";class k2{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Ys(this)&&(st(Fs,"Restarting streams for network reachability change."),await(async function(v){const y=vt(v);y.Ea.add(4),await Yl(y),y.Va.set("Unknown"),y.Ea.delete(4),await bh(y)})(this))}))})),this.Va=new M2(s,l)}}async function bh(r){if(Ys(r))for(const t of r.Ra)await t(!0)}async function Yl(r){for(const t of r.Ra)await t(!1)}function BE(r,t){const i=vt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Ym(i)?Km(i):mo(i).O_()&&Qm(i,t))}function Fm(r,t){const i=vt(r),s=mo(i);i.Ia.delete(t),s.O_()&&qE(i,t),i.Ia.size===0&&(s.O_()?s.L_():Ys(i)&&i.Va.set("Unknown"))}function Qm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(r).Z_(t)}function qE(r,t){r.da.$e(t),mo(r).X_(t)}function Km(r){r.da=new Cw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Va.ua()}function Ym(r){return Ys(r)&&!mo(r).x_()&&r.Ia.size>0}function Ys(r){return vt(r).Ea.size===0}function HE(r){r.da=void 0}async function L2(r){r.Va.set("Online")}async function U2(r){r.Ia.forEach(((t,i)=>{Qm(r,t)}))}async function j2(r,t){HE(r),Ym(r)?(r.Va.ha(t),Km(r)):r.Va.set("Unknown")}async function P2(r,t,i){if(r.Va.set("Online"),t instanceof RE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(r,t)}catch(s){st(Fs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await nh(r,s)}else if(t instanceof Bc?r.da.Xe(t):t instanceof wE?r.da.st(t):r.da.tt(t),!i.isEqual(yt.min()))try{const s=await jE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(Ye.EMPTY_BYTE_STRING,A.snapshotVersion)),qE(c,v);const w=new Hr(A.target,v,y,A.sequenceNumber);Qm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){st(Fs,"Failed to raise snapshot:",s),await nh(r,s)}}async function nh(r,t,i){if(!ho(t))throw t;r.Ea.add(1),await Yl(r),r.Va.set("Offline"),i||(i=()=>jE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Fs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await bh(r)}))}function GE(r,t){return t().catch((i=>nh(r,i,t)))}async function Ah(r){const t=vt(r),i=es(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dm;for(;z2(t);)try{const l=await E2(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,B2(t,l)}catch(l){await nh(t,l)}FE(t)&&QE(t)}function z2(r){return Ys(r)&&r.Ta.length<10}function B2(r,t){r.Ta.push(t);const i=es(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function FE(r){return Ys(r)&&!es(r).x_()&&r.Ta.length>0}function QE(r){es(r).start()}async function q2(r){es(r).ra()}async function H2(r){const t=es(r);for(const i of r.Ta)t.ea(i.mutations)}async function G2(r,t,i){const s=r.Ta.shift(),l=jm.from(s,t,i);await GE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ah(r)}async function F2(r,t){t&&es(r).Y_&&await(async function(s,l){if((function(d){return ww(d)&&d!==J.ABORTED})(l.code)){const c=s.Ta.shift();es(s).B_(),await GE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(s)}})(r,t),FE(r)&&QE(r)}async function qv(r,t){const i=vt(r);i.asyncQueue.verifyOperationInProgress(),st(Fs,"RemoteStore received new credentials");const s=Ys(i);i.Ea.add(3),await Yl(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await bh(i)}async function Q2(r,t){const i=vt(r);t?(i.Ea.delete(2),await bh(i)):t||(i.Ea.add(2),await Yl(i),i.Va.set("Unknown"))}function mo(r){return r.ma||(r.ma=(function(i,s,l){const c=vt(i);return c.sa(),new x2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:L2.bind(null,r),Yo:U2.bind(null,r),t_:j2.bind(null,r),J_:P2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Ym(r)?Km(r):r.Va.set("Unknown")):(await r.ma.stop(),HE(r))}))),r.ma}function es(r){return r.fa||(r.fa=(function(i,s,l){const c=vt(i);return c.sa(),new D2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:q2.bind(null,r),t_:F2.bind(null,r),ta:H2.bind(null,r),na:G2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Ah(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Fs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Xm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new Xm(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(r,t){if(tr("AsyncQueue",`${t}: ${r}`),ho(r))return new rt(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Sl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Hv{constructor(){this.ga=new le(ct.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):dt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class ro{constructor(t,i,s,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ro(t,i,Ka.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class K2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class Y2{constructor(){this.queries=Gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=vt(i),c=l.queries;l.queries=Gv(),c.forEach(((d,g)=>{for(const v of g.ba)v.onError(s)}))})(this,new rt(J.ABORTED,"Firestore shutting down"))}}function Gv(){return new Ks((r=>fE(r)),gh)}async function X2(r,t){const i=vt(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(s=2):(c=new K2,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Jm(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Zm(i)}async function J2(r,t){const i=vt(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Z2(r,t){const i=vt(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(s=!0);d.wa=l}}s&&Zm(i)}function $2(r,t,i){const s=vt(r),l=s.queries.get(t);if(l)for(const c of l.ba)c.onError(i);s.queries.delete(t)}function Zm(r){r.Ca.forEach((t=>{t.next()}))}var _m,Fv;(Fv=_m||(_m={})).Ma="default",Fv.Cache="cache";class W2{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new ro(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_m.Cache}}class KE{constructor(t){this.key=t}}class YE{constructor(t){this.key=t}}class tR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ot(),this.mutatedKeys=Ot(),this.eu=dE(t),this.tu=new Ka(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new Hv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,w)=>{const V=l.get(A),K=yh(this.query,w)?w:null,W=!!V&&this.mutatedKeys.has(V.key),et=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let it=!1;V&&K?V.data.isEqual(K.data)?W!==et&&(s.track({type:3,doc:K}),it=!0):this.su(V,K)||(s.track({type:2,doc:K}),it=!0,(v&&this.eu(K,v)>0||y&&this.eu(K,y)<0)&&(g=!0)):!V&&K?(s.track({type:0,doc:K}),it=!0):V&&!K&&(s.track({type:1,doc:V}),it=!0,(v||y)&&(g=!0)),it&&(K?(d=d.add(K),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,w)=>(function(K,W){const et=it=>{switch(it){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:it})}};return et(K)-et(W)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new ro(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new YE(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new KE(s))})),i}cu(t){this.Za=t.ks,this.Ya=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $m="SyncEngine";class eR{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class nR{constructor(t){this.key=t,this.hu=!1}}class iR{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ks((g=>fE(g)),gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(ct.comparator),this.Au=new Map,this.Vu=new Bm,this.du={},this.mu=new Map,this.fu=io.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rR(r,t,i=!0){const s=tT(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await XE(s,t,i,!0),l}async function sR(r,t){const i=tT(r);await XE(i,t,!0,!1)}async function XE(r,t,i,s){const l=await T2(r.localStore,Ri(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await aR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&BE(r.remoteStore,l),g}async function aR(r,t,i,s,l){r.pu=(w,V,K)=>(async function(et,it,ht,Et){let mt=it.view.ru(ht);mt.Ss&&(mt=await Uv(et.localStore,it.query,!1).then((({documents:x})=>it.view.ru(x,mt))));const Pt=Et&&Et.targetChanges.get(it.targetId),Ft=Et&&Et.targetMismatches.get(it.targetId)!=null,Lt=it.view.applyChanges(mt,et.isPrimaryClient,Pt,Ft);return Kv(et,it.targetId,Lt.au),Lt.snapshot})(r,w,V,K);const c=await Uv(r.localStore,t,!0),d=new tR(t,c.ks),g=d.ru(c.documents),v=Kl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,v);Kv(r,i,y.au);const A=new eR(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function oR(r,t,i){const s=vt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Fm(s.remoteStore,l.targetId),vm(s,l.targetId)})).catch(co)):(vm(s,l.targetId),await gm(s.localStore,l.targetId,!0))}async function lR(r,t){const i=vt(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Fm(i.remoteStore,s.targetId))}async function uR(r,t,i){const s=gR(r);try{const l=await(function(d,g){const v=vt(d),y=re.now(),A=g.reduce(((K,W)=>K.add(W.key)),Ot());let w,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=er(),et=Ot();return v.xs.getEntries(K,A).next((it=>{W=it,W.forEach(((ht,Et)=>{Et.isValidDocument()||(et=et.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,W))).next((it=>{w=it;const ht=[];for(const Et of g){const mt=Ew(Et,w.get(Et.key).overlayedDocument);mt!=null&&ht.push(new ss(Et.key,mt,rE(mt.value.mapValue),ti.exists(!0)))}return v.mutationQueue.addMutationBatch(K,y,ht,g)})).next((it=>{V=it;const ht=it.applyToLocalDocumentSet(w,et);return v.documentOverlayCache.saveOverlays(K,it.batchId,ht)}))})).then((()=>({batchId:V.batchId,changes:pE(w)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.du[d.currentUser.toKey()];y||(y=new le(Nt)),y=y.insert(g,v),d.du[d.currentUser.toKey()]=y})(s,l.batchId,i),await Xl(s,l.changes),await Ah(s.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function JE(r,t){const i=vt(r);try{const s=await _2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Xl(i,s,t)}catch(s){await co(s)}}function Qv(r,t,i){const s=vt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=vt(d);v.onlineState=g;let y=!1;v.queries.forEach(((A,w)=>{for(const V of w.ba)V.va(g)&&(y=!0)})),y&&Zm(v)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function cR(r,t,i){const s=vt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new le(ct.comparator);d=d.insert(c,$e.newNoDocument(c,yt.min()));const g=Ot().add(c),v=new Eh(yt.min(),new Map,new le(Nt),d,g);await JE(s,v),s.Ru=s.Ru.remove(c),s.Au.delete(t),Wm(s)}else await gm(s.localStore,t,!1).then((()=>vm(s,t,i))).catch(co)}async function hR(r,t){const i=vt(r),s=t.batch.batchId;try{const l=await y2(i.localStore,t);$E(i,s,null),ZE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Xl(i,l)}catch(l){await co(l)}}async function fR(r,t,i){const s=vt(r);try{const l=await(function(d,g){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,g).next((w=>(Gt(w!==null,37113),A=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(s.localStore,t);$E(s,t,i),ZE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Xl(s,l)}catch(l){await co(l)}}function ZE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function $E(r,t,i){const s=vt(r);let l=s.du[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function vm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||WE(r,s)}))}function WE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Fm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Wm(r))}function Kv(r,t,i){for(const s of i)s instanceof KE?(r.Vu.addReference(s.key,t),dR(r,s)):s instanceof YE?(st($m,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||WE(r,s.key)):dt(19791,{wu:s})}function dR(r,t){const i=t.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(st($m,"New document in limbo: "+i),r.Eu.add(s),Wm(r))}function Wm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ct(ee.fromString(t)),s=r.fu.next();r.Au.set(s,new nR(i)),r.Ru=r.Ru.insert(i,s),BE(r.remoteStore,new Hr(Ri(km(i.path)),s,"TargetPurposeLimboResolution",dh.ce))}}async function Xl(r,t,i){const s=vt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,v)=>{d.push(s.pu(v,t,i).then((y=>{if((y||i)&&s.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Hm.Es(v.targetId,y);c.push(A)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(v,y){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(y,(V=>Z.forEach(V.Ts,(K=>A.persistence.referenceDelegate.addReference(w,V.targetId,K))).next((()=>Z.forEach(V.Is,(K=>A.persistence.referenceDelegate.removeReference(w,V.targetId,K)))))))))}catch(w){if(!ho(w))throw w;st(Gm,"Failed to update sequence numbers: "+w)}for(const w of y){const V=w.targetId;if(!w.fromCache){const K=A.vs.get(V),W=K.snapshotVersion,et=K.withLastLimboFreeSnapshotVersion(W);A.vs=A.vs.insert(V,et)}}})(s.localStore,c))}async function mR(r,t){const i=vt(r);if(!i.currentUser.isEqual(t)){st($m,"User change. New user:",t.toKey());const s=await UE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new rt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Xl(i,s.Ns)}}function pR(r,t){const i=vt(r),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function tT(r){const t=vt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=JE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cR.bind(null,t),t.Pu.J_=Z2.bind(null,t.eventManager),t.Pu.yu=$2.bind(null,t.eventManager),t}function gR(r){const t=vt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fR.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return g2(this.persistence,new d2,t.initialUser,this.serializer)}Cu(t){return new LE(qm.Vi,this.serializer)}Du(t){return new A2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class yR extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $w(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new LE((s=>eh.Vi(s,i)),this.serializer)}}class Em{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Qv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mR.bind(null,this.syncEngine),await Q2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Y2})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),s=C2(t.databaseInfo);return V2(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,g){return new k2(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Qv(this.syncEngine,i,0)),(function(){return zv.v()?new zv:new S2})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,A){const w=new iR(l,c,d,g,v,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=vt(i);st(Fs,"RemoteStore shutting down."),s.Ea.add(5),await Yl(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class _R{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ns="FirestoreClient";class vR{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{st(ns,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(st(ns,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Jm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Fd(r,t){r.asyncQueue.verifyOperationInProgress(),st(ns,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await UE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Yv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await ER(r);st(ns,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>qv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>qv(t.remoteStore,l))),r._onlineComponents=t}async function ER(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(ns,"Using user provided OfflineComponentProvider");try{await Fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await Fd(r,new ih)}}else st(ns,"Using default OfflineComponentProvider"),await Fd(r,new yR(void 0));return r._offlineComponents}async function eT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(ns,"Using user provided OnlineComponentProvider"),await Yv(r,r._uninitializedComponentsProvider._online)):(st(ns,"Using default OnlineComponentProvider"),await Yv(r,new Em))),r._onlineComponents}function TR(r){return eT(r).then((t=>t.syncEngine))}async function Xv(r){const t=await eT(r),i=t.eventManager;return i.onListen=rR.bind(null,t.syncEngine),i.onUnlisten=oR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=sR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=lR.bind(null,t.syncEngine),i}function bR(r,t,i,s){const l=new _R(s),c=new W2(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>X2(await Xv(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>J2(await Xv(r),c)))}}function AR(r,t){const i=new zs;return r.asyncQueue.enqueueAndForget((async()=>uR(await TR(r),t,i))),i.promise}function nT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const SR="ComponentProvider",Jv=new Map;function wR(r,t,i,s,l){return new BS(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,nT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}const iT="firestore.googleapis.com",Zv=!0;class $v{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iT,this.ssl=Zv}else this.host=t.host,this.ssl=t.ssl??Zv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Jw)throw new rt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ES;switch(s.type){case"firstParty":return new SS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Jv.get(i);s&&(st(SR,"Removing Datastore"),Jv.delete(i),s.terminate())})(this),Promise.resolve()}}function RR(r,t,i,s={}){r=Yr(r,Sh);const l=oo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(N0(`https://${g}`),O0("Firestore",!0)),c.host!==iT&&c.host!==g&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:s};if(!qs(v,d)&&(r._setSettings(v),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=Ze.MOCK_USER;else{y=Gb(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new rt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ze(w)}r._authCredentials=new TS(new Q0(y,A))}}class Xs{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Xs(this.firestore,t,this._query)}}class xe{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Fl(i,xe._jsonSchema))return new xe(t,s||null,new ct(ee.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ce("string",xe._jsonSchemaVersion),referencePath:Ce("string")};class Xr extends Xs{constructor(t,i,s){super(t,i,km(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new ct(t))}withConverter(t){return new Xr(this.firestore,t,this._path)}}function za(r,t,...i){if(r=Ke(r),K0("collection","path",t),r instanceof Sh){const s=ee.fromString(t,...i);return cv(s),new Xr(r,null,s)}{if(!(r instanceof xe||r instanceof Xr))throw new rt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...i));return cv(s),new Xr(r.firestore,null,s)}}function js(r,t,...i){if(r=Ke(r),arguments.length===1&&(t=xm.newId()),K0("doc","path",t),r instanceof Sh){const s=ee.fromString(t,...i);return uv(s),new xe(r,null,new ct(s))}{if(!(r instanceof xe||r instanceof Xr))throw new rt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...i));return uv(s),new xe(r.firestore,r instanceof Xr?r.converter:null,new ct(s))}}const Wv="AsyncQueue";class t0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PE(this,"async_queue_retry"),this._c=()=>{const s=Gd();s&&st(Wv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;st(Wv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",e0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Xm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&dt(47125,{Pc:e0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function e0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class so extends Sh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new t0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new t0(t),this._firestoreClient=void 0,await t}}}function IR(r,t){const i=typeof r=="object"?r:L0(),s=typeof r=="string"?r:Jc,l=Im(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=qb("firestore");c&&RR(l,...c)}return l}function rT(r){if(r._terminated)throw new rt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CR(r),r._firestoreClient}function CR(r){const t=r._freezeSettings(),i=wR(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new vR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Ye.fromBase64String(t))}catch(i){throw new rt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ce("string",jn._jsonSchemaVersion),bytes:Ce("string")};class tp{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wh{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ce("string",Ci._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class ei{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ei(t.vectorValues);throw new rt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Ce("string",ei._jsonSchemaVersion),vectorValues:Ce("object")};const xR=/^__.*__$/;class DR{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new ss(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}class sT{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new ss(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function aT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:r})}}class ep{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ep({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return rh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(aT(this.dataSource)&&xR.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class NR{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Th(t)}createContext(t,i,s,l=!1){return new ep({dataSource:t,methodName:i,targetDoc:s,path:Qe.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function np(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new NR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function OR(r,t,i,s,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);rp("Data must be an object, but it was:",d,s);const g=oT(s,d);let v,y;if(c.merge)v=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const V=ao(t,w,i);if(!d.contains(V))throw new rt(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);cT(A,V)||A.push(V)}v=new bn(A),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new DR(new fn(g),v,y)}class Rh extends wh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}class ip extends wh{_toFieldTransform(t){return new gw(t.path,new Pl)}isEqual(t){return t instanceof ip}}function VR(r,t,i,s){const l=r.createContext(1,t,i);rp("Data must be an object, but it was:",l,s);const c=[],d=fn.empty();rs(s,((v,y)=>{const A=uT(t,v,i);y=Ke(y);const w=l.childContextForFieldPath(A);if(y instanceof Rh)c.push(A);else{const V=Jl(y,w);V!=null&&(c.push(A),d.set(A,V))}}));const g=new bn(c);return new sT(d,g,l.fieldTransforms)}function MR(r,t,i,s,l,c){const d=r.createContext(1,t,i),g=[ao(t,s,i)],v=[l];if(c.length%2!=0)throw new rt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(ao(t,c[V])),v.push(c[V+1]);const y=[],A=fn.empty();for(let V=g.length-1;V>=0;--V)if(!cT(y,g[V])){const K=g[V];let W=v[V];W=Ke(W);const et=d.childContextForFieldPath(K);if(W instanceof Rh)y.push(K);else{const it=Jl(W,et);it!=null&&(y.push(K),A.set(K,it))}}const w=new bn(y);return new sT(A,w,d.fieldTransforms)}function kR(r,t,i,s=!1){return Jl(i,r.createContext(s?4:3,t))}function Jl(r,t){if(lT(r=Ke(r)))return rp("Unsupported field value:",t,r),oT(r,t);if(r instanceof wh)return(function(s,l){if(!aT(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let v=Jl(g,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=Ke(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:th(l.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:IE(l.serializer,s._byteString)};if(s instanceof xe){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ei)return(function(d,g){const v=d instanceof ei?d.toArray():d;return{mapValue:{fields:{[nE]:{stringValue:iE},[Zc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw g.createError("VectorValues must only contain numeric values.");return Lm(g.serializer,A)}))}}}}}})(s,l);if(ME(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${fh(s)}`)})(r,t)}function oT(r,t){const i={};return J0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rs(r,((s,l)=>{const c=Jl(l,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function lT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Ci||r instanceof jn||r instanceof xe||r instanceof wh||r instanceof ei||ME(r))}function rp(r,t,i){if(!lT(i)||!Y0(i)){const s=fh(i);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function ao(r,t,i){if((t=Ke(t))instanceof tp)return t._internalPath;if(typeof t=="string")return uT(r,t);throw rh("Field path arguments must be of type string or ",r,!1,void 0,i)}const LR=new RegExp("[~\\*/\\[\\]]");function uT(r,t,i){if(t.search(LR)>=0)throw rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new tp(...t.split("."))._internalPath}catch{throw rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function rh(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${s}`),d&&(v+=` in document ${l}`),v+=")"),new rt(J.INVALID_ARGUMENT,g+r+v)}function cT(r,t){return r.some((i=>i.isEqual(t)))}class UR{convertValue(t,i="none"){switch(ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return rs(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Zc].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new ei(i)}convertGeoPoint(t){return new Ci(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=ph(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const i=$r(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ee.fromString(t);Gt(VE(s),9688,{name:t});const l=new Ll(s.get(1),s.get(3)),c=new ct(s.popFirst(5));return l.isEqual(i)||tr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class hT extends UR{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,i)}}function jR(){return new ip("serverTimestamp")}const n0="@firebase/firestore",i0="4.10.0";function r0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class fT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(ao("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class PR extends fT{data(){return super.data()}}function zR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class dT extends sp{}function BR(r,t,...i){let s=[];t instanceof sp&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((v=>v instanceof op)).length,g=c.filter((v=>v instanceof ap)).length;if(d>1||d>0&&g>0)throw new rt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class ap extends dT{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new ap(t,i,s)}_apply(t){const i=this._parse(t);return mT(t._query,i),new Xs(t.firestore,t.converter,cm(t._query,i))}_parse(t){const i=np(t.firestore);return(function(c,d,g,v,y,A,w){let V;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){a0(w,A);const W=[];for(const et of w)W.push(s0(v,c,et));V={arrayValue:{values:W}}}else V=s0(v,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||a0(w,A),V=kR(g,d,w,A==="in"||A==="not-in");return Ie.create(y,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class op extends sp{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new op(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:ni.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const v of g)mT(d,v),d=cm(d,v)})(t._query,i),new Xs(t.firestore,t.converter,cm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lp extends dT{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new lp(t,i)}_apply(t){const i=(function(l,c,d){if(l.startAt!==null)throw new rt(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jl(c,d)})(t._query,this._field,this._direction);return new Xs(t.firestore,t.converter,sw(t._query,i))}}function qR(r,t="asc"){const i=t,s=ao("orderBy",r);return lp._create(s,i)}function s0(r,t,i){if(typeof(i=Ke(i))=="string"){if(i==="")throw new rt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hE(t)&&i.indexOf("/")!==-1)throw new rt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(ee.fromString(i));if(!ct.isDocumentKey(s))throw new rt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return _v(r,new ct(s))}if(i instanceof xe)return _v(r,i._key);throw new rt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(i)}.`)}function a0(r,t){if(!Array.isArray(r)||r.length===0)throw new rt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mT(r,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function HR(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class Rl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends fT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(ao("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ce("string",Bs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class qc extends Bs{data(t={}){return super.data(t)}}class Ya{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new qc(this._firestore,this._userDataWriter,s.key,s,new Rl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:GR(g.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function GR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Ce("string",Ya._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function Qd(r,t,i,...s){r=Yr(r,xe);const l=Yr(r.firestore,so),c=np(l);let d;return d=typeof(t=Ke(t))=="string"||t instanceof tp?MR(c,"updateDoc",r._key,t,i,s):VR(c,"updateDoc",r._key,t),up(l,[d.toMutation(r._key,ti.exists(!0))])}function Kd(r){return up(Yr(r.firestore,so),[new Um(r._key,ti.none())])}function Yd(r,t){const i=Yr(r.firestore,so),s=js(r),l=HR(r.converter,t),c=np(r.firestore);return up(i,[OR(c,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ti.exists(!1))]).then((()=>s))}function Xd(r,...t){r=Ke(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||r0(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(r0(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof xe)d=Yr(r.firestore,so),g=km(r._key.path),c={next:y=>{t[s]&&t[s](FR(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Yr(r,Xs);d=Yr(y.firestore,so),g=y._query;const A=new hT(d);c={next:w=>{t[s]&&t[s](new Ya(d,A,y,w))},error:t[s+1],complete:t[s+2]},zR(r._query)}const v=rT(d);return bR(v,g,l,c)}function up(r,t){const i=rT(r);return AR(i,t)}function FR(r,t,i){const s=i.docs.get(t._key),l=new hT(r);return new Bs(r,l,t._key,s,new Rl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){vS(lo),$a(new Hs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new so(new bS(s.getProvider("auth-internal")),new wS(d,s.getProvider("app-check-internal")),qS(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Qr(n0,i0,t),Qr(n0,i0,"esm2020")})();function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QR=pT,gT=new Hl("auth","Firebase",pT());const sh=new wm("@firebase/auth");function KR(r,...t){sh.logLevel<=Dt.WARN&&sh.warn(`Auth (${lo}): ${r}`,...t)}function Hc(r,...t){sh.logLevel<=Dt.ERROR&&sh.error(`Auth (${lo}): ${r}`,...t)}function nr(r,...t){throw cp(r,...t)}function xi(r,...t){return cp(r,...t)}function yT(r,t,i){const s={...QR(),[t]:i};return new Hl("auth","Firebase",s).create(t,{appName:r.name})}function Jr(r){return yT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cp(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return gT.create(r,...t)}function pt(r,t,...i){if(!r)throw cp(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Hc(t),new Error(t)}function ir(r,t){r||Zi(t)}function Tm(){return typeof self<"u"&&self.location?.href||""}function YR(){return o0()==="http:"||o0()==="https:"}function o0(){return typeof self<"u"&&self.location?.protocol||null}function XR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YR()||Jb()||"connection"in navigator)?navigator.onLine:!0}function JR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ir(i>t,"Short delay should be less than long delay!"),this.isMobile=Kb()||Zb()}get(){return XR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hp(r,t){ir(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class _T{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $R=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WR=new Zl(3e4,6e4);function Ih(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function po(r,t,i,s,l={}){return vT(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Gl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return Xb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(y.credentials="include"),_T.fetch()(await TT(r,r.config.apiHost,i,g),y)})}async function vT(r,t,i){r._canInitEmulator=!1;const s={...ZR,...t};try{const l=new tI(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Mc(r,"user-disabled",d);const A=s[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw yT(r,A,y);nr(r,A)}}catch(l){if(l instanceof rr)throw l;nr(r,"network-request-failed",{message:String(l)})}}async function ET(r,t,i,s,l={}){const c=await po(r,t,i,s,l);return"mfaPendingCredential"in c&&nr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function TT(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?hp(r.config,l):`${r.config.apiScheme}://${l}`;return $R.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class tI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(xi(this.auth,"network-request-failed")),WR.get())})}}function Mc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=xi(r,t,s);return l.customData._tokenResponse=i,l}async function eI(r,t){return po(r,"POST","/v1/accounts:delete",t)}async function ah(r,t){return po(r,"POST","/v1/accounts:lookup",t)}function Ol(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nI(r,t=!1){const i=Ke(r),s=await i.getIdToken(t),l=fp(s);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Ol(Jd(l.auth_time)),issuedAtTime:Ol(Jd(l.iat)),expirationTime:Ol(Jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Jd(r){return Number(r)*1e3}function fp(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=I0(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function l0(r){const t=fp(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ql(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof rr&&iI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function iI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class rI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class bm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(r){const t=r.auth,i=await r.getIdToken(),s=await ql(r,ah(t,{idToken:i}));pt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?bT(l.providerUserInfo):[],d=aI(r.providerData,c),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=g?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function sI(r){const t=Ke(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aI(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function bT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function oI(r,t){const i=await vT(r,{},async()=>{const s=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await TT(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:s};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(v.credentials="include"),_T.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function lI(r,t){return po(r,"POST","/v2/accounts:revokeToken",Ih(r,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):l0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=l0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await oI(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Xa;return s&&(pt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function jr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new rI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await ql(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return nI(this,t)}reload(){return sI(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Jr(this.auth));const t=await this.getIdToken();return await ql(this,eI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:K,providerData:W,stsTokenManager:et}=i;pt(w&&et,t,"internal-error");const it=Xa.fromJSON(this.name,et);pt(typeof w=="string",t,"internal-error"),jr(s,t.name),jr(l,t.name),pt(typeof V=="boolean",t,"internal-error"),pt(typeof K=="boolean",t,"internal-error"),jr(c,t.name),jr(d,t.name),jr(g,t.name),jr(v,t.name),jr(y,t.name),jr(A,t.name);const ht=new Wn({uid:w,auth:t,email:l,emailVerified:V,displayName:s,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:it,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(ht.providerData=W.map(Et=>({...Et}))),v&&(ht._redirectEventId=v),ht}static async _fromIdTokenResponse(t,i,s=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await oh(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?bT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Xa;g.updateFromIdToken(s);const v=new Wn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const u0=new Map;function $i(r){ir(r instanceof Function,"Expected a class definition");let t=u0.get(r);return t?(ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,u0.set(r,t),t)}class AT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}AT.type="NONE";const c0=AT;function Gc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ja{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Gc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ah(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Ja($i(c0),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||$i(c0);const d=Gc(s,t.config.apiKey,t.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let w;if(typeof A=="string"){const V=await ah(t,{idToken:A}).catch(()=>{});if(!V)break;w=await Wn._fromGetAccountInfoResponse(t,V,A)}else w=Wn._fromJSON(t,A);y!==c&&(g=w),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ja(c,t,s):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ja(c,t,s))}}function h0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(IT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ST(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xT(t))return"Blackberry";if(DT(t))return"Webos";if(wT(t))return"Safari";if((t.includes("chrome/")||RT(t))&&!t.includes("edge/"))return"Chrome";if(CT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function ST(r=We()){return/firefox\//i.test(r)}function wT(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function RT(r=We()){return/crios\//i.test(r)}function IT(r=We()){return/iemobile/i.test(r)}function CT(r=We()){return/android/i.test(r)}function xT(r=We()){return/blackberry/i.test(r)}function DT(r=We()){return/webos/i.test(r)}function dp(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uI(r=We()){return dp(r)&&!!window.navigator?.standalone}function cI(){return $b()&&document.documentMode===10}function NT(r=We()){return dp(r)||CT(r)||DT(r)||xT(r)||/windows phone/i.test(r)||IT(r)}function OT(r,t=[]){let i;switch(r){case"Browser":i=h0(We());break;case"Worker":i=`${h0(We())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${s}`}class hI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function fI(r,t={}){return po(r,"GET","/v2/passwordPolicy",Ih(r,t))}const dI=6;class mI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??dI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class pI{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new hI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ah(this,{idToken:t}),s=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(Jr(this));const i=t?Ke(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fI(this),i=new mI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await lI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,s,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=OT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&KR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ch(r){return Ke(r)}class f0{constructor(t){this.auth=t,this.observer=null,this.addObserver=aA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gI(r){mp=r}function yI(r){return mp.loadJS(r)}function _I(){return mp.gapiScript}function vI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function EI(r,t){const i=Im(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(qs(c,t??{}))return l;nr(l,"already-initialized")}return i.initialize({options:t})}function TI(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function bI(r,t,i){const s=Ch(r);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=VT(t),{host:d,port:g}=AI(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(qs(y,s.config.emulator)&&qs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,oo(d)?(N0(`${c}//${d}${v}`),O0("Auth",!0)):SI()}function VT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function AI(r){const t=VT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:d0(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:d0(d)}}}function d0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function SI(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class MT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Za(r,t){return ET(r,"POST","/v1/accounts:signInWithIdp",Ih(r,t))}const wI="http://localhost";class Qs extends MT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):nr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Qs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Za(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:wI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}class kT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends kT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends $l{constructor(){super("facebook.com")}static credential(t){return Qs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class zr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return zr.credential(i,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";class Br extends $l{constructor(){super("github.com")}static credential(t){return Qs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";class qr extends $l{constructor(){super("twitter.com")}static credential(t,i){return Qs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return qr.credential(i,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";async function RI(r,t){return ET(r,"POST","/v1/accounts:signUp",Ih(r,t))}class is{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Wn._fromIdTokenResponse(t,s,l),d=m0(s);return new is({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=m0(s);return new is({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function m0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function II(r){if($n(r.app))return Promise.reject(Jr(r));const t=Ch(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new is({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await RI(t,{returnSecureToken:!0}),s=await is._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(s.user),s}class lh extends rr{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new lh(t,i,s,l)}}function LT(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,c,t,s):c})}async function CI(r,t,i=!1){const s=await ql(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return is._forOperation(r,"link",s)}async function xI(r,t,i=!1){const{auth:s}=r;if($n(s.app))return Promise.reject(Jr(s));const l="reauthenticate";try{const c=await ql(r,LT(s,l,t,r),i);pt(c.idToken,s,"internal-error");const d=fp(c.idToken);pt(d,s,"internal-error");const{sub:g}=d;return pt(r.uid===g,s,"user-mismatch"),is._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&nr(s,"user-mismatch"),c}}async function DI(r,t,i=!1){if($n(r.app))return Promise.reject(Jr(r));const s="signIn",l=await LT(r,s,t),c=await is._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}function NI(r,t,i,s){return Ke(r).onIdTokenChanged(t,i,s)}function OI(r,t,i){return Ke(r).beforeAuthStateChanged(t,i)}function VI(r,t,i,s){return Ke(r).onAuthStateChanged(t,i,s)}const uh="__sak";class UT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const MI=1e3,kI=10;class jT extends UT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);cI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,kI):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}jT.type="LOCAL";const LI=jT;class PT extends UT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}PT.type="SESSION";const zT=PT;function UI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class xh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new xh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await UI(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function pp(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}class jI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=pp("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(w){const V=w;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function PI(r){Di().location.href=r}function BT(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function zI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){return navigator?.serviceWorker?.controller||null}function qI(){return BT()?self:null}const qT="firebaseLocalStorageDb",HI=1,ch="firebaseLocalStorage",HT="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Dh(r,t){return r.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function GI(){const r=indexedDB.deleteDatabase(qT);return new Wl(r).toPromise()}function Am(){const r=indexedDB.open(qT,HI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ch,{keyPath:HT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ch)?t(s):(s.close(),await GI(),t(await Am()))})})}async function p0(r,t,i){const s=Dh(r,!0).put({[HT]:t,value:i});return new Wl(s).toPromise()}async function FI(r,t){const i=Dh(r,!1).get(t),s=await new Wl(i).toPromise();return s===void 0?null:s.value}function g0(r,t){const i=Dh(r,!0).delete(t);return new Wl(i).toPromise()}const QI=800,KI=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>KI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(qI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zI(),!this.activeServiceWorker)return;this.sender=new jI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Am();return await p0(t,uh,"1"),await g0(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>p0(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>FI(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>g0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Dh(l,!1).getAll();return new Wl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const YI=GT;new Zl(3e4,6e4);function XI(r,t){return t?$i(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class gp extends MT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function JI(r){return DI(r.auth,new gp(r),r.bypassAuthState)}function ZI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),xI(i,new gp(r),r.bypassAuthState)}async function $I(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),CI(i,new gp(r),r.bypassAuthState)}class FT{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JI;case"linkViaPopup":case"linkViaRedirect":return $I;case"reauthViaPopup":case"reauthViaRedirect":return ZI;default:nr(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WI=new Zl(2e3,1e4);class Fa extends FT{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WI.get())};t()}}Fa.currentPopupAction=null;const tC="pendingRedirect",Fc=new Map;class eC extends FT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Fc.get(this.auth._key());if(!t){try{const s=await nC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Fc.set(this.auth._key(),t)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nC(r,t){const i=sC(t),s=rC(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function iC(r,t){Fc.set(r._key(),t)}function rC(r){return $i(r._redirectPersistence)}function sC(r){return Gc(tC,r.config.apiKey,r.name)}async function aC(r,t,i=!1){if($n(r.app))return Promise.reject(Jr(r));const s=Ch(r),l=XI(s,t),d=await new eC(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const oC=600*1e3;class lC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!QT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(xi(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(t))}saveEventToCache(t){this.cachedEventUids.add(y0(t)),this.lastProcessedEventTime=Date.now()}}function y0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function QT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function uC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(r);default:return!1}}async function cC(r,t={}){return po(r,"GET","/v1/projects",t)}const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fC=/^https?/;async function dC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await cC(r);for(const i of t)try{if(mC(i))return}catch{}nr(r,"unauthorized-domain")}function mC(r){const t=Tm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!fC.test(i))return!1;if(hC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const pC=new Zl(3e4,6e4);function _0(){const r=Di().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function gC(r){return new Promise((t,i)=>{function s(){_0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_0(),i(xi(r,"network-request-failed"))},timeout:pC.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)s();else{const l=vI("iframefcb");return Di()[l]=()=>{gapi.load?s():i(xi(r,"network-request-failed"))},yI(`${_I()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Qc=null,t})}let Qc=null;function yC(r){return Qc=Qc||gC(r),Qc}const _C=new Zl(5e3,15e3),vC="__/auth/iframe",EC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AC(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?hp(t,EC):`https://${r.config.authDomain}/${vC}`,s={apiKey:t.apiKey,appName:r.name,v:lo},l=bC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Gl(s).slice(1)}`}async function SC(r){const t=await yC(r),i=Di().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:AC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=xi(r,"network-request-failed"),g=Di().setTimeout(()=>{c(d)},_C.get());function v(){Di().clearTimeout(g),l(s)}s.ping(v).then(v,()=>{c(d)})}))}const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,IC=600,CC="_blank",xC="http://localhost";class v0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DC(r,t,i,s=RC,l=IC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const v={...wC,width:s.toString(),height:l.toString(),top:c,left:d},y=We().toLowerCase();i&&(g=RT(y)?CC:i),ST(y)&&(t=t||xC,v.scrollbars="yes");const A=Object.entries(v).reduce((V,[K,W])=>`${V}${K}=${W},`,"");if(uI(y)&&g!=="_self")return NC(t||"",g),new v0(null);const w=window.open(t||"",g,A);pt(w,r,"popup-blocked");try{w.focus()}catch{}return new v0(w)}function NC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const OC="__/auth/handler",VC="emulator/auth/handler",MC=encodeURIComponent("fac");async function E0(r,t,i,s,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:lo,eventId:l};if(t instanceof kT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",sA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof $l){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const v=await r._getAppCheckToken(),y=v?`#${MC}=${encodeURIComponent(v)}`:"";return`${kC(r)}?${Gl(g).slice(1)}${y}`}function kC({config:r}){return r.emulator?hp(r,VC):`https://${r.authDomain}/${OC}`}const Zd="webStorageSupport";class LC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zT,this._completeRedirectFn=aC,this._overrideRedirectResult=iC}async _openPopup(t,i,s,l){ir(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await E0(t,i,s,Tm(),l);return DC(t,c,pp())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await E0(t,i,s,Tm(),l);return PI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ir(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await SC(t),s=new lC(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zd,{type:Zd},l=>{const c=l?.[0]?.[Zd];c!==void 0&&i(!!c),nr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=dC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return NT()||wT()||dp()}}const UC=LC;var T0="@firebase/auth",b0="1.12.0";class jC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function PC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zC(r){$a(new Hs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OT(r)},y=new pI(s,l,c,v);return TI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),$a(new Hs("auth-internal",t=>{const i=Ch(t.getProvider("auth").getImmediate());return(s=>new jC(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(T0,b0,PC(r)),Qr(T0,b0,"esm2020")}const BC=300,qC=D0("authIdTokenMaxAge")||BC;let A0=null;const HC=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>qC)return;const l=i?.token;A0!==l&&(A0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GC(r=L0()){const t=Im(r,"auth");if(t.isInitialized())return t.getImmediate();const i=EI(r,{popupRedirectResolver:UC,persistence:[YI,LI,zT]}),s=D0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=HC(c.toString());OI(i,d,()=>d(i.currentUser)),NI(i,g=>d(g))}}const l=C0("auth");return l&&bI(i,`http://${l}`),i}function FC(){return document.getElementsByTagName("head")?.[0]??document}gI({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=xi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",FC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zC("Browser");const $d=`
  :root {
    --bg-dark: #020617;
    --bg-card: #0f172a;
    --bg-card-hover: #1e293b;
    --primary: #4f46e5;
    --primary-hover: #4338ca;
    --text-main: #f8fafc;
    --text-muted: #94a3b8;
    --success: #10b981;
    --danger: #ef4444;
    --border: #1e293b;
    --radius: 16px;
    --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
  
  body { background-color: var(--bg-dark); color: var(--text-main); height: 100vh; overflow: hidden; }

  /* Layout */
  .app-container { display: flex; height: 100vh; flex-direction: column; }
  .main-content { flex: 1; padding: 20px; overflow-y: auto; position: relative; }
  
  /* Sidebar / Navbar */
  .sidebar { 
    display: none; width: 260px; background: var(--bg-card); 
    border-right: 1px solid var(--border); padding: 20px; 
    flex-direction: column; height: 100%;
  }
  .mobile-nav {
    display: flex; justify-content: space-around; background: rgba(15, 23, 42, 0.95);
    padding: 10px; position: fixed; bottom: 0; left: 0; right: 0; 
    border-top: 1px solid var(--border); backdrop-filter: blur(10px); z-index: 100;
  }

  /* Desktop View */
  @media (min-width: 768px) {
    .app-container { flex-direction: row; }
    .sidebar { display: flex; }
    .mobile-nav { display: none; }
    .main-content { padding: 40px; }
  }

  /* Typography */
  h1 { font-size: 24px; font-weight: 700; background: linear-gradient(to right, #818cf8, #c084fc); -webkit-background-clip: text; color: transparent; }
  h2 { font-size: 20px; font-weight: 600; margin-bottom: 10px; }
  h3 { font-size: 16px; font-weight: 600; }
  p { font-size: 14px; color: var(--text-muted); }

  /* Components */
  .card { 
    background: var(--bg-card); border: 1px solid var(--border); 
    border-radius: var(--radius); padding: 20px; margin-bottom: 20px;
    box-shadow: var(--shadow); transition: transform 0.2s, border-color 0.2s;
  }
  .card:hover { border-color: #312e81; }

  .btn {
    padding: 10px 20px; border-radius: 50px; border: none; cursor: pointer;
    font-weight: 600; display: flex; align-items: center; gap: 8px; font-size: 14px;
    transition: all 0.2s;
  }
  .btn-primary { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3); }
  .btn-primary:hover { background: var(--primary-hover); transform: translateY(-2px); }
  .btn-secondary { background: var(--bg-card-hover); color: var(--text-muted); border: 1px solid var(--border); }
  .btn-secondary:hover { background: var(--border); color: white; }
  .btn-danger { color: var(--text-muted); background: transparent; padding: 8px; }
  .btn-danger:hover { color: var(--danger); background: rgba(239, 68, 68, 0.1); }
  .btn-icon { padding: 8px; border-radius: 50%; background: transparent; color: var(--text-muted); border: none; cursor: pointer; }
  .btn-icon:hover { color: white; background: var(--bg-card-hover); }

  /* Inputs */
  .input-group { margin-bottom: 15px; }
  .input-label { display: block; font-size: 12px; color: var(--text-muted); margin-bottom: 5px; }
  .input-field {
    width: 100%; background: #020617; border: 1px solid var(--border);
    padding: 12px; border-radius: 12px; color: white; outline: none;
    font-size: 14px; transition: border-color 0.2s;
  }
  .input-field:focus { border-color: var(--primary); }

  /* Grid Layouts */
  .grid-3 { display: grid; grid-template-columns: 1fr; gap: 20px; }
  .grid-2 { display: grid; grid-template-columns: 1fr; gap: 20px; }
  @media (min-width: 768px) {
    .grid-3 { grid-template-columns: repeat(3, 1fr); }
    .grid-2 { grid-template-columns: repeat(2, 1fr); }
  }

  /* Nav Items */
  .nav-btn {
    display: flex; align-items: center; gap: 12px; padding: 12px 16px;
    width: 100%; text-align: left; background: transparent; border: none;
    color: var(--text-muted); border-radius: 12px; cursor: pointer; margin-bottom: 5px;
    transition: all 0.2s;
  }
  .nav-btn.active { background: rgba(79, 70, 229, 0.1); color: #818cf8; }
  .nav-btn:hover:not(.active) { background: var(--bg-card-hover); color: white; }

  .mobile-nav-btn {
    flex: 1; display: flex; flex-direction: column; align-items: center;
    background: transparent; border: none; color: var(--text-muted); cursor: pointer; gap: 4px;
  }
  .mobile-nav-btn.active { color: #818cf8; }
  .mobile-nav-btn span { font-size: 10px; }

  /* Modal */
  .modal-overlay {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px);
    display: flex; align-items: center; justify-content: center; z-index: 1000;
    animation: fadeIn 0.2s ease-out;
  }
  .modal-content {
    background: var(--bg-card); width: 90%; max-width: 450px;
    border-radius: 24px; border: 1px solid var(--border); overflow: hidden;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    animation: scaleUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .modal-header { padding: 20px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
  .modal-body { padding: 24px; }

  /* Specific Elements */
  .balance-card {
    background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
    color: white; padding: 24px; border-radius: 24px; position: relative; overflow: hidden;
  }
  .balance-card::after {
    content: ''; position: absolute; top: -50px; right: -50px; width: 150px; height: 150px;
    background: rgba(255,255,255,0.1); border-radius: 50%; filter: blur(40px);
  }
  
  .progress-bar { width: 100%; height: 10px; background: #1e293b; border-radius: 5px; overflow: hidden; margin: 10px 0; }
  .progress-fill { height: 100%; background: linear-gradient(90deg, #3b82f6, #6366f1); transition: width 1s ease-out; }
  
  .transaction-item {
    display: flex; justify-content: space-between; align-items: center;
    padding: 12px; border-bottom: 1px solid var(--border);
  }
  .transaction-item:last-child { border-bottom: none; }
  
  .icon-box {
    width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center;
  }
  .icon-income { background: rgba(16, 185, 129, 0.1); color: var(--success); }
  .icon-expense { background: rgba(239, 68, 68, 0.1); color: var(--danger); }
  
  .badge { padding: 4px 8px; border-radius: 6px; font-size: 12px; background: #1e293b; color: var(--text-muted); border: 1px solid var(--border); }
  
  /* Animations */
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
  @keyframes scaleUp { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
  
  .animate-in { animation: slideUp 0.4s ease-out forwards; }
  .spin { animation: spin 1s linear infinite; }
  @keyframes spin { 100% { transform: rotate(360deg); } }

  /* Login Screen */
  .login-container {
    min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px;
    background: radial-gradient(circle at top center, #1e1b4b 0%, #020617 100%);
  }
  .login-box {
    width: 100%; max-width: 400px; background: var(--bg-card); padding: 40px; 
    border-radius: 24px; border: 1px solid var(--border); text-align: center;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  }
`,kt={Dashboard:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),T.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),T.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),T.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]}),Wallet:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4"}),T.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5"}),T.jsx("path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z"})]}),Target:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"12",cy:"12",r:"10"}),T.jsx("circle",{cx:"12",cy:"12",r:"6"}),T.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),Exchange:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"m16 3 4 4-4 4"}),T.jsx("path",{d:"M20 7H4"}),T.jsx("path",{d:"m8 21-4-4 4-4"}),T.jsx("path",{d:"M4 17h16"})]}),Plus:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M5 12h14"}),T.jsx("path",{d:"M12 5v14"})]}),Trash:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M3 6h18"}),T.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),T.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),Edit:({size:r=20})=>T.jsx("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"})}),Up:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),T.jsx("polyline",{points:"16 7 22 7 22 13"})]}),Down:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),T.jsx("polyline",{points:"16 17 22 17 22 11"})]}),Calendar:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),T.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),T.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),T.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),Card:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),T.jsx("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]}),Cash:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}),T.jsx("circle",{cx:"12",cy:"12",r:"2"}),T.jsx("path",{d:"M6 12h.01M18 12h.01"})]}),Close:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M18 6 6 18"}),T.jsx("path",{d:"m6 6 12 12"})]}),Pie:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),T.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),Search:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("circle",{cx:"11",cy:"11",r:"8"}),T.jsx("path",{d:"m21 21-4.3-4.3"})]}),Loader:({size:r=20})=>T.jsx("svg",{className:"spin",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:T.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),Login:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),T.jsx("polyline",{points:"10 17 15 12 10 7"}),T.jsx("line",{x1:"15",x2:"3",y1:"12",y2:"12"})]}),Logout:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),T.jsx("polyline",{points:"16 17 21 12 16 7"}),T.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),Key:({size:r=20})=>T.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[T.jsx("path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z"}),T.jsx("circle",{cx:"16.5",cy:"7.5",r:".5"})]})},QC={apiKey:"AIzaSyAO7EN4wU33v028vd9pelSyhGibSNGQLU0",authDomain:"mizentiatrack.firebaseapp.com",projectId:"mizentiatrack",storageBucket:"mizentiatrack.firebasestorage.app",messagingSenderId:"1009510331718",appId:"1:1009510331718:web:e8cb1f5acd04a6a5aca147"},KT=k0(QC),Ln=IR(KT),S0=GC(KT),Un=typeof __app_id<"u"?__app_id:"finance-tracker-app",Zn=r=>new Intl.NumberFormat("bn-BD",{style:"currency",currency:"BDT"}).format(r),yp=r=>r?new Date(r).toLocaleDateString("bn-BD",{year:"numeric",month:"long",day:"numeric"}):"";function KC(){const[r,t]=Ve.useState("dashboard"),[i,s]=Ve.useState(localStorage.getItem("finance_access_key")||""),[l,c]=Ve.useState(!1),[d,g]=Ve.useState([]),[v,y]=Ve.useState([]),[A,w]=Ve.useState([]),[V,K]=Ve.useState(!1),[W,et]=Ve.useState(!1),[it,ht]=Ve.useState(!1),[Et,mt]=Ve.useState(!1),[Pt,Ft]=Ve.useState(null);Ve.useEffect(()=>{II(S0).catch($=>console.error("Connection Error:",$));const Y=VI(S0,$=>{$&&c(!0)});return()=>Y()},[]),Ve.useEffect(()=>{if(!i||!l)return;K(!0);const Y=`users/${i}`,$=Xd(za(Ln,"artifacts",Un,Y,"accounts"),D=>{g(D.docs.map(F=>({...F.data(),id:F.id})))}),wt=Xd(za(Ln,"artifacts",Un,Y,"goals"),D=>{y(D.docs.map(F=>({...F.data(),id:F.id})))}),Vt=Xd(BR(za(Ln,"artifacts",Un,Y,"transactions"),qR("date","desc")),D=>{w(D.docs.map(F=>({...F.data(),id:F.id}))),K(!1)});return()=>{$(),wt(),Vt()}},[i,l]);const Lt=Y=>{if(!Y.trim())return;const $=Y.trim().replace(/\s+/g,"-").toLowerCase();localStorage.setItem("finance_access_key",$),s($)},x=()=>{window.confirm("  ?")&&(localStorage.removeItem("finance_access_key"),s(""),g([]),y([]),w([]))},S=async Y=>{try{const $=`users/${i}`;await Yd(za(Ln,"artifacts",Un,$,"transactions"),{...Y,createdAt:jR()});const wt=js(Ln,"artifacts",Un,$,"accounts",Y.accountId),Vt=d.find(D=>D.id===Y.accountId);if(Vt){const D=Number(Y.amount),F=Y.type==="income"?Number(Vt.balance)+D:Number(Vt.balance)-D;await Qd(wt,{balance:F})}et(!1)}catch($){console.error($)}},C=async Y=>{if(window.confirm("  ?"))try{await Kd(js(Ln,"artifacts",Un,`users/${i}`,"transactions",Y.id))}catch($){console.error($)}},M=async Y=>{try{const $=za(Ln,"artifacts",Un,`users/${i}`,"accounts");Pt?await Qd(js(Ln,"artifacts",Un,`users/${i}`,"accounts",Pt.id),Y):await Yd($,Y),ht(!1)}catch($){console.error($)}},O=async Y=>{if(window.confirm("  ?"))try{await Kd(js(Ln,"artifacts",Un,`users/${i}`,"accounts",Y))}catch($){console.error($)}},L=async Y=>{try{const $=za(Ln,"artifacts",Un,`users/${i}`,"goals");Pt?await Qd(js(Ln,"artifacts",Un,`users/${i}`,"goals",Pt.id),Y):await Yd($,Y),mt(!1)}catch($){console.error($)}},R=async Y=>{if(window.confirm("  ?"))try{await Kd(js(Ln,"artifacts",Un,`users/${i}`,"goals",Y))}catch($){console.error($)}},Wt=d.reduce((Y,$)=>Y+Number($.balance),0),he=A.filter(Y=>Y.type==="income").reduce((Y,$)=>Y+Number($.amount),0),H=A.filter(Y=>Y.type==="expense").reduce((Y,$)=>Y+Number($.amount),0);return i?V?T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",background:"#020617",color:"#818cf8"},children:[T.jsx("style",{children:$d}),T.jsx(kt.Loader,{size:48}),T.jsx("p",{style:{marginTop:20},children:"  ..."})]}):T.jsxs(T.Fragment,{children:[T.jsx("style",{children:$d}),T.jsxs("div",{className:"app-container",children:[T.jsxs("aside",{className:"sidebar",children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:40},children:[T.jsx("div",{style:{background:"#4f46e5",padding:8,borderRadius:8,display:"flex"},children:T.jsx(kt.Pie,{size:20,color:"white"})}),T.jsx("span",{style:{fontWeight:"bold",fontSize:20},children:"MoneyTrack"})]}),T.jsxs("nav",{style:{flex:1},children:[T.jsx(kc,{active:r==="dashboard",onClick:()=>t("dashboard"),icon:T.jsx(kt.Dashboard,{}),label:""}),T.jsx(kc,{active:r==="accounts",onClick:()=>t("accounts"),icon:T.jsx(kt.Wallet,{}),label:""}),T.jsx(kc,{active:r==="goals",onClick:()=>t("goals"),icon:T.jsx(kt.Target,{}),label:" (Goals)"}),T.jsx(kc,{active:r==="transactions",onClick:()=>t("transactions"),icon:T.jsx(kt.Exchange,{}),label:""})]})]}),T.jsxs("main",{className:"main-content",children:[T.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:30,flexWrap:"wrap",gap:15},children:[T.jsxs("div",{children:[T.jsx("h1",{children:" "}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginTop:5},children:[T.jsx("span",{style:{width:8,height:8,borderRadius:"50%",background:"#10b981"}}),T.jsxs("p",{style:{margin:0,fontSize:12},children:[": ",T.jsx("span",{style:{color:"#818cf8",fontFamily:"monospace"},children:i})]})]})]}),T.jsxs("div",{style:{display:"flex",gap:10},children:[T.jsxs("button",{className:"btn btn-secondary",onClick:x,children:[T.jsx(kt.Logout,{size:16})," ",T.jsx("span",{className:"hide-mobile",children:" "})]}),T.jsxs("button",{className:"btn btn-primary",onClick:()=>et(!0),children:[T.jsx(kt.Plus,{size:18})," ",T.jsx("span",{className:"hide-mobile",children:"  "})]})]})]}),r==="dashboard"&&T.jsx(XC,{totalBalance:Wt,totalIncome:he,totalExpense:H,accounts:d,goals:v,transactions:A}),r==="accounts"&&T.jsx(JC,{accounts:d,onEdit:Y=>{Ft(Y),ht(!0)},onDelete:O,onAdd:()=>{Ft(null),ht(!0)}}),r==="goals"&&T.jsx(ZC,{goals:v,totalBalance:Wt,onEdit:Y=>{Ft(Y),mt(!0)},onDelete:R,onAdd:()=>{Ft(null),mt(!0)}}),r==="transactions"&&T.jsx($C,{transactions:A,accounts:d,onDelete:C})]}),T.jsxs("div",{className:"mobile-nav",children:[T.jsx(Lc,{active:r==="dashboard",onClick:()=>t("dashboard"),icon:T.jsx(kt.Dashboard,{}),label:"Home"}),T.jsx(Lc,{active:r==="accounts",onClick:()=>t("accounts"),icon:T.jsx(kt.Wallet,{}),label:"Acc"}),T.jsx(Lc,{active:r==="goals",onClick:()=>t("goals"),icon:T.jsx(kt.Target,{}),label:"Goals"}),T.jsx(Lc,{active:r==="transactions",onClick:()=>t("transactions"),icon:T.jsx(kt.Exchange,{}),label:"Trans"})]})]}),W&&T.jsx(WC,{onClose:()=>et(!1),onSave:S,accounts:d}),it&&T.jsx(tx,{onClose:()=>{ht(!1),Ft(null)},onSave:M,initialData:Pt}),Et&&T.jsx(ex,{onClose:()=>{mt(!1),Ft(null)},onSave:L,initialData:Pt})]}):T.jsx(YC,{onLogin:Lt,isReady:l,styles:$d})}const kc=({active:r,onClick:t,icon:i,label:s})=>T.jsxs("button",{className:`nav-btn ${r?"active":""}`,onClick:t,children:[i," ",T.jsx("span",{children:s})]}),Lc=({active:r,onClick:t,icon:i,label:s})=>T.jsxs("button",{className:`mobile-nav-btn ${r?"active":""}`,onClick:t,children:[i," ",T.jsx("span",{children:s})]}),YC=({onLogin:r,isReady:t,styles:i})=>{const[s,l]=Ve.useState("");return T.jsxs(T.Fragment,{children:[T.jsx("style",{children:i}),T.jsx("div",{className:"login-container",children:T.jsxs("div",{className:"login-box animate-in",children:[T.jsx("div",{style:{display:"inline-block",padding:15,background:"#1e293b",borderRadius:20,marginBottom:20,color:"#818cf8"},children:T.jsx(kt.Key,{size:40})}),T.jsx("h1",{children:" "}),T.jsx("p",{style:{marginBottom:30},children:"     "}),T.jsxs("form",{onSubmit:c=>{c.preventDefault(),r(s)},children:[T.jsx("div",{className:"input-group",children:T.jsx("input",{className:"input-field",style:{textAlign:"center",fontSize:18,fontFamily:"monospace"},placeholder:"rakib-wallet",value:s,onChange:c=>l(c.target.value),required:!0})}),T.jsx("button",{type:"submit",disabled:!t,className:"btn btn-primary",style:{width:"100%",justifyContent:"center"},children:t?T.jsxs(T.Fragment,{children:[T.jsx(kt.Login,{size:18}),"  "]}):T.jsxs(T.Fragment,{children:[T.jsx(kt.Loader,{size:18}),"  ..."]})})]})]})})]})},XC=({totalBalance:r,totalIncome:t,totalExpense:i,accounts:s,goals:l,transactions:c})=>T.jsxs("div",{className:"animate-in",style:{display:"flex",flexDirection:"column",gap:25},children:[T.jsxs("div",{className:"grid-3",children:[T.jsxs("div",{className:"balance-card",children:[T.jsx("p",{style:{color:"#c7d2fe",marginBottom:5},children:" "}),T.jsx("h2",{style:{fontSize:32},children:Zn(r)}),T.jsxs("div",{style:{marginTop:15,display:"flex",alignItems:"center",gap:5,fontSize:12,background:"rgba(255,255,255,0.1)",width:"fit-content",padding:"4px 10px",borderRadius:20},children:[T.jsx(kt.Wallet,{size:14})," ",s.length,"  "]})]}),T.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[T.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center",marginBottom:10},children:[T.jsx("div",{className:"icon-box icon-income",children:T.jsx(kt.Up,{})}),T.jsx("p",{children:" "})]}),T.jsx("h2",{style:{color:"#f8fafc"},children:Zn(t)})]}),T.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[T.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center",marginBottom:10},children:[T.jsx("div",{className:"icon-box icon-expense",children:T.jsx(kt.Down,{})}),T.jsx("p",{children:" "})]}),T.jsx("h2",{style:{color:"#f8fafc"},children:Zn(i)})]})]}),T.jsxs("div",{className:"grid-2",children:[T.jsxs("div",{className:"card",children:[T.jsx("h3",{children:" "}),T.jsxs("div",{style:{marginTop:15},children:[c.slice(0,5).map(d=>T.jsxs("div",{className:"transaction-item",children:[T.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[T.jsx("div",{className:`icon-box ${d.type==="income"?"icon-income":"icon-expense"}`,children:d.type==="income"?T.jsx(kt.Up,{size:18}):T.jsx(kt.Down,{size:18})}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:500},children:d.category}),T.jsx("div",{style:{fontSize:12,color:"var(--text-muted)"},children:yp(d.date)})]})]}),T.jsxs("div",{style:{fontWeight:"bold",color:d.type==="income"?"var(--success)":"var(--danger)"},children:[d.type==="income"?"+":"-",Zn(d.amount)]})]},d.id)),c.length===0&&T.jsx("p",{style:{textAlign:"center",padding:20},children:"  "})]})]}),T.jsxs("div",{className:"card",children:[T.jsx("h3",{children:" (Goals)"}),T.jsxs("div",{style:{marginTop:15,display:"flex",flexDirection:"column",gap:15},children:[l.slice(0,3).map(d=>{const g=Math.min(100,Math.round(r/d.target*100));return T.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:15,borderRadius:12},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[T.jsxs("span",{style:{fontWeight:500},children:[d.icon," ",d.title]}),T.jsxs("span",{style:{fontSize:12,color:"var(--text-muted)"},children:[g,"%"]})]}),T.jsx("div",{className:"progress-bar",children:T.jsx("div",{className:"progress-fill",style:{width:`${g}%`}})}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:11,color:"var(--text-muted)"},children:[T.jsxs("span",{children:[": ",Zn(r)]}),T.jsxs("span",{children:[": ",Zn(d.target)]})]})]},d.id)}),l.length===0&&T.jsx("p",{style:{textAlign:"center",padding:20},children:"    "})]})]})]})]}),JC=({accounts:r,onEdit:t,onDelete:i,onAdd:s})=>T.jsxs("div",{className:"animate-in",children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[T.jsx("h2",{children:" "}),T.jsxs("button",{className:"btn btn-primary",onClick:s,children:[T.jsx(kt.Plus,{size:16})," "]})]}),T.jsx("div",{className:"grid-3",children:r.map(l=>T.jsxs("div",{className:"card",style:{position:"relative",overflow:"hidden"},children:[T.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:4,background:"linear-gradient(to bottom, #4f46e5, #ec4899)"}}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[T.jsxs("div",{style:{display:"flex",gap:12},children:[T.jsxs("div",{style:{background:"#1e293b",padding:10,borderRadius:10,color:"#94a3b8"},children:[l.type==="cash"&&T.jsx(kt.Cash,{}),l.type==="bank"&&T.jsx(kt.Card,{}),l.type==="mobile"&&T.jsx(kt.Wallet,{})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:"bold",fontSize:16},children:l.name}),T.jsx("div",{style:{fontSize:11,textTransform:"uppercase",color:"var(--text-muted)",marginTop:2},children:l.type})]})]}),T.jsxs("div",{style:{display:"flex",gap:5},children:[T.jsx("button",{className:"btn-icon",onClick:()=>t(l),children:T.jsx(kt.Edit,{size:16})}),T.jsx("button",{className:"btn-icon",onClick:()=>i(l.id),style:{color:"#ef4444"},children:T.jsx(kt.Trash,{size:16})})]})]}),T.jsxs("div",{style:{marginTop:20},children:[T.jsx("p",{children:" "}),T.jsx("h2",{style:{color:"white"},children:Zn(l.balance)})]})]},l.id))})]}),ZC=({goals:r,totalBalance:t,onEdit:i,onDelete:s,onAdd:l})=>T.jsxs("div",{className:"animate-in",children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:20},children:[T.jsx("h2",{children:" "}),T.jsxs("button",{className:"btn btn-primary",onClick:l,children:[T.jsx(kt.Plus,{size:16}),"  "]})]}),T.jsx("div",{className:"grid-2",children:r.map(c=>{const d=Math.min(100,Math.round(t/c.target*100)),g=Math.max(0,c.target-t);return T.jsxs("div",{className:"card",children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:20},children:[T.jsxs("div",{style:{display:"flex",gap:15,alignItems:"center"},children:[T.jsx("div",{style:{fontSize:32,background:"#1e293b",width:60,height:60,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:15},children:c.icon}),T.jsxs("div",{children:[T.jsx("h3",{style:{fontSize:18},children:c.title}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5,fontSize:13,color:"var(--text-muted)",marginTop:4},children:[T.jsx(kt.Calendar,{size:14})," ",yp(c.deadline)]})]})]}),T.jsxs("div",{style:{display:"flex",gap:5},children:[T.jsx("button",{className:"btn-icon",onClick:()=>i(c),children:T.jsx(kt.Edit,{size:18})}),T.jsx("button",{className:"btn-icon",onClick:()=>s(c.id),style:{color:"#ef4444"},children:T.jsx(kt.Trash,{size:18})})]})]}),T.jsxs("div",{style:{marginBottom:8,display:"flex",justifyContent:"space-between",fontSize:14},children:[T.jsxs("span",{style:{color:"var(--success)"},children:[": ",Zn(t)]}),T.jsxs("span",{style:{color:"var(--text-muted)"},children:[": ",Zn(g)]})]}),T.jsx("div",{className:"progress-bar",style:{height:12},children:T.jsx("div",{className:"progress-fill",style:{width:`${d}%`,display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:5},children:d>10&&T.jsxs("span",{style:{fontSize:9,fontWeight:"bold",color:"white"},children:[d,"%"]})})}),T.jsxs("div",{style:{textAlign:"right",fontSize:12,color:"var(--text-muted)",marginTop:5},children:[": ",Zn(c.target)]})]},c.id)})})]}),$C=({transactions:r,accounts:t,onDelete:i})=>{const[s,l]=Ve.useState(""),c=r.filter(d=>d.description?.toLowerCase().includes(s.toLowerCase())||d.category?.toLowerCase().includes(s.toLowerCase()));return T.jsxs("div",{className:"animate-in",children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,flexWrap:"wrap",gap:10},children:[T.jsx("h2",{children:" "}),T.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:300},children:[T.jsx("div",{style:{position:"absolute",left:10,top:10,color:"var(--text-muted)"},children:T.jsx(kt.Search,{size:16})}),T.jsx("input",{className:"input-field",style:{paddingLeft:35},placeholder:"...",value:s,onChange:d=>l(d.target.value)})]})]}),T.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:T.jsxs("div",{style:{overflowX:"auto"},children:[T.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:600},children:[T.jsx("thead",{children:T.jsxs("tr",{style:{background:"#1e293b",textAlign:"left",fontSize:12,color:"var(--text-muted)",textTransform:"uppercase"},children:[T.jsx("th",{style:{padding:15},children:""}),T.jsx("th",{style:{padding:15},children:""}),T.jsx("th",{style:{padding:15},children:""}),T.jsx("th",{style:{padding:15,textAlign:"right"},children:""}),T.jsx("th",{style:{padding:15,textAlign:"center"},children:""})]})}),T.jsx("tbody",{children:c.map(d=>T.jsxs("tr",{style:{borderBottom:"1px solid var(--border)"},children:[T.jsx("td",{style:{padding:15},children:T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[T.jsx("div",{className:`icon-box ${d.type==="income"?"icon-income":"icon-expense"}`,style:{width:30,height:30},children:d.type==="income"?T.jsx(kt.Up,{size:16}):T.jsx(kt.Down,{size:16})}),T.jsxs("div",{children:[T.jsx("div",{style:{fontWeight:500},children:d.category}),T.jsx("div",{style:{fontSize:12,color:"var(--text-muted)"},children:d.description})]})]})}),T.jsx("td",{style:{padding:15},children:T.jsx("span",{className:"badge",children:t.find(g=>g.id===d.accountId)?.name||"N/A"})}),T.jsx("td",{style:{padding:15,color:"var(--text-muted)",fontSize:14},children:yp(d.date)}),T.jsxs("td",{style:{padding:15,textAlign:"right",fontWeight:"bold",color:d.type==="income"?"var(--success)":"var(--danger)"},children:[d.type==="income"?"+":"-",Zn(d.amount)]}),T.jsx("td",{style:{padding:15,textAlign:"center"},children:T.jsx("button",{className:"btn-icon",onClick:()=>i(d),style:{color:"var(--text-muted)"},children:T.jsx(kt.Trash,{size:16})})})]},d.id))})]}),c.length===0&&T.jsx("div",{style:{padding:30,textAlign:"center",color:"var(--text-muted)"},children:"  "})]})})]})},_p=({children:r,title:t,onClose:i})=>T.jsx("div",{className:"modal-overlay",onClick:i,children:T.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[T.jsxs("div",{className:"modal-header",children:[T.jsx("h3",{children:t}),T.jsx("button",{className:"btn-icon",onClick:i,children:T.jsx(kt.Close,{size:20})})]}),T.jsx("div",{className:"modal-body",children:r})]})}),WC=({onClose:r,onSave:t,accounts:i})=>{const[s,l]=Ve.useState({type:"expense",amount:"",category:"",accountId:i[0]?.id||"",date:new Date().toISOString().split("T")[0],description:""});return T.jsx(_p,{title:" ",onClose:r,children:T.jsxs("form",{onSubmit:c=>{c.preventDefault(),s.amount&&s.accountId&&t(s)},children:[T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10,background:"#020617",padding:4,borderRadius:10,marginBottom:15},children:[T.jsx("button",{type:"button",onClick:()=>l({...s,type:"income"}),style:{background:s.type==="income"?"var(--success)":"transparent",color:s.type==="income"?"white":"var(--text-muted)",border:"none",padding:10,borderRadius:8,cursor:"pointer",fontWeight:600},children:""}),T.jsx("button",{type:"button",onClick:()=>l({...s,type:"expense"}),style:{background:s.type==="expense"?"var(--danger)":"transparent",color:s.type==="expense"?"white":"var(--text-muted)",border:"none",padding:10,borderRadius:8,cursor:"pointer",fontWeight:600},children:""})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:" ()"}),T.jsx("input",{type:"number",className:"input-field",placeholder:"0.00",value:s.amount,onChange:c=>l({...s,amount:c.target.value}),required:!0})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsx("select",{className:"input-field",value:s.accountId,onChange:c=>l({...s,accountId:c.target.value}),children:i.map(c=>T.jsxs("option",{value:c.id,children:[c.name," - ",c.balance]},c.id))})]}),T.jsxs("div",{className:"grid-2",children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsx("input",{type:"text",className:"input-field",placeholder:": ",value:s.category,onChange:c=>l({...s,category:c.target.value}),required:!0})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsx("input",{type:"date",className:"input-field",value:s.date,onChange:c=>l({...s,date:c.target.value}),required:!0})]})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsx("input",{type:"text",className:"input-field",value:s.description,onChange:c=>l({...s,description:c.target.value})})]}),T.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",justifyContent:"center"},children:" "})]})})},tx=({onClose:r,onSave:t,initialData:i})=>{const[s,l]=Ve.useState(i||{name:"",type:"bank",balance:""});return T.jsx(_p,{title:i?" ":" ",onClose:r,children:T.jsxs("form",{onSubmit:c=>{c.preventDefault(),t({...s,balance:Number(s.balance)})},children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsx("input",{type:"text",className:"input-field",placeholder:" ",value:s.name,onChange:c=>l({...s,name:c.target.value}),required:!0})]}),T.jsxs("div",{className:"grid-2",children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsxs("select",{className:"input-field",value:s.type,onChange:c=>l({...s,type:c.target.value}),children:[T.jsx("option",{value:"bank",children:""}),T.jsx("option",{value:"cash",children:""}),T.jsx("option",{value:"mobile",children:" "})]})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsx("input",{type:"number",className:"input-field",value:s.balance,onChange:c=>l({...s,balance:c.target.value}),required:!0})]})]}),T.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",justifyContent:"center"},children:i?"":" "})]})})},ex=({onClose:r,onSave:t,initialData:i})=>{const[s,l]=Ve.useState(i||{title:"",target:"",deadline:"",icon:""});return T.jsx(_p,{title:i?" ":" ",onClose:r,children:T.jsxs("form",{onSubmit:c=>{c.preventDefault(),t({...s,target:Number(s.target)})},children:[T.jsxs("div",{className:"grid-2",style:{gridTemplateColumns:"60px 1fr"},children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsx("input",{type:"text",className:"input-field",style:{textAlign:"center",fontSize:20},value:s.icon,onChange:c=>l({...s,icon:c.target.value})})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsx("input",{type:"text",className:"input-field",value:s.title,onChange:c=>l({...s,title:c.target.value}),required:!0})]})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsx("input",{type:"number",className:"input-field",value:s.target,onChange:c=>l({...s,target:c.target.value}),required:!0})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{className:"input-label",children:""}),T.jsx("input",{type:"date",className:"input-field",value:s.deadline,onChange:c=>l({...s,deadline:c.target.value}),required:!0})]}),T.jsx("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",justifyContent:"center"},children:i?"":" "})]})})};Vb.createRoot(document.getElementById("root")).render(T.jsx(Ve.StrictMode,{children:T.jsx(KC,{})}));
